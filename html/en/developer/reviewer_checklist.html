<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The reviewer’s check list &mdash; Sage Developer&#39;s Guide v7.0</title>
    
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Sage Developer&#39;s Guide v7.0" href="index.html" />
    <link rel="next" title="Running Sage’s doctests" href="doctesting.html" />
    <link rel="prev" title="General Conventions" href="coding_basics.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="doctesting.html" title="Running Sage’s doctests"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="coding_basics.html" title="General Conventions"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="index.html">Developer&#39;s Guide v7.0</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="the-reviewer-s-check-list">
<span id="chapter-review"></span><h1>The reviewer&#8217;s check list<a class="headerlink" href="#the-reviewer-s-check-list" title="Permalink to this headline">¶</a></h1>
<p>All code that goes into Sage is peer-reviewed. Two reasons for this are:</p>
<ul class="simple">
<li>Because a developer cannot think of everything at once;</li>
<li>Because a fresh pair of eyes may spot a mathematical error,
a corner-case in the code, insufficient documentation, a missing
consistency check, etc.</li>
</ul>
<p>Anybody (e.g. you) can do this job for somebody else&#8217;s ticket. This document
lists things that the reviewer must check before deciding that a ticket is
ready for inclusion into Sage.</p>
<ul class="simple">
<li>Do you know what the <strong>trac server</strong> is? If not, <a class="reference internal" href="trac.html#chapter-sage-trac"><em>click here</em></a>.</li>
<li>Do you have a <strong>trac account</strong>? If not, <a class="reference internal" href="trac.html#section-trac-account"><em>click here</em></a>.</li>
</ul>
<p>You can now begin the review by reading the diff code.</p>
<p><strong>Read the diff:</strong> the diff (i.e. the ticket&#8217;s content) can be obtained by
clicking on the (green) branch&#8217;s name that appears on the trac ticket. If that
name appears in red (see <a class="reference internal" href="trac.html#section-trac-fields"><em>The Ticket Fields</em></a>) you can say so in a comment
and set the ticket to <tt class="docutils literal"><span class="pre">needs_work</span></tt> (see <a class="reference internal" href="trac.html#section-trac-ticket-status"><em>The status of a ticket</em></a>).</p>
<p><strong>Build the code:</strong> while you read the code, you can <a class="reference internal" href="walk_through.html#section-walkthrough-make"><em>rebuild Sage with the
new code</em></a>. If you do not know how to <strong>download the
code</strong>, <a class="reference internal" href="git_trac.html#section-git-trac-review"><em>click here</em></a> (with git trac) or
<a class="reference internal" href="manual_git.html#section-git-checkout"><em>here</em></a> (git only).</p>
<p>The following should generally be checked while reading and testing the code:</p>
<ul class="simple">
<li><strong>The purpose</strong>: Does the code address the ticket&#8217;s stated aim? Can it
introduce any new problems? Does testing the new or fixed functionality
with a variety of input, not just the examples in the documentation,
give expected and robust output (and no unexpected errors or crashes)?</li>
<li><strong>User documentation</strong>: Is the use of the new code clear to a user? Are all
mathematical notions involved standard, or is there explanation (or a link
to one) provided? Can he/she find the new code easily if he/she needs it?</li>
<li><strong>Code documentation</strong>: Is the code sufficiently commented so that a developer
does not have to wonder what exactly it does?</li>
<li><strong>Conventions</strong>: Does the code respect <a class="reference internal" href="coding_basics.html#chapter-code-basics"><em>Sage&#8217;s conventions</em></a>? <a class="reference internal" href="coding_in_python.html#chapter-python"><em>Python&#8217;s convention</em></a>?
<a class="reference internal" href="coding_in_cython.html#chapter-cython"><em>Cython&#8217;s convention</em></a>?</li>
<li><strong>Doctest coverage</strong>: Do all functions contain doctests? Use <tt class="docutils literal"><span class="pre">sage</span> <span class="pre">-coverage</span>
<span class="pre">&lt;files&gt;</span></tt> to check it. Are all aspects of the new/modified methods and classes
tested (see <a class="reference internal" href="coding_basics.html#section-doctest-writing"><em>Writing Testable Examples</em></a>)?</li>
<li><strong>Bugfixes</strong>: If the ticket contains a bugfix, does it add a doctest
illustrating that the bug has been fixed? This new doctest should contain the
ticket number, for example <tt class="docutils literal"><span class="pre">See</span> <span class="pre">:trac:`12345`</span></tt>.</li>
<li><strong>Speedup</strong>: Can the ticket make any existing code slower? if the ticket
claims to speed up some computation, does the ticket contain code examples to
illustrate the claim? The ticket should explain how the speedup is achieved.</li>
<li><strong>Manuals</strong>: Does the reference manual build without errors (check both html
and pdf)? See <a class="reference internal" href="sage_manuals.html#chapter-sage-manuals"><em>The Sage Manuals</em></a> to learn how to build the manuals.</li>
<li><strong>Run the tests</strong>: Do all doctests pass without errors? Unrelated components
of Sage may be affected by the change. Check all tests in the whole library,
including &#8220;long&#8221; doctests (this can be done with <tt class="docutils literal"><span class="pre">make</span> <span class="pre">ptestlong</span></tt>) and any
optional doctests related to the functionality. See <a class="reference internal" href="doctesting.html#chapter-doctesting"><em>Running Sage&#8217;s doctests</em></a>
for more information.</li>
</ul>
<p>You are now ready to change the ticket&#8217;s status (see
<a class="reference internal" href="trac.html#section-trac-ticket-status"><em>The status of a ticket</em></a>):</p>
<ul class="simple">
<li><strong>positive review</strong>: If the answers to the questions above and other
reasonable questions are <em>&#8220;yes&#8221;</em>, you can set the ticket to
<tt class="docutils literal"><span class="pre">positive_review</span></tt>. Add your full name to the &#8220;reviewer&#8221; field (see
<a class="reference internal" href="trac.html#section-trac-fields"><em>The Ticket Fields</em></a>).</li>
<li><strong>needs_work</strong>: If something is not as it should, write a list of all points
that need to be addressed in a comment and change the ticket&#8217;s status to
<tt class="docutils literal"><span class="pre">needs_work</span></tt>.</li>
<li><strong>needs_info</strong>: If something is not clear to you and prevents you from going
further with the review, ask your question and set the ticket&#8217;s status to
<tt class="docutils literal"><span class="pre">needs_info</span></tt>.</li>
<li>If you <strong>do not know what to do</strong>, for instance if you don&#8217;t feel experienced
enough to take a final decision, explain what you already did in a comment and
ask if someone else could take a look.</li>
</ul>
<p><strong>Reviewer&#8217;s commit</strong>: if you can fix the issues yourself, you may make a commit
in your own name and mark the commit as a reviewer&#8217;s patch. To learn how
<a class="reference internal" href="git_trac.html#section-git-trac-push"><em>click here</em></a> (git trac) or <a class="reference internal" href="manual_git.html#section-git-push"><em>here</em></a> (git only). This contribution must also be reviewed, for
example by the author of the original patch.</p>
<p>For more advice on reviewing, see <a class="reference internal" href="#wsblog" id="id1">[WSblog]</a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>&#8220;The perfect is the enemy of the good&#8221;</p>
<p class="last">The point of the review is to ensure that the Sage code guidelines
are followed and that the the implementation is mathematically
correct. Please refrain from additional feature requests or
open-ended discussion about alternative implementations. If you
want the patch written differently, your suggestion should be a
clear and actionable request.</p>
</div>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="wsblog" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[WSblog]</a></td><td>William Stein, How to Referee Sage Trac Tickets,
<a class="reference external" href="http://sagemath.blogspot.com/2010/10/how-to-referee-sage-trac-tickets.html">http://sagemath.blogspot.com/2010/10/how-to-referee-sage-trac-tickets.html</a>
(Caveat: mercurial was replaced with git)</td></tr>
</tbody>
</table>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="coding_basics.html"
                                  title="previous chapter">General Conventions</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="doctesting.html"
                                  title="next chapter">Running Sage&#8217;s doctests</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/reviewer_checklist.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <!-- The shading of the "Go" button should be consistent -->
                <!-- with the colour of the header and footer. See the file -->
                <!-- doc/common/themes/sage/theme.conf for colours used by -->
                <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="doctesting.html" title="Running Sage’s doctests"
             >next</a> |</li>
        <li class="right" >
          <a href="coding_basics.html" title="General Conventions"
             >previous</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="index.html">Developer&#39;s Guide v7.0</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>