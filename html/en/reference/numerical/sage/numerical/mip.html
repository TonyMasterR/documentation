<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Mixed Integer Linear Programming &mdash; Sage Reference Manual v6.8: Numerical Optimization</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.8',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.8: Numerical Optimization" href="../../index.html" />
    <link rel="next" title="Linear Functions and Constraints" href="linear_functions.html" />
    <link rel="prev" title="Knapsack Problems" href="knapsack.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="linear_functions.html" title="Linear Functions and Constraints"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="knapsack.html" title="Knapsack Problems"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Numerical Optimization</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="mixed-integer-linear-programming">
<span id="sage-numerical-mip"></span><h1>Mixed Integer Linear Programming<a class="headerlink" href="#mixed-integer-linear-programming" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.numerical.mip"></span><p>This module implements classes and methods for the efficient solving of Linear
Programs (<a class="reference external" href="http://en.wikipedia.org/wiki/Linear_programming">LP</a>) and Mixed
Integer Linear Programs (<a class="reference external" href="http://en.wikipedia.org/wiki/Mixed_integer_linear_programming">MILP</a>).</p>
<p><em>Do you want to understand how the simplex method works?</em> See the
<a class="reference internal" href="interactive_simplex_method.html#module-sage.numerical.interactive_simplex_method" title="sage.numerical.interactive_simplex_method"><tt class="xref py py-mod docutils literal"><span class="pre">interactive_simplex_method</span></tt></a> module (educational purposes
only)</p>
<div class="section" id="definition">
<h2>Definition<a class="headerlink" href="#definition" title="Permalink to this headline">¶</a></h2>
<p>A linear program (<a class="reference external" href="http://en.wikipedia.org/wiki/Linear_programming">LP</a>)
is an <a class="reference external" href="http://en.wikipedia.org/wiki/Optimization_%28mathematics%29">optimization problem</a>
in the following form</p>
<div class="math">
\[\max \{ c^T x \;|\; A x \leq b, x \geq 0 \}\]</div>
<p>with given <span class="math">\(A \in \mathbb{R}^{m,n}\)</span>, <span class="math">\(b \in \mathbb{R}^m\)</span>,
<span class="math">\(c \in \mathbb{R}^n\)</span> and unknown <span class="math">\(x \in \mathbb{R}^{n}\)</span>.
If some or all variables in the vector <span class="math">\(x\)</span> are restricted over
the integers <span class="math">\(\mathbb{Z}\)</span>, the problem is called mixed integer
linear program (<a class="reference external" href="http://en.wikipedia.org/wiki/Mixed_integer_linear_programming">MILP</a>).
A wide variety of problems in optimization
can be formulated in this standard form. Then, solvers are
able to calculate a solution.</p>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Imagine you want to solve the following linear system of three equations:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(w_0 + w_1 + w_2 - 14 w_3 = 0\)</span></li>
<li><span class="math">\(w_1 + 2 w_2 - 8 w_3 = 0\)</span></li>
<li><span class="math">\(2 w_2 - 3 w_3 = 0\)</span></li>
</ul>
</div></blockquote>
<p>and this additional inequality:</p>
<blockquote>
<div><ul class="simple">
<li><span class="math">\(w_0 - w_1 - w_2 \geq 0\)</span></li>
</ul>
</div></blockquote>
<p>where all <span class="math">\(w_i \in \mathbb{Z}^+\)</span>. You know that the trivial solution is <span class="math">\(w_i=0\)</span>,
but what is the first non-trivial one with <span class="math">\(w_3 \geq 1\)</span>?</p>
<p>A mixed integer linear program can give you an answer:</p>
<blockquote>
<div><ol class="arabic simple">
<li>You have to create an instance of <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram" title="sage.numerical.mip.MixedIntegerLinearProgram"><tt class="xref py py-class docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></a> and
&#8211; in our case &#8211; specify that it is a minimization.</li>
<li>Create a dictionary <tt class="docutils literal"><span class="pre">w</span></tt> of integer variables <tt class="docutils literal"><span class="pre">w</span></tt> via <tt class="docutils literal"><span class="pre">w</span> <span class="pre">=</span>
<span class="pre">p.new_variable(integer=True)</span></tt> (note that <strong>by default all variables are
non-negative</strong>, cf <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.new_variable" title="sage.numerical.mip.MixedIntegerLinearProgram.new_variable"><tt class="xref py py-meth docutils literal"><span class="pre">new_variable()</span></tt></a>).</li>
<li>Add those three equations as equality constraints via
<a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.add_constraint" title="sage.numerical.mip.MixedIntegerLinearProgram.add_constraint"><tt class="xref py py-meth docutils literal"><span class="pre">add_constraint</span></tt></a>.</li>
<li>Also add the inequality constraint.</li>
<li>Add an inequality constraint <span class="math">\(w_3 \geq 1\)</span> to exclude the trivial solution.</li>
<li>By default, all variables are non-negative. We remove that constraint
via <tt class="docutils literal"><span class="pre">p.set_min(variable,</span> <span class="pre">None)</span></tt>, see <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_min" title="sage.numerical.mip.MixedIntegerLinearProgram.set_min"><tt class="xref py py-meth docutils literal"><span class="pre">set_min</span></tt></a>.</li>
<li>Specify the objective function via <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_objective" title="sage.numerical.mip.MixedIntegerLinearProgram.set_objective"><tt class="xref py py-meth docutils literal"><span class="pre">set_objective</span></tt></a>.
In our case that is just <span class="math">\(w_3\)</span>. If it
is a pure constraint satisfaction problem, specify it as <tt class="docutils literal"><span class="pre">None</span></tt>.</li>
<li>To check if everything is set up correctly, you can print the problem via
<a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.show" title="sage.numerical.mip.MixedIntegerLinearProgram.show"><tt class="xref py py-meth docutils literal"><span class="pre">show</span></tt></a>.</li>
<li><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.solve" title="sage.numerical.mip.MixedIntegerLinearProgram.solve"><tt class="xref py py-meth docutils literal"><span class="pre">Solve</span></tt></a> it and print the solution.</li>
</ol>
</div></blockquote>
<p>The following example shows all these steps:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">maximization</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> <span class="n">solver</span> <span class="o">=</span> <span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">w</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="mi">14</span><span class="o">*</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="mi">8</span><span class="o">*</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">w</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">w</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="p">[</span> <span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span> <span class="p">]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">w</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Minimization:</span>
<span class="go">   x_3</span>
<span class="go">Constraints:</span>
<span class="go">  0.0 &lt;= x_0 + x_1 + x_2 - 14.0 x_3 &lt;= 0.0</span>
<span class="go">  0.0 &lt;= x_1 + 2.0 x_2 - 8.0 x_3 &lt;= 0.0</span>
<span class="go">  0.0 &lt;= 2.0 x_2 - 3.0 x_3 &lt;= 0.0</span>
<span class="go">  - x_0 + x_1 + x_2 &lt;= 0.0</span>
<span class="go">  - x_3 &lt;= -1.0</span>
<span class="go">Variables:</span>
<span class="go">  x_0 is an integer variable (min=0.0, max=+oo)</span>
<span class="go">  x_1 is an integer variable (min=-oo, max=+oo)</span>
<span class="go">  x_2 is an integer variable (min=-oo, max=+oo)</span>
<span class="go">  x_3 is an integer variable (min=-oo, max=+oo)</span>
<span class="gp">sage: </span><span class="k">print</span> <span class="s">&#39;Objective Value:&#39;</span><span class="p">,</span> <span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="go">Objective Value: 2.0</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">w</span><span class="p">)</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span>
<span class="go">....:     print &#39;w_%s = %s&#39; % (i, int(round(v)))</span>
<span class="go">w_0 = 15</span>
<span class="go">w_1 = 10</span>
<span class="go">w_2 = 3</span>
<span class="go">w_3 = 2</span>
</pre></div>
</div>
<p>Different backends compute with different base fields, for example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&#39;GLPK&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Real Double Field</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="mf">0.5</span> <span class="o">+</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">0.5 + 1.5*x_0</span>

<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&#39;ppl&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="mf">0.5</span> <span class="o">+</span> <span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">1/2 + 3/2*x_0</span>
</pre></div>
</div>
</div>
<div class="section" id="linear-variables-and-expressions">
<h2>Linear Variables and Expressions<a class="headerlink" href="#linear-variables-and-expressions" title="Permalink to this headline">¶</a></h2>
<p>The underlying linear programming backends always work with matrices
where each column corresponds to a linear variable. These variables
can be accessed using the <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.gen" title="sage.numerical.mip.MixedIntegerLinearProgram.gen"><tt class="xref py py-meth docutils literal"><span class="pre">MixedIntegerLinearProgram.gen()</span></tt></a> method
or by calling with a dictionary variable index to coefficient:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">mip</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="mi">5</span> <span class="o">+</span> <span class="n">mip</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">mip</span><span class="o">.</span><span class="n">gen</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">5 + x_0 + 2*x_1</span>
<span class="gp">sage: </span><span class="n">mip</span><span class="p">({</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">})</span>
<span class="go">5 + x_0 + 2*x_1</span>
</pre></div>
</div>
<p>However, this alone is often not convenient to construct a linear
program. To make your code more readable, you can construct
<a class="reference internal" href="#sage.numerical.mip.MIPVariable" title="sage.numerical.mip.MIPVariable"><tt class="xref py py-class docutils literal"><span class="pre">MIPVariable</span></tt></a> objects that can be arbitrarily named and
indexed. Internally, this is then translated back to the <span class="math">\(x_i\)</span>
variables. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">mip</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span>
<span class="go">MIPVariable of dimension 1.</span>
<span class="gp">sage: </span><span class="mi">5</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="go">5 + x_0 + 2*x_1</span>
</pre></div>
</div>
<p>Indices can be any object, not necessarily integers. Multi-indices are
also allowed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">,</span> <span class="n">QQ</span><span class="p">]</span>
<span class="go">x_2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="s">&#39;string&#39;</span><span class="p">,</span> <span class="n">QQ</span><span class="p">]</span> <span class="o">-</span> <span class="mi">7</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">x_2 - 7*x_3</span>
<span class="gp">sage: </span><span class="n">mip</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">Variables:</span>
<span class="go">  a[1] = x_0 is a continuous variable (min=-oo, max=+oo)</span>
<span class="go">  b[3] = x_1 is a continuous variable (min=-oo, max=+oo)</span>
<span class="go">  a[(4, &#39;string&#39;, Rational Field)] = x_2 is a continuous variable (min=-oo, max=+oo)</span>
<span class="go">  b[2] = x_3 is a continuous variable (min=-oo, max=+oo)</span>
</pre></div>
</div>
</div>
<div class="section" id="index-of-functions-and-methods">
<h2>Index of functions and methods<a class="headerlink" href="#index-of-functions-and-methods" title="Permalink to this headline">¶</a></h2>
<p>Below are listed the methods of <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram" title="sage.numerical.mip.MixedIntegerLinearProgram"><tt class="xref py py-class docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></a>. This module
also implements the <a class="reference internal" href="#sage.numerical.mip.MIPSolverException" title="sage.numerical.mip.MIPSolverException"><tt class="xref py py-class docutils literal"><span class="pre">MIPSolverException</span></tt></a> exception, as well as the
<a class="reference internal" href="#sage.numerical.mip.MIPVariable" title="sage.numerical.mip.MIPVariable"><tt class="xref py py-class docutils literal"><span class="pre">MIPVariable</span></tt></a> class.</p>
<table border="1" class="contentstable docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.add_constraint" title="sage.numerical.mip.MixedIntegerLinearProgram.add_constraint"><tt class="xref py py-meth docutils literal"><span class="pre">add_constraint()</span></tt></a></td>
<td>Adds a constraint to the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.base_ring" title="sage.numerical.mip.MixedIntegerLinearProgram.base_ring"><tt class="xref py py-meth docutils literal"><span class="pre">base_ring()</span></tt></a></td>
<td>Return the base ring</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.constraints" title="sage.numerical.mip.MixedIntegerLinearProgram.constraints"><tt class="xref py py-meth docutils literal"><span class="pre">constraints()</span></tt></a></td>
<td>Returns a list of constraints, as 3-tuples</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_backend" title="sage.numerical.mip.MixedIntegerLinearProgram.get_backend"><tt class="xref py py-meth docutils literal"><span class="pre">get_backend()</span></tt></a></td>
<td>Returns the backend instance used</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_max" title="sage.numerical.mip.MixedIntegerLinearProgram.get_max"><tt class="xref py py-meth docutils literal"><span class="pre">get_max()</span></tt></a></td>
<td>Returns the maximum value of a variable</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_min" title="sage.numerical.mip.MixedIntegerLinearProgram.get_min"><tt class="xref py py-meth docutils literal"><span class="pre">get_min()</span></tt></a></td>
<td>Returns the minimum value of a variable</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_values" title="sage.numerical.mip.MixedIntegerLinearProgram.get_values"><tt class="xref py py-meth docutils literal"><span class="pre">get_values()</span></tt></a></td>
<td>Return values found by the previous call to <tt class="docutils literal"><span class="pre">solve()</span></tt></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.is_binary" title="sage.numerical.mip.MixedIntegerLinearProgram.is_binary"><tt class="xref py py-meth docutils literal"><span class="pre">is_binary()</span></tt></a></td>
<td>Tests whether the variable <tt class="docutils literal"><span class="pre">e</span></tt> is binary</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.is_integer" title="sage.numerical.mip.MixedIntegerLinearProgram.is_integer"><tt class="xref py py-meth docutils literal"><span class="pre">is_integer()</span></tt></a></td>
<td>Tests whether the variable is an integer</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.is_real" title="sage.numerical.mip.MixedIntegerLinearProgram.is_real"><tt class="xref py py-meth docutils literal"><span class="pre">is_real()</span></tt></a></td>
<td>Tests whether the variable is real</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.linear_constraints_parent" title="sage.numerical.mip.MixedIntegerLinearProgram.linear_constraints_parent"><tt class="xref py py-meth docutils literal"><span class="pre">linear_constraints_parent()</span></tt></a></td>
<td>Return the parent for all linear constraints</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.linear_function" title="sage.numerical.mip.MixedIntegerLinearProgram.linear_function"><tt class="xref py py-meth docutils literal"><span class="pre">linear_function()</span></tt></a></td>
<td>Construct a new linear function</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.linear_functions_parent" title="sage.numerical.mip.MixedIntegerLinearProgram.linear_functions_parent"><tt class="xref py py-meth docutils literal"><span class="pre">linear_functions_parent()</span></tt></a></td>
<td>Return the parent for all linear functions</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.new_variable" title="sage.numerical.mip.MixedIntegerLinearProgram.new_variable"><tt class="xref py py-meth docutils literal"><span class="pre">new_variable()</span></tt></a></td>
<td>Returns an instance of <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> associated</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.number_of_constraints" title="sage.numerical.mip.MixedIntegerLinearProgram.number_of_constraints"><tt class="xref py py-meth docutils literal"><span class="pre">number_of_constraints()</span></tt></a></td>
<td>Returns the number of constraints assigned so far</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.number_of_variables" title="sage.numerical.mip.MixedIntegerLinearProgram.number_of_variables"><tt class="xref py py-meth docutils literal"><span class="pre">number_of_variables()</span></tt></a></td>
<td>Returns the number of variables used so far</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.polyhedron" title="sage.numerical.mip.MixedIntegerLinearProgram.polyhedron"><tt class="xref py py-meth docutils literal"><span class="pre">polyhedron()</span></tt></a></td>
<td>Returns the polyhedron defined by the Linear Program</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.remove_constraint" title="sage.numerical.mip.MixedIntegerLinearProgram.remove_constraint"><tt class="xref py py-meth docutils literal"><span class="pre">remove_constraint()</span></tt></a></td>
<td>Removes a constraint from self</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.remove_constraints" title="sage.numerical.mip.MixedIntegerLinearProgram.remove_constraints"><tt class="xref py py-meth docutils literal"><span class="pre">remove_constraints()</span></tt></a></td>
<td>Remove several constraints</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_binary" title="sage.numerical.mip.MixedIntegerLinearProgram.set_binary"><tt class="xref py py-meth docutils literal"><span class="pre">set_binary()</span></tt></a></td>
<td>Sets a variable or a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> as binary</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_integer" title="sage.numerical.mip.MixedIntegerLinearProgram.set_integer"><tt class="xref py py-meth docutils literal"><span class="pre">set_integer()</span></tt></a></td>
<td>Sets a variable or a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> as integer</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_max" title="sage.numerical.mip.MixedIntegerLinearProgram.set_max"><tt class="xref py py-meth docutils literal"><span class="pre">set_max()</span></tt></a></td>
<td>Sets the maximum value of a variable</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_min" title="sage.numerical.mip.MixedIntegerLinearProgram.set_min"><tt class="xref py py-meth docutils literal"><span class="pre">set_min()</span></tt></a></td>
<td>Sets the minimum value of a variable</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_objective" title="sage.numerical.mip.MixedIntegerLinearProgram.set_objective"><tt class="xref py py-meth docutils literal"><span class="pre">set_objective()</span></tt></a></td>
<td>Sets the objective of the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_problem_name" title="sage.numerical.mip.MixedIntegerLinearProgram.set_problem_name"><tt class="xref py py-meth docutils literal"><span class="pre">set_problem_name()</span></tt></a></td>
<td>Sets the name of the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_real" title="sage.numerical.mip.MixedIntegerLinearProgram.set_real"><tt class="xref py py-meth docutils literal"><span class="pre">set_real()</span></tt></a></td>
<td>Sets a variable or a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> as real</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.show" title="sage.numerical.mip.MixedIntegerLinearProgram.show"><tt class="xref py py-meth docutils literal"><span class="pre">show()</span></tt></a></td>
<td>Displays the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt> in a human-readable</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.solve" title="sage.numerical.mip.MixedIntegerLinearProgram.solve"><tt class="xref py py-meth docutils literal"><span class="pre">solve()</span></tt></a></td>
<td>Solves the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.solver_parameter" title="sage.numerical.mip.MixedIntegerLinearProgram.solver_parameter"><tt class="xref py py-meth docutils literal"><span class="pre">solver_parameter()</span></tt></a></td>
<td>Return or define a solver parameter</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.sum" title="sage.numerical.mip.MixedIntegerLinearProgram.sum"><tt class="xref py py-meth docutils literal"><span class="pre">sum()</span></tt></a></td>
<td>Efficiently computes the sum of a sequence of LinearFunction elements</td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.write_lp" title="sage.numerical.mip.MixedIntegerLinearProgram.write_lp"><tt class="xref py py-meth docutils literal"><span class="pre">write_lp()</span></tt></a></td>
<td>Write the linear program as a LP file</td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.write_mps" title="sage.numerical.mip.MixedIntegerLinearProgram.write_mps"><tt class="xref py py-meth docutils literal"><span class="pre">write_mps()</span></tt></a></td>
<td>Write the linear program as a MPS file</td>
</tr>
</tbody>
</table>
<p>AUTHORS:</p>
<ul class="simple">
<li>Risan (2012/02): added extension for exact computation</li>
</ul>
<dl class="exception">
<dt id="sage.numerical.mip.MIPSolverException">
<em class="property">exception </em><tt class="descclassname">sage.numerical.mip.</tt><tt class="descname">MIPSolverException</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MIPSolverException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/library/exceptions.html#exceptions.RuntimeError" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">exceptions.RuntimeError</span></tt></a></p>
<p>Exception raised when the solver fails.</p>
</dd></dl>

<dl class="class">
<dt id="sage.numerical.mip.MIPVariable">
<em class="property">class </em><tt class="descclassname">sage.numerical.mip.</tt><tt class="descname">MIPVariable</tt><a class="headerlink" href="#sage.numerical.mip.MIPVariable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/element.html#sage.structure.element.Element" title="(in Sage Reference Manual: Basic Structures v6.8)"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.Element</span></tt></a></p>
<p><tt class="docutils literal"><span class="pre">MIPVariable</span></tt> is a variable used by the class
<tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You should not instantiate this class directly. Instead, use
<a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.new_variable" title="sage.numerical.mip.MixedIntegerLinearProgram.new_variable"><tt class="xref py py-meth docutils literal"><span class="pre">MixedIntegerLinearProgram.new_variable()</span></tt></a>.</p>
</div>
<dl class="method">
<dt id="sage.numerical.mip.MIPVariable.items">
<tt class="descname">items</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MIPVariable.items" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the pairs (keys,value) contained in the dictionary.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
<span class="go">[(0, x_0), (1, x_1)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MIPVariable.keys">
<tt class="descname">keys</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MIPVariable.keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the keys already defined in the dictionary.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[0, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MIPVariable.set_max">
<tt class="descname">set_max</tt><big>(</big><em>max</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MIPVariable.set_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an upper bound on the variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">max</span></tt> &#8211; an upper bound, or <tt class="docutils literal"><span class="pre">None</span></tt> to mean that the variable is
unbounded.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_max</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">4.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MIPVariable.set_min">
<tt class="descname">set_min</tt><big>(</big><em>min</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MIPVariable.set_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a lower bound on the variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">min</span></tt> &#8211; a lower bound, or <tt class="docutils literal"><span class="pre">None</span></tt> to mean that the variable is
unbounded.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">0.0</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">4.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MIPVariable.values">
<tt class="descname">values</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MIPVariable.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the symbolic variables associated to the current dictionary.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">values</span><span class="p">()</span>
<span class="go">[x_0, x_1]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.numerical.mip.MIPVariableParent">
<em class="property">class </em><tt class="descclassname">sage.numerical.mip.</tt><tt class="descname">MIPVariableParent</tt><a class="headerlink" href="#sage.numerical.mip.MIPVariableParent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/parent.html#sage.structure.parent.Parent" title="(in Sage Reference Manual: Basic Structures v6.8)"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.parent.Parent</span></tt></a></p>
<p>Parent for <a class="reference internal" href="#sage.numerical.mip.MIPVariable" title="sage.numerical.mip.MIPVariable"><tt class="xref py py-class docutils literal"><span class="pre">MIPVariable</span></tt></a>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This class is for internal use. You should not instantiate it
yourself. Use <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.new_variable" title="sage.numerical.mip.MixedIntegerLinearProgram.new_variable"><tt class="xref py py-meth docutils literal"><span class="pre">MixedIntegerLinearProgram.new_variable()</span></tt></a>
to generate mip variables.</p>
</div>
<dl class="attribute">
<dt id="sage.numerical.mip.MIPVariableParent.Element">
<tt class="descname">Element</tt><a class="headerlink" href="#sage.numerical.mip.MIPVariableParent.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.numerical.mip.MIPVariable" title="sage.numerical.mip.MIPVariable"><tt class="xref py py-class docutils literal"><span class="pre">MIPVariable</span></tt></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram">
<em class="property">class </em><tt class="descclassname">sage.numerical.mip.</tt><tt class="descname">MixedIntegerLinearProgram</tt><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/sage_object.html#sage.structure.sage_object.SageObject" title="(in Sage Reference Manual: Basic Structures v6.8)"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.sage_object.SageObject</span></tt></a></p>
<p>The <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt> class is the link between Sage, linear
programming (LP) and mixed integer programming (MIP) solvers.</p>
<p>A Mixed Integer Linear Program (MILP) consists of variables, linear
constraints on these variables, and an objective function which is to be
maximised or minimised under these constraints.</p>
<p>See the <a class="reference external" href="https://en.wikipedia.org/wiki/Linear_programming">Wikipedia article Linear_programming</a> for further information on linear
programming, and the <a class="reference internal" href="#module-sage.numerical.mip" title="sage.numerical.mip"><tt class="xref py py-mod docutils literal"><span class="pre">MILP</span> <span class="pre">module</span></tt></a> for its use in
Sage.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">solver</span></tt> &#8211; selects a solver:</p>
<ul>
<li><p class="first">GLPK (<tt class="docutils literal"><span class="pre">solver=&quot;GLPK&quot;</span></tt>). See the <a class="reference external" href="http://www.gnu.org/software/glpk/">GLPK</a> web site.</p>
</li>
<li><p class="first">COIN Branch and Cut (<tt class="docutils literal"><span class="pre">solver=&quot;Coin&quot;</span></tt>). See the <a class="reference external" href="http://www.coin-or.org">COIN-OR</a> web site.</p>
</li>
<li><p class="first">CPLEX (<tt class="docutils literal"><span class="pre">solver=&quot;CPLEX&quot;</span></tt>). See the <a class="reference external" href="http://www.ilog.com/products/cplex/">CPLEX</a> web site.</p>
</li>
<li><dl class="first docutils">
<dt>Gurobi (<tt class="docutils literal"><span class="pre">solver=&quot;Gurobi&quot;</span></tt>). See the <a class="reference external" href="http://www.gurobi.com/">Gurobi</a></dt>
<dd><p class="first last">web site.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>CVXOPT (<tt class="docutils literal"><span class="pre">solver=&quot;CVXOPT&quot;</span></tt>). See the <a class="reference external" href="http://www.cvxopt.org/">CVXOPT</a></dt>
<dd><p class="first last">web site.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>PPL (<tt class="docutils literal"><span class="pre">solver=&quot;PPL&quot;</span></tt>). See the <a class="reference external" href="http://bugseng.com/products/ppl">PPL</a></dt>
<dd><p class="first last">web site.</p>
</dd>
</dl>
</li>
<li><p class="first">If <tt class="docutils literal"><span class="pre">solver=None</span></tt> (default), the default solver is used (see
<a class="reference internal" href="backends/generic_backend.html#sage.numerical.backends.generic_backend.default_mip_solver" title="sage.numerical.backends.generic_backend.default_mip_solver"><tt class="xref py py-func docutils literal"><span class="pre">default_mip_solver()</span></tt></a>)</p>
</li>
</ul>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">maximization</span></tt></p>
<ul class="simple">
<li>When set to <tt class="docutils literal"><span class="pre">True</span></tt> (default), the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>
is defined as a maximization.</li>
<li>When set to <tt class="docutils literal"><span class="pre">False</span></tt>, the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt> is
defined as a minimization.</li>
</ul>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">constraint_generation</span></tt> &#8211; Only used when <tt class="docutils literal"><span class="pre">solver=None</span></tt>.</p>
<ul class="simple">
<li>When set to <tt class="docutils literal"><span class="pre">True</span></tt>, after solving the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>,
it is possible to add a constraint, and then solve it again.
The effect is that solvers that do not support this feature will not be
used.</li>
<li>Defaults to <tt class="docutils literal"><span class="pre">False</span></tt>.</li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">All LP variables are non-negative by default (see <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.new_variable" title="sage.numerical.mip.MixedIntegerLinearProgram.new_variable"><tt class="xref py py-meth docutils literal"><span class="pre">new_variable()</span></tt></a>
and <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_min" title="sage.numerical.mip.MixedIntegerLinearProgram.set_min"><tt class="xref py py-meth docutils literal"><span class="pre">set_min()</span></tt></a>).</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="backends/generic_backend.html#sage.numerical.backends.generic_backend.default_mip_solver" title="sage.numerical.backends.generic_backend.default_mip_solver"><tt class="xref py py-func docutils literal"><span class="pre">default_mip_solver()</span></tt></a> &#8211; Returns/Sets the default MIP solver.</li>
</ul>
</div>
<p>EXAMPLES:</p>
<p>Computation of a maximum stable set in Petersen&#8217;s graph:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">graphs</span><span class="o">.</span><span class="n">PetersenGraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">maximization</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">binary</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="nb">sum</span><span class="p">([</span><span class="n">b</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">g</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="p">(</span><span class="n">u</span><span class="p">,</span><span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="n">g</span><span class="o">.</span><span class="n">edges</span><span class="p">(</span><span class="n">labels</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
<span class="go">....:     p.add_constraint(b[u] + b[v], max=1)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">(</span><span class="n">objective_only</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">4.0</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Check that <a class="reference external" href="http://trac.sagemath.org/16497">trac ticket #16497</a> is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.numerical.mip</span> <span class="kn">import</span> <span class="n">MixedIntegerLinearProgram</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="nb">type</span> <span class="ow">in</span> <span class="p">[</span><span class="s">&quot;binary&quot;</span><span class="p">,</span> <span class="s">&quot;integer&quot;</span><span class="p">]:</span>
<span class="go">....:     k = 3</span>
<span class="go">....:     items = [1/5, 1/3, 2/3, 3/4, 5/7]</span>
<span class="go">....:     maximum=1</span>
<span class="go">....:     p=MixedIntegerLinearProgram()</span>
<span class="go">....:     box=p.new_variable(nonnegative=True, **{type:True})</span>
<span class="go">....:     for b in range(k):</span>
<span class="go">....:          p.add_constraint(p.sum([items[i]*box[i,b] for i in range(len(items))]) &lt;= maximum)</span>
<span class="go">....:     for i in range(len(items)):</span>
<span class="go">....:         p.add_constraint(p.sum([box[i,b] for b in range(k)]) == 1)</span>
<span class="go">....:     p.set_objective(None)</span>
<span class="go">....:     _ = p.solve()</span>
<span class="go">....:     box=p.get_values(box)</span>
<span class="go">....:     print(all(v in ZZ for v in box.values()))</span>
<span class="go">True</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.add_constraint">
<tt class="descname">add_constraint</tt><big>(</big><em>linear_function</em>, <em>max=None</em>, <em>min=None</em>, <em>name=None</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.add_constraint" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a constraint to the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">linear_function</span></tt> &#8211; Four different types of arguments are
admissible:</p>
<blockquote>
<div><ul class="simple">
<li>A linear function. In this case, one of the arguments
<tt class="docutils literal"><span class="pre">min</span></tt> or <tt class="docutils literal"><span class="pre">max</span></tt> has to be specified.</li>
<li>A linear constraint of the form <tt class="docutils literal"><span class="pre">A</span> <span class="pre">&lt;=</span> <span class="pre">B</span></tt>, <tt class="docutils literal"><span class="pre">A</span> <span class="pre">&gt;=</span> <span class="pre">B</span></tt>,
<tt class="docutils literal"><span class="pre">A</span> <span class="pre">&lt;=</span> <span class="pre">B</span> <span class="pre">&lt;=</span> <span class="pre">C</span></tt>, <tt class="docutils literal"><span class="pre">A</span> <span class="pre">&gt;=</span> <span class="pre">B</span> <span class="pre">&gt;=</span> <span class="pre">C</span></tt> or <tt class="docutils literal"><span class="pre">A</span> <span class="pre">==</span> <span class="pre">B</span></tt>.</li>
<li>A vector-valued linear function, see
<a class="reference internal" href="linear_tensor.html#module-sage.numerical.linear_tensor" title="sage.numerical.linear_tensor"><tt class="xref py py-mod docutils literal"><span class="pre">linear_tensor</span></tt></a>. In this case, one
of the arguments <tt class="docutils literal"><span class="pre">min</span></tt> or <tt class="docutils literal"><span class="pre">max</span></tt> has to be specified.</li>
<li>An (in)equality of vector-valued linear functions, that
is, elements of the space of linear functions tensored
with a vector space. See
<a class="reference internal" href="linear_tensor_constraints.html#module-sage.numerical.linear_tensor_constraints" title="sage.numerical.linear_tensor_constraints"><tt class="xref py py-mod docutils literal"><span class="pre">linear_tensor_constraints</span></tt></a> for
details.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">max</span></tt> &#8211; constant or <tt class="docutils literal"><span class="pre">None</span></tt> (default). An upper bound on
the linear function. This must be a numerical value for
scalar linear functions, or a vector for vector-valued
linear functions. Not allowed if the <tt class="docutils literal"><span class="pre">linear_function</span></tt>
argument is a symbolic (in)-equality.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">min</span></tt> &#8211; constant or <tt class="docutils literal"><span class="pre">None</span></tt> (default). A lower bound on
the linear function. This must be a numerical value for
scalar linear functions, or a vector for vector-valued
linear functions. Not allowed if the <tt class="docutils literal"><span class="pre">linear_function</span></tt>
argument is a symbolic (in)-equality.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">name</span></tt> &#8211; A name for the constraint.</p>
</li>
</ul>
<p>To set a lower and/or upper bound on the variables use the methods
<tt class="docutils literal"><span class="pre">set_min</span></tt> and/or <tt class="docutils literal"><span class="pre">set_max</span></tt> of <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>.</p>
<p>EXAMPLE:</p>
<p>Consider the following linear program:</p>
<div class="highlight-python"><div class="highlight"><pre>Maximize:
  x + 5 * y
Constraints:
  x + 0.2 y       &lt;= 4
  1.5 * x + 3 * y &lt;= 4
Variables:
  x is Real (min = 0, max = None)
  y is Real (min = 0, max = None)
</pre></div>
</div>
<p>It can be solved as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">maximization</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>     <span class="c"># rel tol 1e-15</span>
<span class="go">6.666666666666666</span>
</pre></div>
</div>
<p>There are two different ways to add the constraint
<tt class="docutils literal"><span class="pre">x[5]</span> <span class="pre">+</span> <span class="pre">3*x[7]</span> <span class="pre">&lt;=</span> <span class="pre">x[6]</span> <span class="pre">+</span> <span class="pre">3</span></tt> to a <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>.</p>
<p>The first one consists in giving <tt class="docutils literal"><span class="pre">add_constraint</span></tt> this
very expression:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>The second (slightly more efficient) one is to use the
arguments <tt class="docutils literal"><span class="pre">min</span></tt> or <tt class="docutils literal"><span class="pre">max</span></tt>, which can only be numerical
values:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">-</span> <span class="n">x</span><span class="p">[</span><span class="mi">6</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>One can also define double-bounds or equality using symbols
<tt class="docutils literal"><span class="pre">&lt;=</span></tt>, <tt class="docutils literal"><span class="pre">&gt;=</span></tt> and <tt class="docutils literal"><span class="pre">==</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">==</span> <span class="n">x</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">&lt;=</span> <span class="n">x</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="mi">27</span><span class="p">)</span>
</pre></div>
</div>
<p>Using this notation, the previous program can be written as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">maximization</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mf">0.2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>     <span class="c"># rel tol 1e-15</span>
<span class="go">6.666666666666666</span>
</pre></div>
</div>
<p>The two constraints can alse be combined into a single
vector-valued constraint:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">maximization</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">f_vec</span> <span class="o">=</span> <span class="n">vector</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">])</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">vector</span><span class="p">([</span><span class="mf">0.2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span> <span class="o">*</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>  <span class="n">f_vec</span>
<span class="go">(1.0, 1.5)*x_0 + (0.2, 3.0)*x_1</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">f_vec</span><span class="p">,</span> <span class="nb">max</span><span class="o">=</span><span class="n">vector</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>     <span class="c"># rel tol 1e-15</span>
<span class="go">6.666666666666666</span>
</pre></div>
</div>
<p>Instead of specifying the maximum in the optional <tt class="docutils literal"><span class="pre">max</span></tt>
argument, we can also use (in)equality notation for
vector-valued linear functions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f_vec</span> <span class="o">&lt;=</span> <span class="mi">4</span>    <span class="c"># constant rhs becomes vector</span>
<span class="go">(1.0, 1.5)*x_0 + (0.2, 3.0)*x_1 &lt;= (4.0, 4.0)</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">maximization</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">f_vec</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>     <span class="c"># rel tol 1e-15</span>
<span class="go">6.666666666666666</span>
</pre></div>
</div>
<p>Finally, one can use the matrix * <a class="reference internal" href="#sage.numerical.mip.MIPVariable" title="sage.numerical.mip.MIPVariable"><tt class="xref py py-class docutils literal"><span class="pre">MIPVariable</span></tt></a>
notation to write vector-valued linear functions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.5</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]]);</span>  <span class="n">m</span>
<span class="go">[ 1.00000000000000 0.200000000000000]</span>
<span class="go">[ 1.50000000000000  3.00000000000000]</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">maximization</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">m</span> <span class="o">*</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>     <span class="c"># rel tol 1e-15</span>
<span class="go">6.666666666666666</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Complex constraints:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span> <span class="o">=</span> <span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span> <span class="n">b</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="mi">15</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="o">*</span><span class="n">b</span><span class="p">[</span><span class="mi">8</span><span class="p">]</span> <span class="o">+</span> <span class="mi">9</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  -2.0 x_0 - x_1 &lt;= 9.0</span>
<span class="go">Variables:</span>
<span class="go">  x_0 is a continuous variable (min=0.0, max=+oo)</span>
<span class="go">  x_1 is a continuous variable (min=0.0, max=+oo)</span>
</pre></div>
</div>
<p>Empty constraint:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="nb">sum</span><span class="p">([]),</span><span class="nb">min</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>Min/Max are numerical</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">min and max arguments are required to be constants</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="n">v</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="nb">max</span> <span class="o">=</span> <span class="n">v</span><span class="p">[</span><span class="mi">6</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">min and max arguments are required to be constants</span>
</pre></div>
</div>
<p>Do not add redundant elements (notice only one copy of each constraint is added):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">lp</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&quot;GLPK&quot;</span><span class="p">,</span> <span class="n">check_redundant</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="n">lp</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">lp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="n">lp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nb">min</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">lp</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  1.0 &lt;= x_0 - x_1</span>
<span class="go">Variables:</span>
<span class="go">  x_0 is a continuous variable (min=0.0, max=+oo)</span>
<span class="go">  x_1 is a continuous variable (min=0.0, max=+oo)</span>
</pre></div>
</div>
<p>We check for constant multiples of constraints as well:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="n">lp</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">lp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">lp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nb">min</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">lp</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  1.0 &lt;= x_0 - x_1</span>
<span class="go">Variables:</span>
<span class="go">  x_0 is a continuous variable (min=0.0, max=+oo)</span>
<span class="go">  x_1 is a continuous variable (min=0.0, max=+oo)</span>
</pre></div>
</div>
<p>But if the constant multiple is negative, we should add it anyway (once):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="n">lp</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">lp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">lp</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="nb">min</span><span class="o">=-</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">lp</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  1.0 &lt;= x_0 - x_1</span>
<span class="go">  -2.0 &lt;= -2.0 x_0 + 2.0 x_1 </span>
<span class="go">Variables:</span>
<span class="go">  x_0 is a continuous variable (min=0.0, max=+oo)</span>
<span class="go">  x_1 is a continuous variable (min=0.0, max=+oo)</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Catch <tt class="docutils literal"><span class="pre">True</span></tt> / <tt class="docutils literal"><span class="pre">False</span></tt> as INPUT (<a class="reference external" href="http://trac.sagemath.org/13646">trac ticket #13646</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">argument must be a linear function or constraint, got True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.base_ring">
<tt class="descname">base_ring</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.base_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the base ring.</p>
<p>OUTPUT:</p>
<p>A ring. The coefficients that the chosen solver supports.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&#39;GLPK&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Real Double Field</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&#39;ppl&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.constraints">
<tt class="descname">constraints</tt><big>(</big><em>indices=None</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of constraints, as 3-tuples.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">indices</span></tt> &#8211; select which constraint(s) to return</p>
<blockquote>
<div><ul class="simple">
<li>If <tt class="docutils literal"><span class="pre">indices</span> <span class="pre">=</span> <span class="pre">None</span></tt>, the method returns the list of all the
constraints.</li>
<li>If <tt class="docutils literal"><span class="pre">indices</span></tt> is an integer <span class="math">\(i\)</span>, the method returns constraint
<span class="math">\(i\)</span>.</li>
<li>If <tt class="docutils literal"><span class="pre">indices</span></tt> is a list of integers, the method returns the list
of the corresponding constraints.</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>OUTPUT:</p>
<p>Each constraint is returned as a triple <tt class="docutils literal"><span class="pre">lower_bound,</span> <span class="pre">(indices,</span>
<span class="pre">coefficients),</span> <span class="pre">upper_bound</span></tt>.  For each of those entries, the
corresponding linear function is the one associating to variable
<tt class="docutils literal"><span class="pre">indices[i]</span></tt> the coefficient <tt class="docutils literal"><span class="pre">coefficients[i]</span></tt>, and <span class="math">\(0\)</span> to all the
others.</p>
<p><tt class="docutils literal"><span class="pre">lower_bound</span></tt> and <tt class="docutils literal"><span class="pre">upper_bound</span></tt> are numerical values.</p>
<p>EXAMPLE:</p>
<p>First, let us define a small LP:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>To obtain the list of all constraints:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">constraints</span><span class="p">()</span>          <span class="c"># not tested</span>
<span class="go">[(1.0, ([1, 0], [-1.0, 1.0]), 4.0), (1.0, ([2, 0], [-2.0, 1.0]), None)]</span>
</pre></div>
</div>
<p>Or constraint <span class="math">\(0\)</span> only:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">constraints</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>         <span class="c"># not tested</span>
<span class="go">(1.0, ([1, 0], [-1.0, 1.0]), 4.0)</span>
</pre></div>
</div>
<p>A list of constraints containing only <span class="math">\(1\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">constraints</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>       <span class="c"># not tested</span>
<span class="go">[(1.0, ([2, 0], [-2.0, 1.0]), None)]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>As the ordering of the variables in each constraint depends on the
solver used, we define a short function reordering it before it is
printed. The output would look the same without this function applied:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">def</span> <span class="nf">reorder_constraint</span><span class="p">((</span><span class="n">lb</span><span class="p">,(</span><span class="n">ind</span><span class="p">,</span><span class="n">coef</span><span class="p">),</span><span class="n">ub</span><span class="p">)):</span>
<span class="go">....:    d = dict(zip(ind, coef))</span>
<span class="go">....:    ind.sort()</span>
<span class="go">....:    return (lb, (ind, [d[i] for i in ind]), ub)</span>
</pre></div>
</div>
<p>Running the examples from above, reordering applied:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span> <span class="o">=</span> <span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">reorder_constraint</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">constraints</span><span class="p">()))</span>
<span class="go">[(1.0, ([0, 1], [1.0, -1.0]), 4.0), (1.0, ([0, 2], [1.0, -2.0]), None)]</span>
<span class="gp">sage: </span><span class="n">reorder_constraint</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">constraints</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">(1.0, ([0, 1], [1.0, -1.0]), 4.0)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">reorder_constraint</span><span class="p">,</span><span class="n">p</span><span class="o">.</span><span class="n">constraints</span><span class="p">([</span><span class="mi">1</span><span class="p">])))</span>
<span class="go">[(1.0, ([0, 2], [1.0, -2.0]), None)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.gen">
<tt class="descname">gen</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the linear variable <span class="math">\(x_i\)</span>.</p>
<p>OUTPUT:</p>
<blockquote>
<div>sage: mip = MixedIntegerLinearProgram()
sage: mip.gen(0)
x_0
sage: [mip.gen(i) for i in range(10)]
[x_0, x_1, x_2, x_3, x_4, x_5, x_6, x_7, x_8, x_9]</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.get_backend">
<tt class="descname">get_backend</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the backend instance used.</p>
<p>This might be useful when access to additional functions provided by
the backend is needed.</p>
<p>EXAMPLE:</p>
<p>This example uses the simplex algorthm and prints information:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_backend</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">solver_parameter</span><span class="p">(</span><span class="s">&quot;simplex_or_intopt&quot;</span><span class="p">,</span> <span class="s">&quot;simplex_only&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">solver_parameter</span><span class="p">(</span><span class="s">&quot;verbosity_simplex&quot;</span><span class="p">,</span> <span class="s">&quot;GLP_MSG_ALL&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>  <span class="c"># rel tol 1e-5</span>
<span class="go">GLPK Simplex Optimizer, v4.55</span>
<span class="go">2 rows, 2 columns, 4 non-zeros</span>
<span class="go">*     0: obj =   7.000000000e+00  infeas =  0.000e+00 (0)</span>
<span class="go">*     2: obj =   9.400000000e+00  infeas =  0.000e+00 (0)</span>
<span class="go">OPTIMAL LP SOLUTION FOUND</span>
<span class="go">9.4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.get_max">
<tt class="descname">get_max</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the maximum value of a variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">v</span></tt> &#8211; a variable.</li>
</ul>
<p>OUTPUT:</p>
<p>Maximum value of the variable, or <tt class="docutils literal"><span class="pre">None</span></tt> if the variable has no upper
bound.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_max</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">6.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.get_min">
<tt class="descname">get_min</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimum value of a variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">v</span></tt> &#8211; a variable</li>
</ul>
<p>OUTPUT:</p>
<p>Minimum value of the variable, or <tt class="docutils literal"><span class="pre">None</span></tt> if the variable has no lower
bound.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">0.0</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">6.0</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.get_values">
<tt class="descname">get_values</tt><big>(</big><em>*lists</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return values found by the previous call to <tt class="docutils literal"><span class="pre">solve()</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li>Any instance of <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> (or one of its elements),
or lists of them.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>Each instance of <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> is replaced by a dictionary
containing the numerical values found for each
corresponding variable in the instance.</li>
<li>Each element of an instance of a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> is replaced
by its corresponding numerical value.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">While a variable may be declared as binary or integer, its value as
returned by the solver is of type <tt class="docutils literal"><span class="pre">float</span></tt>.</p>
</div>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">y</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="go">6.0</span>
</pre></div>
</div>
<p>To return  the optimal value of <tt class="docutils literal"><span class="pre">y[2,9]</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>To get a dictionary identical to <tt class="docutils literal"><span class="pre">x</span></tt> containing optimal
values for the corresponding variables</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x_sol</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x_sol</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">[3, 5]</span>
</pre></div>
</div>
<p>Obviously, it also works with variables of higher dimension:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">y_sol</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>We could also have tried</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">[</span><span class="n">x_sol</span><span class="p">,</span> <span class="n">y_sol</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">[</span><span class="n">x_sol</span><span class="p">,</span> <span class="n">y_sol</span><span class="p">]</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">get_values</span><span class="p">([</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.is_binary">
<tt class="descname">is_binary</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.is_binary" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether the variable <tt class="docutils literal"><span class="pre">e</span></tt> is binary. Variables are real by
default.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">e</span></tt> &#8211; A variable (not a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt>, but one of its elements.)</li>
</ul>
<p>OUTPUT:</p>
<p><tt class="docutils literal"><span class="pre">True</span></tt> if the variable <tt class="docutils literal"><span class="pre">e</span></tt> is binary; <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">is_binary</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_binary</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">is_binary</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.is_integer">
<tt class="descname">is_integer</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.is_integer" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether the variable is an integer. Variables are real by
default.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">e</span></tt> &#8211; A variable (not a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt>, but one of its elements.)</li>
</ul>
<p>OUTPUT:</p>
<p><tt class="docutils literal"><span class="pre">True</span></tt> if the variable <tt class="docutils literal"><span class="pre">e</span></tt> is an integer; <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">is_integer</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_integer</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">is_integer</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.is_real">
<tt class="descname">is_real</tt><big>(</big><em>e</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.is_real" title="Permalink to this definition">¶</a></dt>
<dd><p>Tests whether the variable is real.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">e</span></tt> &#8211; A variable (not a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt>, but one of its elements.)</li>
</ul>
<p>OUTPUT:</p>
<p><tt class="docutils literal"><span class="pre">True</span></tt> if the variable is real; <tt class="docutils literal"><span class="pre">False</span></tt> otherwise.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">is_real</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_binary</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">is_real</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_real</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">is_real</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.linear_constraints_parent">
<tt class="descname">linear_constraints_parent</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.linear_constraints_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the parent for all linear constraints</p>
<p>See <a class="reference internal" href="linear_functions.html#module-sage.numerical.linear_functions" title="sage.numerical.linear_functions"><tt class="xref py py-mod docutils literal"><span class="pre">linear_functions</span></tt></a> for more
details.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">linear_constraints_parent</span><span class="p">()</span>
<span class="go">Linear constraints over Real Double Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.linear_function">
<tt class="descname">linear_function</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.linear_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a new linear function</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">linear_function</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">5</span><span class="p">})</span>
<span class="go">3*x_1 + 5*x_4</span>
</pre></div>
</div>
<p>This is equivalent to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">5</span><span class="p">})</span>
<span class="go">3*x_1 + 5*x_4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.linear_functions_parent">
<tt class="descname">linear_functions_parent</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.linear_functions_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the parent for all linear functions</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">linear_functions_parent</span><span class="p">()</span>
<span class="go">Linear functions over Real Double Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.new_variable">
<tt class="descname">new_variable</tt><big>(</big><em>real=False</em>, <em>binary=False</em>, <em>integer=False</em>, <em>nonnegative=None</em>, <em>name=''</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.new_variable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new MIPVariable</p>
<p>A new variable <tt class="docutils literal"><span class="pre">x</span></tt> is defined by:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>It behaves exactly as a usual dictionary would. It can use any key
argument you may like, as <tt class="docutils literal"><span class="pre">x[5]</span></tt> or <tt class="docutils literal"><span class="pre">x[&quot;b&quot;]</span></tt>, and has methods
<tt class="docutils literal"><span class="pre">items()</span></tt> and <tt class="docutils literal"><span class="pre">keys()</span></tt>.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_min" title="sage.numerical.mip.MixedIntegerLinearProgram.set_min"><tt class="xref py py-meth docutils literal"><span class="pre">set_min()</span></tt></a>, <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_min" title="sage.numerical.mip.MixedIntegerLinearProgram.get_min"><tt class="xref py py-meth docutils literal"><span class="pre">get_min()</span></tt></a> &#8211; set/get the lower bound of a
variable. Note that by default, all variables are non-negative.</li>
<li><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_max" title="sage.numerical.mip.MixedIntegerLinearProgram.set_max"><tt class="xref py py-meth docutils literal"><span class="pre">set_max()</span></tt></a>, <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_max" title="sage.numerical.mip.MixedIntegerLinearProgram.get_max"><tt class="xref py py-meth docutils literal"><span class="pre">get_max()</span></tt></a> &#8211; set/get the upper bound of a
variable.</li>
</ul>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">binary,</span> <span class="pre">integer,</span> <span class="pre">real</span></tt> &#8211; boolean. Set one of these
arguments to <tt class="docutils literal"><span class="pre">True</span></tt> to ensure that the variable gets the
corresponding type.</li>
<li><tt class="docutils literal"><span class="pre">nonnegative</span></tt> &#8211; boolean. Whether the variable should be assumed to
be nonnegative. Rather useless for the binary type.</li>
<li><tt class="docutils literal"><span class="pre">name</span></tt> &#8211; string. Associates a name to the variable. This
is only useful when exporting the linear program to a file
using <tt class="docutils literal"><span class="pre">write_mps</span></tt> or <tt class="docutils literal"><span class="pre">write_lp</span></tt>, and has no other
effect.</li>
</ul>
<p>OUTPUT:</p>
<p>A new instance of <a class="reference internal" href="#sage.numerical.mip.MIPVariable" title="sage.numerical.mip.MIPVariable"><tt class="xref py py-class docutils literal"><span class="pre">MIPVariable</span></tt></a> associated to the
current <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram" title="sage.numerical.mip.MixedIntegerLinearProgram"><tt class="xref py py-class docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></a>.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre>   sage: p = MixedIntegerLinearProgram()

To define two dictionaries of variables, the first being
of real type, and the second of integer type ::

   sage: x = p.new_variable(real=True, nonnegative=True)
   sage: y = p.new_variable(integer=True, nonnegative=True)
   sage: p.add_constraint(x[2] + y[3,5], max=2)
   sage: p.is_integer(x[2])
   False
   sage: p.is_integer(y[3,5])
   True
</pre></div>
</div>
<p>An exception is raised when two types are supplied</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span> <span class="n">integer</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Exactly one of the available types has to be True</span>
</pre></div>
</div>
<p>Unbounded variables:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">integer</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">8</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  x_0 + x_1 &lt;= 8.0</span>
<span class="go">  - x_2 + x_3 &lt;= 0.0</span>
<span class="go">Variables:</span>
<span class="go">  x_0 is a continuous variable (min=-oo, max=+oo)</span>
<span class="go">  x_1 is a continuous variable (min=-oo, max=+oo)</span>
<span class="go">  x_2 is an integer variable (min=-oo, max=+oo)</span>
<span class="go">  x_3 is an integer variable (min=-oo, max=+oo)</span>
</pre></div>
</div>
<p>On the Sage command line, generator syntax is accepted as a
shorthand for generating new variables with default
(<tt class="docutils literal"><span class="pre">nonnegative=False</span></tt>) settings:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">mip</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">mip</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">z</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">10</span><span class="p">)</span> 
<span class="gp">sage: </span><span class="n">mip</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  x[0] + y[1] + z[2] &lt;= 10.0</span>
<span class="go">Variables:</span>
<span class="go">  x[0] = x_0 is a continuous variable (min=-oo, max=+oo)</span>
<span class="go">  y[1] = x_1 is a continuous variable (min=-oo, max=+oo)</span>
<span class="go">  z[2] = x_2 is a continuous variable (min=-oo, max=+oo)</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Default behaviour (<a class="reference external" href="http://trac.sagemath.org/15521">trac ticket #15521</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">0.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.number_of_constraints">
<tt class="descname">number_of_constraints</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.number_of_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of constraints assigned so far.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_constraints</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.number_of_variables">
<tt class="descname">number_of_variables</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.number_of_variables" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of variables used so far.</p>
<p>Note that this is backend-dependent, i.e. we count solver&#8217;s
variables rather than user&#8217;s variables. An example of the latter
can be seen below: Gurobi converts double inequalities,
i.e. inequalities like <span class="math">\(m &lt;= c^T x &lt;= M\)</span>, with <span class="math">\(m&lt;M\)</span>, into
equations, by adding extra variables: <span class="math">\(c^T x + y = M\)</span>, <span class="math">\(0 &lt;= y
&lt;= M-m\)</span>.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_variables</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_variables</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&quot;glpk&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_variables</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&quot;gurobi&quot;</span><span class="p">)</span>   <span class="c"># optional - Gurobi</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>  <span class="c"># optional - Gurobi</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_variables</span><span class="p">()</span>                          <span class="c"># optional - Gurobi</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.polyhedron">
<tt class="descname">polyhedron</tt><big>(</big><em>**kwds</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.polyhedron" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the polyhedron defined by the Linear Program.</p>
<p>INPUT:</p>
<p>All arguments given to this method are forwarded to the constructor of
the <a class="reference external" href="../../../geometry/sage/geometry/polyhedron/constructor.html#sage.geometry.polyhedron.constructor.Polyhedron" title="(in Sage Reference Manual: Geometry v6.8)"><tt class="xref py py-func docutils literal"><span class="pre">Polyhedron()</span></tt></a> class.</p>
<p>OUTPUT:</p>
<p>A <a class="reference external" href="../../../geometry/sage/geometry/polyhedron/constructor.html#sage.geometry.polyhedron.constructor.Polyhedron" title="(in Sage Reference Manual: Geometry v6.8)"><tt class="xref py py-func docutils literal"><span class="pre">Polyhedron()</span></tt></a> object whose <span class="math">\(i\)</span>-th variable represents the <span class="math">\(i\)</span>-th
variable of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The polyhedron is built from the variables stored by the LP solver
(i.e. the output of <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.show" title="sage.numerical.mip.MixedIntegerLinearProgram.show"><tt class="xref py py-meth docutils literal"><span class="pre">show()</span></tt></a>). While they usually match the ones
created explicitly when defining the LP, a solver like Gurobi has
been known to introduce additional variables to store constraints of
the type <tt class="docutils literal"><span class="pre">lower_bound</span> <span class="pre">&lt;=</span> <span class="pre">linear_function</span> <span class="pre">&lt;=</span> <span class="pre">upper</span> <span class="pre">bound</span></tt>. You
should be fine if you did not install Gurobi or if you do not use it
as a solver, but keep an eye on the number of variables in the
polyhedron, or on the output of <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.show" title="sage.numerical.mip.MixedIntegerLinearProgram.show"><tt class="xref py py-meth docutils literal"><span class="pre">show()</span></tt></a>. Just in case.</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference external" href="../../../geometry/sage/geometry/polyhedron/base.html#sage.geometry.polyhedron.base.Polyhedron_base.to_linear_program" title="(in Sage Reference Manual: Geometry v6.8)"><tt class="xref py py-meth docutils literal"><span class="pre">to_linear_program()</span></tt></a>
&#8211; return the <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram" title="sage.numerical.mip.MixedIntegerLinearProgram"><tt class="xref py py-class docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></a> object associated
with a <a class="reference external" href="../../../geometry/sage/geometry/polyhedron/constructor.html#sage.geometry.polyhedron.constructor.Polyhedron" title="(in Sage Reference Manual: Geometry v6.8)"><tt class="xref py py-func docutils literal"><span class="pre">Polyhedron()</span></tt></a> object.</p>
</div>
<p>EXAMPLES:</p>
<p>A LP on two variables:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">polyhedron</span><span class="p">();</span> <span class="n">P</span>
<span class="go">A 2-dimensional polyhedron in QQ^2 defined as the convex hull of 4 vertices</span>
</pre></div>
</div>
<p>3-D Polyhedron:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">polyhedron</span><span class="p">();</span> <span class="n">P</span>
<span class="go">A 3-dimensional polyhedron in QQ^3 defined as the convex hull of 8 vertices</span>
</pre></div>
</div>
<p>An empty polyhedron:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">polyhedron</span><span class="p">();</span> <span class="n">P</span>
<span class="go">The empty polyhedron in QQ^3</span>
</pre></div>
</div>
<p>An unbounded polyhedron:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;z&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">polyhedron</span><span class="p">();</span> <span class="n">P</span>
<span class="go">A 3-dimensional polyhedron in QQ^3 defined as the convex hull of 3 vertices and 3 rays</span>
</pre></div>
</div>
<p>A square (see <a class="reference external" href="http://trac.sagemath.org/14395">trac ticket #14395</a>)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span> <span class="n">y</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mi">1</span> <span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">polyhedron</span><span class="p">()</span>
<span class="go">A 2-dimensional polyhedron in QQ^2 defined as the convex hull of 4 vertices</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.remove_constraint">
<tt class="descname">remove_constraint</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.remove_constraint" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a constraint from self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> &#8211; Index of the constraint to remove.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  x_0 + x_1 &lt;= 10.0</span>
<span class="go">  x_0 - x_1 &lt;= 0.0</span>
<span class="go">  x_0 &lt;= 4.0</span>
<span class="gp">...</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">remove_constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  x_0 + x_1 &lt;= 10.0</span>
<span class="go">  x_0 &lt;= 4.0</span>
<span class="gp">...</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_constraints</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.remove_constraints">
<tt class="descname">remove_constraints</tt><big>(</big><em>constraints</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.remove_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove several constraints.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">constraints</span></tt> &#8211; an iterable containing the indices of the rows to remove.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  x_0 + x_1 &lt;= 10.0</span>
<span class="go">  x_0 - x_1 &lt;= 0.0</span>
<span class="go">  x_0 &lt;= 4.0</span>
<span class="gp">...</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">remove_constraints</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>

<span class="go">Constraints:</span>
<span class="go">  x_0 &lt;= 4.0</span>
<span class="gp">...</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_constraints</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
<p>When checking for redundant constraints, make sure you remove only
the constraints that were actually added. Problems could arise if
you have a function that builds lps non-interactively, but it fails
to check whether adding a constraint actually increases the number of
constraints. The function might later try to remove constraints that
are not actually there:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">check_redundant</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_constraints</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">remove_constraints</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">9</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">IndexError</span>: <span class="n">pop index out of range</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">remove_constraint</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_constraints</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
<p>We should now be able to add the old constraint back in:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">for</span> <span class="n">each</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span> <span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">number_of_constraints</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.set_binary">
<tt class="descname">set_binary</tt><big>(</big><em>ee</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_binary" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a variable or a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> as binary.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ee</span></tt> &#8211; An instance of <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> or one of
its elements.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>With the following instruction, all the variables
from x will be binary:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_binary</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>It is still possible, though, to set one of these
variables as integer while keeping the others as they are:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_integer</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.set_integer">
<tt class="descname">set_integer</tt><big>(</big><em>ee</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_integer" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a variable or a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> as integer.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ee</span></tt> &#8211; An instance of <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> or one of
its elements.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>With the following instruction, all the variables
from x will be integers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_integer</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>It is still possible, though, to set one of these
variables as binary while keeping the others as they are:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_binary</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.set_max">
<tt class="descname">set_max</tt><big>(</big><em>v</em>, <em>max</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the maximum value of a variable.</p>
<p>INPUT</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">v</span></tt> &#8211; a variable.</li>
<li><tt class="docutils literal"><span class="pre">max</span></tt> &#8211; the maximum value the variable can take.  When
<tt class="docutils literal"><span class="pre">max=None</span></tt>, the variable has no upper bound.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_max</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">6.0</span>
</pre></div>
</div>
<p>With a <a class="reference internal" href="#sage.numerical.mip.MIPVariable" title="sage.numerical.mip.MIPVariable"><tt class="xref py py-class docutils literal"><span class="pre">MIPVariable</span></tt></a> as an argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">vv</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">vv</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">vv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_max</span><span class="p">(</span><span class="n">vv</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">vv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">5.0</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_max</span><span class="p">(</span><span class="n">vv</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span>
<span class="go">5.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.set_min">
<tt class="descname">set_min</tt><big>(</big><em>v</em>, <em>min</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the minimum value of a variable.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">v</span></tt> &#8211; a variable.</li>
<li><tt class="docutils literal"><span class="pre">min</span></tt> &#8211; the minimum value the variable can take.  When
<tt class="docutils literal"><span class="pre">min=None</span></tt>, the variable has no lower bound.</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.get_min" title="sage.numerical.mip.MixedIntegerLinearProgram.get_min"><tt class="xref py py-meth docutils literal"><span class="pre">get_min()</span></tt></a> &#8211; get the minimum value of a variable.</li>
</ul>
</div>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">0.0</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">6.0</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>With a <a class="reference internal" href="#sage.numerical.mip.MIPVariable" title="sage.numerical.mip.MIPVariable"><tt class="xref py py-class docutils literal"><span class="pre">MIPVariable</span></tt></a> as an argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">vv</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">real</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">nonnegative</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">vv</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">vv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_min</span><span class="p">(</span><span class="n">vv</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">vv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">5.0</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">get_min</span><span class="p">(</span><span class="n">vv</span><span class="p">[</span><span class="mi">9</span><span class="p">])</span>
<span class="go">5.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.set_objective">
<tt class="descname">set_objective</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_objective" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the objective of the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">obj</span></tt> &#8211; A linear function to be optimized.
( can also be set to <tt class="docutils literal"><span class="pre">None</span></tt> or <tt class="docutils literal"><span class="pre">0</span></tt> when just
looking for a feasible solution )</li>
</ul>
<p>EXAMPLE:</p>
<p>Let&#8217;s solve the following linear program:</p>
<div class="highlight-python"><div class="highlight"><pre>Maximize:
  x + 5 * y
Constraints:
  x + 0.2 y       &lt;= 4
  1.5 * x + 3 * y &lt;= 4
Variables:
  x is Real (min = 0, max = None)
  y is Real (min = 0, max = None)
</pre></div>
</div>
<p>This linear program can be solved as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">maximization</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">10</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mf">1.5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">(),</span><span class="mi">5</span><span class="p">)</span>
<span class="go">6.66667</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.set_problem_name">
<tt class="descname">set_problem_name</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_problem_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the name of the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> &#8211; A string representing the name of the
<tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_problem_name</span><span class="p">(</span><span class="s">&quot;Test program&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span>
<span class="go">Mixed Integer Program &quot;Test program&quot; ( maximization, 0 variables, 0 constraints )</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.set_real">
<tt class="descname">set_real</tt><big>(</big><em>ee</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_real" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a variable or a <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> as real.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ee</span></tt> &#8211; An instance of <tt class="docutils literal"><span class="pre">MIPVariable</span></tt> or one of
its elements.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>With the following instruction, all the variables
from x will be real:</p>
<div class="highlight-python"><div class="highlight"><pre>   sage: p.set_real(x)
   sage: p.set_objective(x[0] + x[1])
   sage: p.add_constraint(-3*x[0] + 2*x[1], max=2)

It is still possible, though, to set one of these
variables as binary while keeping the others as they are::

   sage: p.set_binary(x[3])
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.show">
<tt class="descname">show</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt> in a human-readable
way.</p>
<p>EXAMPLES:</p>
<p>When constraints and variables have names</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;Hey&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;Constraint_1&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>
<span class="go">  Hey[1] + Hey[2]</span>
<span class="go">Constraints:</span>
<span class="go">  Constraint_1: -3.0 Hey[1] + 2.0 Hey[2] &lt;= 2.0</span>
<span class="go">Variables:</span>
<span class="go">  Hey[1] = x_0 is a continuous variable (min=0.0, max=+oo)</span>
<span class="go">  Hey[2] = x_1 is a continuous variable (min=0.0, max=+oo)</span>
</pre></div>
</div>
<p>Without any names</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>
<span class="go">  x_0 + x_1</span>
<span class="go">Constraints:</span>
<span class="go">  -3.0 x_0 + 2.0 x_1 &lt;= 2.0</span>
<span class="go">Variables:</span>
<span class="go">  x_0 is a continuous variable (min=0.0, max=+oo)</span>
<span class="go">  x_1 is a continuous variable (min=0.0, max=+oo)</span>
</pre></div>
</div>
<p>With <span class="math">\(\QQ\)</span> coefficients:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&#39;ppl&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">/</span><span class="mi">5</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">/</span><span class="mi">7</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="o">/</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="go">Maximization:</span>
<span class="go">  x_0 + 1/2 x_1</span>
<span class="go">Constraints:</span>
<span class="go">  constraint_0: -3/5 x_0 + 2/7 x_1 &lt;= 2/5</span>
<span class="go">Variables:</span>
<span class="go">  x_0 is a continuous variable (min=0, max=+oo)</span>
<span class="go">  x_1 is a continuous variable (min=0, max=+oo)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.solve">
<tt class="descname">solve</tt><big>(</big><em>log=None</em>, <em>objective_only=False</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.solve" title="Permalink to this definition">¶</a></dt>
<dd><p>Solves the <tt class="docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">log</span></tt> &#8211; integer (default: <tt class="docutils literal"><span class="pre">None</span></tt>) The verbosity level. Indicates
whether progress should be printed during computation. The solver is
initialized to report no progress.</li>
<li><tt class="docutils literal"><span class="pre">objective_only</span></tt> &#8211; Boolean variable.<ul>
<li>When set to <tt class="docutils literal"><span class="pre">True</span></tt>, only the objective function is returned.</li>
<li>When set to <tt class="docutils literal"><span class="pre">False</span></tt> (default), the optimal numerical values
are stored (takes computational time).</li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<p>The optimal value taken by the objective function.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">By default, all variables of a LP are assumed to be
non-negative. See <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram.set_min" title="sage.numerical.mip.MixedIntegerLinearProgram.set_min"><tt class="xref py py-meth docutils literal"><span class="pre">set_min()</span></tt></a> to change it.</p>
</div>
<p>EXAMPLES:</p>
<p>Consider the following linear program:</p>
<div class="highlight-python"><div class="highlight"><pre>Maximize:
  x + 5 * y
Constraints:
  x + 0.2 y       &lt;= 4
  1.5 * x + 3 * y &lt;= 4
Variables:
  x is Real (min = 0, max = None)
  y is Real (min = 0, max = None)
</pre></div>
</div>
<p>This linear program can be solved as follows:</p>
<div class="highlight-python"><div class="highlight"><pre>   sage: p = MixedIntegerLinearProgram(maximization=True)
   sage: x = p.new_variable(nonnegative=True)
   sage: p.set_objective(x[1] + 5*x[2])
   sage: p.add_constraint(x[1] + 0.2*x[2], max=4)
   sage: p.add_constraint(1.5*x[1] + 3*x[2], max=4)
   sage: round(p.solve(),6)
   6.666667
   sage: x = p.get_values(x)
   sage: round(x[1],6) # abs tol 1e-15
   0.0
   sage: round(x[2],6)
   1.333333

Computation of a maximum stable set in Petersen&#39;s graph::

   sage: g = graphs.PetersenGraph()
   sage: p = MixedIntegerLinearProgram(maximization=True)
   sage: b = p.new_variable(nonnegative=True)
   sage: p.set_objective(sum([b[v] for v in g]))
   sage: for (u,v) in g.edges(labels=None):
   ...       p.add_constraint(b[u] + b[v], max=1)
   sage: p.set_binary(b)
   sage: p.solve(objective_only=True)
   4.0
</pre></div>
</div>
<p>Constraints in the objective function are respected:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">p</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_integer</span><span class="p">(</span><span class="n">x</span><span class="p">);</span> <span class="n">p</span><span class="o">.</span><span class="n">set_integer</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solve</span><span class="p">()</span>
<span class="go">9.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.solver_parameter">
<tt class="descname">solver_parameter</tt><big>(</big><em>name</em>, <em>value=None</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.solver_parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return or define a solver parameter</p>
<p>The solver parameters are by essence solver-specific, which
means their meaning heavily depends on the solver used.</p>
<p>(If you do not know which solver you are using, then you
use GLPK).</p>
<p>Aliases:</p>
<p>Very common parameters have aliases making them
solver-independent. For example, the following:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span> <span class="o">=</span> <span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solver_parameter</span><span class="p">(</span><span class="s">&quot;timelimit&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
</pre></div>
</div>
<p>Sets the solver to stop its computations after 60 seconds, and
works with GLPK, CPLEX and Gurobi.</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">&quot;timelimit&quot;</span></tt> &#8211; defines the maximum time spent on a
computation. Measured in seconds.</li>
</ul>
</div></blockquote>
<p>Solver-specific parameters:</p>
<blockquote>
<div><ul>
<li><p class="first">GLPK : We have implemented very close to comprehensive coverage of
the GLPK solver parameters for the simplex and integer
optimization methods. For details, see the documentation of
<a class="reference internal" href="backends/glpk_backend.html#sage.numerical.backends.glpk_backend.GLPKBackend.solver_parameter" title="sage.numerical.backends.glpk_backend.GLPKBackend.solver_parameter"><tt class="xref py py-meth docutils literal"><span class="pre">GLPKBackend.solver_parameter</span></tt></a>.</p>
</li>
<li><p class="first">CPLEX&#8217;s parameters are identified by a string. Their
list is available <a class="reference external" href="http://publib.boulder.ibm.com/infocenter/odmeinfo/v3r4/index.jsp?topic=/ilog.odms.ide.odme.help/Content/Optimization/Documentation/ODME/_pubskel/ODME_pubskels/startall_ODME34_Eclipse1590.html">on ILOG&#8217;s website</a>.</p>
<p>The command</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span> <span class="o">=</span> <span class="s">&quot;CPLEX&quot;</span><span class="p">)</span> <span class="c"># optional - CPLEX</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solver_parameter</span><span class="p">(</span><span class="s">&quot;CPX_PARAM_TILIM&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>       <span class="c"># optional - CPLEX</span>
</pre></div>
</div>
<p>works as intended.</p>
</li>
<li><p class="first">Gurobi&#8217;s parameters should all be available through this
method. Their list is available on Gurobi&#8217;s website
<a class="reference external" href="http://www.gurobi.com/documentation/5.5/reference-manual/node798">http://www.gurobi.com/documentation/5.5/reference-manual/node798</a>.</p>
</li>
</ul>
</div></blockquote>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> (string) &#8211; the parameter</li>
<li><tt class="docutils literal"><span class="pre">value</span></tt> &#8211; the parameter&#8217;s value if it is to be defined,
or <tt class="docutils literal"><span class="pre">None</span></tt> (default) to obtain its current value.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span> <span class="o">=</span> <span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solver_parameter</span><span class="p">(</span><span class="s">&quot;timelimit&quot;</span><span class="p">,</span> <span class="mi">60</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">solver_parameter</span><span class="p">(</span><span class="s">&quot;timelimit&quot;</span><span class="p">)</span>
<span class="go">60.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.sum">
<tt class="descname">sum</tt><big>(</big><em>L</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Efficiently computes the sum of a sequence of
<a class="reference internal" href="linear_functions.html#sage.numerical.linear_functions.LinearFunction" title="sage.numerical.linear_functions.LinearFunction"><tt class="xref py py-class docutils literal"><span class="pre">LinearFunction</span></tt></a> elements</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">mip</span></tt> &#8211; the <a class="reference internal" href="#sage.numerical.mip.MixedIntegerLinearProgram" title="sage.numerical.mip.MixedIntegerLinearProgram"><tt class="xref py py-class docutils literal"><span class="pre">MixedIntegerLinearProgram</span></tt></a> parent.</li>
<li><tt class="docutils literal"><span class="pre">L</span></tt> &#8211; list of
<a class="reference internal" href="linear_functions.html#sage.numerical.linear_functions.LinearFunction" title="sage.numerical.linear_functions.LinearFunction"><tt class="xref py py-class docutils literal"><span class="pre">LinearFunction</span></tt></a> instances.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The use of the regular <tt class="docutils literal"><span class="pre">sum</span></tt> function is not recommended
as it is much less efficient than this one</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The following command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">sum</span><span class="p">([</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">90</span><span class="p">)])</span>
</pre></div>
</div>
<p>is much more efficient than:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">([</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">90</span><span class="p">)])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.write_lp">
<tt class="descname">write_lp</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.write_lp" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the linear program as a LP file.</p>
<p>This function export the problem as a LP file.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">filename</span></tt> &#8211; The file in which you want the problem
to be written.</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">write_lp</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SAGE_TMP</span><span class="p">,</span> <span class="s">&quot;lp_problem.lp&quot;</span><span class="p">))</span>
<span class="go">Writing problem data to ...</span>
<span class="go">9 lines were written</span>
</pre></div>
</div>
<p>For more information about the LP file format :
<a class="reference external" href="http://lpsolve.sourceforge.net/5.5/lp-format.htm">http://lpsolve.sourceforge.net/5.5/lp-format.htm</a></p>
</dd></dl>

<dl class="method">
<dt id="sage.numerical.mip.MixedIntegerLinearProgram.write_mps">
<tt class="descname">write_mps</tt><big>(</big><em>filename</em>, <em>modern=True</em><big>)</big><a class="headerlink" href="#sage.numerical.mip.MixedIntegerLinearProgram.write_mps" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the linear program as a MPS file.</p>
<p>This function export the problem as a MPS file.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">filename</span></tt> &#8211; The file in which you want the problem
to be written.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">modern</span></tt> &#8211; Lets you choose between Fixed MPS and Free MPS</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">True</span></tt> &#8211; Outputs the problem in Free MPS</li>
<li><tt class="docutils literal"><span class="pre">False</span></tt> &#8211; Outputs the problem in Fixed MPS</li>
</ul>
</div></blockquote>
</li>
</ul>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">p</span> <span class="o">=</span> <span class="n">MixedIntegerLinearProgram</span><span class="p">(</span><span class="n">solver</span><span class="o">=</span><span class="s">&quot;GLPK&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">new_variable</span><span class="p">(</span><span class="n">nonnegative</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">set_objective</span><span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="nb">max</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;OneConstraint&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">p</span><span class="o">.</span><span class="n">write_mps</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">SAGE_TMP</span><span class="p">,</span> <span class="s">&quot;lp_problem.mps&quot;</span><span class="p">))</span>
<span class="go">Writing problem data to ...</span>
<span class="go">17 records were written</span>
</pre></div>
</div>
<p>For information about the MPS file format :
<a class="reference external" href="http://en.wikipedia.org/wiki/MPS_%28format%29">http://en.wikipedia.org/wiki/MPS_%28format%29</a></p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Mixed Integer Linear Programming</a><ul>
<li><a class="reference internal" href="#definition">Definition</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#linear-variables-and-expressions">Linear Variables and Expressions</a></li>
<li><a class="reference internal" href="#index-of-functions-and-methods">Index of functions and methods</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="knapsack.html"
                                  title="previous chapter">Knapsack Problems</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="linear_functions.html"
                                  title="next chapter">Linear Functions and Constraints</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/numerical/mip.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="linear_functions.html" title="Linear Functions and Constraints"
             >next</a> |</li>
        <li class="right" >
          <a href="knapsack.html" title="Knapsack Problems"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Numerical Optimization</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>