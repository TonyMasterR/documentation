<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=600, initial-scale=1">
    <title>Tensor Products of Crystals &mdash; Sage Reference Manual v7.4: Combinatorics</title>
    
    <link rel="stylesheet" href="../../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '7.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.4: Combinatorics" href="../../../index.html" />
    <link rel="up" title="Comprehensive Module list" href="../../../module_list.html" />
    <link rel="next" title="Cyclic sieving phenomenon" href="../cyclic_sieving_phenomenon.html" />
    <link rel="prev" title="Star-Crystal Structure On \(B(\infty)\)" href="star_crystal.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />
    <script src="../../../../_static/thebe.js" type="text/javascript"></script>
    <script src="../../../../_static/thebe-sage.js" type="text/javascript"></script>

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../cyclic_sieving_phenomenon.html" title="Cyclic sieving phenomenon"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="star_crystal.html" title="Star-Crystal Structure On \(B(\infty)\)"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Combinatorics</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../../module_list.html" accesskey="U">Comprehensive Module list</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tensor-products-of-crystals">
<span id="sage-combinat-crystals-tensor-product"></span><h1>Tensor Products of Crystals<a class="headerlink" href="#tensor-products-of-crystals" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.combinat.crystals.tensor_product"></span><p>Main entry points:</p>
<ul class="simple">
<li><a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystals"><code class="xref py py-class docutils literal"><span class="pre">TensorProductOfCrystals</span></code></a></li>
<li><a class="reference internal" href="#sage.combinat.crystals.tensor_product.CrystalOfTableaux" title="sage.combinat.crystals.tensor_product.CrystalOfTableaux"><code class="xref py py-class docutils literal"><span class="pre">CrystalOfTableaux</span></code></a></li>
</ul>
<p>AUTHORS:</p>
<ul class="simple">
<li>Anne Schilling, Nicolas Thiery (2007): Initial version</li>
<li>Ben Salisbury, Travis Scrimshaw (2013): Refactored tensor products to handle
non-regular crystals and created new subclass to take advantage of
the regularity</li>
</ul>
<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableaux">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">CrystalOfTableaux</code><span class="sig-paren">(</span><em>cartan_type</em>, <em>shapes</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableaux" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.CrystalOfWords" title="sage.combinat.crystals.tensor_product.CrystalOfWords"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.CrystalOfWords</span></code></a></p>
<p>A class for crystals of tableaux with integer valued shapes</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">cartan_type</span></code> &#8211; a Cartan type</li>
<li><code class="docutils literal"><span class="pre">shape</span></code> &#8211; a partition of length at most <code class="docutils literal"><span class="pre">cartan_type.rank()</span></code></li>
<li><code class="docutils literal"><span class="pre">shapes</span></code> &#8211; a list of such partitions</li>
</ul>
<p>This constructs a classical crystal with the given Cartan type and
highest weight(s) corresponding to the given shape(s).</p>
<p>If the type is <span class="math">\(D_r\)</span>, the shape is permitted to have a negative
value in the <span class="math">\(r\)</span>-th position. Thus if the shape equals <span class="math">\([s_1,\ldots,s_r]\)</span>,
then <span class="math">\(s_r\)</span> may be negative but in any case <span class="math">\(s_1 \geq \cdots \geq s_{r-1}
\geq |s_r|\)</span>. This crystal is related to that of shape
<span class="math">\([s_1,\ldots,|s_r|]\)</span> by the outer automorphism of <span class="math">\(SO(2r)\)</span>.</p>
<p>If the type is <span class="math">\(D_r\)</span> or <span class="math">\(B_r\)</span>, the shape is permitted to be of
length <span class="math">\(r\)</span> with all parts of half integer value. This corresponds
to having one spin column at the beginning of the tableau. If
several shapes are provided, they currently should all or none
have this property.</p>
<p>Crystals of tableaux are constructed using an embedding into
tensor products following Kashiwara and Nakashima <a class="reference internal" href="letters.html#kn94" id="id1">[KN94]</a>. Sage&#8217;s tensor
product rule for crystals differs from that of Kashiwara and Nakashima
by reversing the order of the tensor factors. Sage produces the same
crystals of tableaux as Kashiwara and Nakashima. With Sage&#8217;s convention,
the tensor product of crystals is the same as the monoid operation on
tableaux and hence the plactic monoid.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="crystals.html#module-sage.combinat.crystals.crystals" title="sage.combinat.crystals.crystals"><code class="xref py py-mod docutils literal"><span class="pre">sage.combinat.crystals.crystals</span></code></a> for general help on
crystals, and in particular plotting and <span class="math">\(\LaTeX\)</span> output.</p>
</div>
<p>EXAMPLES:</p>
<p>We create the crystal of tableaux for type <span class="math">\(A_2\)</span>, with
highest weight given by the partition <span class="math">\([2,1,1]\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
<p>Here is the list of its elements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[[1, 1], [2], [3]], [[1, 2], [2], [3]], [[1, 3], [2], [3]],</span>
<span class="go"> [[1, 4], [2], [3]], [[1, 4], [2], [4]], [[1, 4], [3], [4]],</span>
<span class="go"> [[2, 4], [3], [4]], [[1, 1], [2], [4]], [[1, 2], [2], [4]],</span>
<span class="go"> [[1, 3], [2], [4]], [[1, 3], [3], [4]], [[2, 3], [3], [4]],</span>
<span class="go"> [[1, 1], [3], [4]], [[1, 2], [3], [4]], [[2, 2], [3], [4]]]</span>
</pre></div>
</div>
<p>Internally, a tableau of a given Cartan type is represented as a
tensor product of letters of the same type. The order in which the
tensor factors appear is by reading the columns of the tableaux
left to right, top to bottom (in French notation). As an example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">[[1, 1, 1], [2, 2]]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">_list</span>
<span class="go">[2, 1, 2, 1, 1]</span>
</pre></div>
</div>
<p>To create a tableau, one can use:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Tab</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Tab</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="go">[[1, 2], [3, 4]]</span>
<span class="gp">sage: </span><span class="n">Tab</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="go">[[1, 2], [3, 4]]</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p>FIXME:</p>
<ul class="last simple">
<li>Do we want to specify the columns increasingly or
decreasingly? That is, should this be
<code class="docutils literal"><span class="pre">Tab(columns</span> <span class="pre">=</span> <span class="pre">[[1,3],[2,4]])</span></code>?</li>
<li>Make this fully consistent with
<a class="reference internal" href="../tableau.html#sage.combinat.tableau.Tableau" title="sage.combinat.tableau.Tableau"><code class="xref py py-func docutils literal"><span class="pre">Tableau()</span></code></a>!</li>
</ul>
</div>
<p>We illustrate the use of a shape with a negative last entry in
type <span class="math">\(D\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">35</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>We illustrate the construction of crystals of spin tableaux when
the partitions have half integer values in type <span class="math">\(B\)</span> and <span class="math">\(D\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">]);</span> <span class="n">T</span>
<span class="go">The crystal of tableaux of type [&#39;B&#39;, 3] and shape(s) [[3/2, 1/2, 1/2]]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">48</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span>
<span class="go">[[+++, [[1]]]]</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">]);</span> <span class="n">T</span>
<span class="go">The crystal of tableaux of type [&#39;D&#39;, 3] and shape(s) [[3/2, 1/2, -1/2]]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">20</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span>
<span class="go">[[++-, [[1]]]]</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Base cases:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[]]</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[[1]], [[2]], [[-2]], [[-1]]]</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>

<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shapes</span> <span class="o">=</span> <span class="p">[[],[</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[], [[1]], [[2]], [[3]], [[1, 1]], [[1, 2]], [[2, 2]], [[1, 3]], [[2, 3]], [[3, 3]]]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span>
<span class="go">([], [[1]], [[1, 1]])</span>

<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]])</span>
<span class="go">[[1, 1, 0]]</span>
</pre></div>
</div>
<p>Input tests:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">letters</span>
<span class="gp">sage: </span><span class="n">Tab</span><span class="p">(</span><span class="n">rows</span>    <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">_list</span> <span class="o">==</span> <span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Tab</span><span class="p">(</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span><span class="o">.</span><span class="n">_list</span> <span class="o">==</span> <span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For compatibility with
<a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystals"><code class="xref py py-func docutils literal"><span class="pre">TensorProductOfCrystals()</span></code></a> we
need to accept as input the internal list or sequence of elements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Tab</span><span class="p">(</span><span class="nb">list</span>    <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">_list</span>     <span class="o">==</span> <span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Tab</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">_list</span>                 <span class="o">==</span> <span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The next example checks whether a given tableau is in fact a valid
type <span class="math">\(C\)</span> tableau or not:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Tab</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">Tab</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Tab</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">],[</span><span class="o">-</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">Tab</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableaux.Element">
<code class="descname">Element</code><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableaux.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.crystals.tensor_product.CrystalOfTableauxElement" title="sage.combinat.crystals.tensor_product.CrystalOfTableauxElement"><code class="xref py py-class docutils literal"><span class="pre">CrystalOfTableauxElement</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableaux.cartan_type">
<code class="descname">cartan_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableaux.cartan_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Cartan type of the associated crystal</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cartan_type</span><span class="p">()</span>
<span class="go">[&#39;A&#39;, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableaux.module_generator">
<code class="descname">module_generator</code><span class="sig-paren">(</span><em>shape</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableaux.module_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>This yields the module generator (or highest weight element) of a classical
crystal of given shape. The module generator is the unique tableau with equal
shape and content.</p>
<p>EXAMPLE:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generator</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[[1], [2]]</span>

<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generator</span><span class="p">(</span><span class="nb">tuple</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">]))</span>
<span class="go">[[1, 1], [2, 2], [3, 3], [-4, -4]]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">294</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generator</span><span class="p">(</span><span class="nb">tuple</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]))</span>
<span class="go">[[1, 1], [2, 2], [3, 3], [4, 4]]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">294</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableauxElement">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">CrystalOfTableauxElement</code><span class="sig-paren">(</span><em>parent</em>, <em>*args</em>, <em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableauxElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement" title="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement</span></code></a></p>
<p>Element in a crystal of tableaux.</p>
<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableauxElement.pp">
<code class="descname">pp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableauxElement.pp" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">pp</span><span class="p">()</span>
<span class="go">1  2</span>
<span class="go">3  4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableauxElement.promotion">
<code class="descname">promotion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableauxElement.promotion" title="Permalink to this definition">¶</a></dt>
<dd><p>Promotion for type A crystals of tableaux of rectangular shape</p>
<p>Returns the result of applying promotion on this tableau.</p>
<p>This method only makes sense in type A with rectangular shapes.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="n">Tableau</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]]))</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">[[1, 1, 1], [2, 2, 3], [3, 4, 4]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">promotion</span><span class="p">()</span>
<span class="go">[[1, 1, 2], [2, 2, 3], [3, 4, 4]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">promotion</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">The crystal of tableaux of type [&#39;A&#39;, 3] and shape(s) [[3, 3, 3]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableauxElement.promotion_inverse">
<code class="descname">promotion_inverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableauxElement.promotion_inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse promotion for type A crystals of tableaux of rectangular shape</p>
<p>Returns the result of applying inverse promotion on this tableau.</p>
<p>This method only makes sense in type A with rectangular shapes.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s2">&quot;A&quot;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="n">Tableau</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">]]))</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">[[1, 1, 1], [2, 2, 3], [3, 4, 4]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">promotion_inverse</span><span class="p">()</span>
<span class="go">[[1, 1, 2], [2, 3, 3], [4, 4, 4]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">promotion_inverse</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">The crystal of tableaux of type [&#39;A&#39;, 3] and shape(s) [[3, 3, 3]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfTableauxElement.to_tableau">
<code class="descname">to_tableau</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfTableauxElement.to_tableau" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Tableau object corresponding to self.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">to_tableau</span><span class="p">();</span> <span class="n">t</span>
<span class="go">[[1, 2], [3, 4]]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
<span class="go">&lt;class &#39;sage.combinat.tableau.Tableaux_all_with_category.element_class&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
<span class="go">&lt;type &#39;int&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">=</span><span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="o">-</span><span class="mi">3</span><span class="p">],[</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">to_tableau</span><span class="p">();</span> <span class="n">t</span>
<span class="go">[[-3], [3]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">=</span><span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">3</span><span class="p">],[</span><span class="o">-</span><span class="mi">3</span><span class="p">]])</span><span class="o">.</span><span class="n">to_tableau</span><span class="p">();</span> <span class="n">t</span>
<span class="go">[[3], [-3]]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">]])</span><span class="o">.</span><span class="n">to_tableau</span><span class="p">();</span> <span class="n">t</span>
<span class="go">[[0], [0]]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfWords">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">CrystalOfWords</code><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfWords" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Basic Structures v7.4)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.unique_representation.UniqueRepresentation</span></code></a>, <a class="reference external" href="../../../../structure/sage/structure/parent.html#sage.structure.parent.Parent" title="(in Sage Reference Manual: Basic Structures v7.4)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.parent.Parent</span></code></a></p>
<p>Auxiliary class to provide a call method to create tensor product elements.
This class is shared with several tensor product classes and is also used
in <a class="reference internal" href="#sage.combinat.crystals.tensor_product.CrystalOfTableaux" title="sage.combinat.crystals.tensor_product.CrystalOfTableaux"><code class="xref py py-class docutils literal"><span class="pre">CrystalOfTableaux</span></code></a>
to allow tableaux of different tensor product structures in
column-reading (and hence different shapes) to be considered elements
in the same crystal.</p>
<dl class="attribute">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfWords.Element">
<code class="descname">Element</code><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfWords.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement"><code class="xref py py-class docutils literal"><span class="pre">TensorProductOfCrystalsElement</span></code></a></p>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.CrystalOfWords.one_dimensional_configuration_sum">
<code class="descname">one_dimensional_configuration_sum</code><span class="sig-paren">(</span><em>q=None</em>, <em>group_components=True</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.CrystalOfWords.one_dimensional_configuration_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the one-dimensional configuration sum.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">q</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) a variable or <code class="docutils literal"><span class="pre">None</span></code>; if <code class="docutils literal"><span class="pre">None</span></code>,
a variable <span class="math">\(q\)</span> is set in the code</li>
<li><code class="docutils literal"><span class="pre">group_components</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">True</span></code>) boolean; if <code class="docutils literal"><span class="pre">True</span></code>,
then the terms are grouped by classical component</li>
</ul>
<p>The one-dimensional configuration sum is the sum of the weights of all
elements in the crystal weighted by the energy function.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">one_dimensional_configuration_sum</span><span class="p">()</span>
<span class="go">B[-2*Lambda[1] + 2*Lambda[2]] + (q+1)*B[-Lambda[1]] + (q+1)*B[Lambda[1] - Lambda[2]]</span>
<span class="go">+ B[2*Lambda[1]] + B[-2*Lambda[2]] + (q+1)*B[Lambda[2]]</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">one_dimensional_configuration_sum</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="bp">False</span><span class="p">)</span>
<span class="go">B[-2*Lambda[1] + 2*Lambda[2]] + (t+1)*B[-Lambda[1]] + (t+1)*B[Lambda[1] - Lambda[2]]</span>
<span class="go">+ B[2*Lambda[1]] + B[-2*Lambda[2]] + (t+1)*B[Lambda[2]]</span>

<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">weight_space</span><span class="p">()</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">LS</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">ProjectedLevelZeroLSPaths</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">La</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">LS</span><span class="o">.</span><span class="n">one_dimensional_configuration_sum</span><span class="p">()</span> <span class="o">==</span> <span class="n">T</span><span class="o">.</span><span class="n">one_dimensional_configuration_sum</span><span class="p">()</span> <span class="c1"># long time</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K1</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K2</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K1</span><span class="p">,</span><span class="n">K2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">one_dimensional_configuration_sum</span><span class="p">()</span> <span class="o">==</span> <span class="n">T</span><span class="o">.</span><span class="n">one_dimensional_configuration_sum</span><span class="p">(</span><span class="n">group_components</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">RC</span> <span class="o">=</span> <span class="n">RiggedConfigurations</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B1</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">B1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">RC</span><span class="o">.</span><span class="n">fermionic_formula</span><span class="p">()</span> <span class="o">==</span> <span class="n">T</span><span class="o">.</span><span class="n">one_dimensional_configuration_sum</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">FullTensorProductOfCrystals</code><span class="sig-paren">(</span><em>crystals</em>, <em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystals"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.TensorProductOfCrystals</span></code></a></p>
<p>Full tensor product of crystals.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Merge this into <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystals"><code class="xref py py-class docutils literal"><span class="pre">TensorProductOfCrystals</span></code></a>.</p>
</div>
<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals.cardinality">
<code class="descname">cardinality</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals.cardinality" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the cardinality of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">9</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals.weight_lattice_realization">
<code class="descname">weight_lattice_realization</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals.weight_lattice_realization" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the weight lattice realization used to express weights.</p>
<p>The weight lattice realization is the common parent which all
weight lattice realizations of the crystals of <code class="docutils literal"><span class="pre">self</span></code> coerce
into.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">elementary</span><span class="o">.</span><span class="n">B</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">weight_lattice_realization</span><span class="p">()</span>
<span class="go">Root lattice of the Root system of type [&#39;A&#39;, 4]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">weight_lattice_realization</span><span class="p">()</span>
<span class="go">Ambient space of the Root system of type [&#39;A&#39;, 4]</span>
<span class="gp">sage: </span><span class="n">TP</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">TP</span><span class="o">.</span><span class="n">weight_lattice_realization</span><span class="p">()</span>
<span class="go">Ambient space of the Root system of type [&#39;A&#39;, 4]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.FullTensorProductOfRegularCrystals">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">FullTensorProductOfRegularCrystals</code><span class="sig-paren">(</span><em>crystals</em>, <em>**options</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.FullTensorProductOfRegularCrystals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals" title="sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.FullTensorProductOfCrystals</span></code></a></p>
<p>Full tensor product of regular crystals.</p>
<dl class="attribute">
<dt id="sage.combinat.crystals.tensor_product.FullTensorProductOfRegularCrystals.Element">
<code class="descname">Element</code><a class="headerlink" href="#sage.combinat.crystals.tensor_product.FullTensorProductOfRegularCrystals.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement" title="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement"><code class="xref py py-class docutils literal"><span class="pre">TensorProductOfRegularCrystalsElement</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.ImmutableListWithParent">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">ImmutableListWithParent</code><span class="sig-paren">(</span><em>parent</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.ImmutableListWithParent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../combinat.html#sage.combinat.combinat.CombinatorialElement" title="sage.combinat.combinat.CombinatorialElement"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.combinat.CombinatorialElement</span></code></a></p>
<p>A class for lists having a parent</p>
<p>Specification: any subclass <code class="docutils literal"><span class="pre">C</span></code> should implement <code class="docutils literal"><span class="pre">__init__</span></code> which
accepts the following form <code class="docutils literal"><span class="pre">C(parent,</span> <span class="pre">list</span> <span class="pre">=</span> <span class="pre">list)</span></code></p>
<p>EXAMPLES:</p>
<p>We create an immutable list whose parent is the class list:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.crystals.tensor_product</span> <span class="kn">import</span> <span class="n">ImmutableListWithParent</span><span class="p">,</span> <span class="n">TestParent</span>
<span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="n">ImmutableListWithParent</span><span class="p">(</span><span class="n">TestParent</span><span class="p">(),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">_list</span>
<span class="go">[1, 2, 3]</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">A parent for tests</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">sibling</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">==</span> <span class="n">ImmutableListWithParent</span><span class="p">(</span><span class="n">TestParent</span><span class="p">(),</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">reversed</span><span class="p">()</span>
<span class="go">[3, 2, 1]</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[1, 4, 3]</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">l</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">skip</span> <span class="o">=</span> <span class="s2">&quot;_test_category&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.ImmutableListWithParent.reversed">
<code class="descname">reversed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.ImmutableListWithParent.reversed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sibling of <code class="docutils literal"><span class="pre">self</span></code> which is obtained by reversing the
elements of`` self``.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.crystals.tensor_product</span> <span class="kn">import</span> <span class="n">ImmutableListWithParent</span><span class="p">,</span> <span class="n">TestParent</span>
<span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="n">ImmutableListWithParent</span><span class="p">(</span><span class="n">TestParent</span><span class="p">(),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">reversed</span><span class="p">()</span>
<span class="go">[3, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.ImmutableListWithParent.set_index">
<code class="descname">set_index</code><span class="sig-paren">(</span><em>k</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.ImmutableListWithParent.set_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the sibling of <code class="docutils literal"><span class="pre">self</span></code> obtained by setting the
<span class="math">\(k^{th}\)</span> entry of self to value.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.crystals.tensor_product</span> <span class="kn">import</span> <span class="n">ImmutableListWithParent</span><span class="p">,</span> <span class="n">TestParent</span>
<span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="n">ImmutableListWithParent</span><span class="p">(</span><span class="n">TestParent</span><span class="p">(),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[2, 2, 3]</span>
<span class="gp">sage: </span><span class="n">l</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[1, 4, 3]</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">A parent for tests</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.ImmutableListWithParent.sibling">
<code class="descname">sibling</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.ImmutableListWithParent.sibling" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an <a class="reference internal" href="#sage.combinat.crystals.tensor_product.ImmutableListWithParent" title="sage.combinat.crystals.tensor_product.ImmutableListWithParent"><code class="xref py py-class docutils literal"><span class="pre">ImmutableListWithParent</span></code></a> object whose list is
<code class="docutils literal"><span class="pre">l</span></code> and whose parent is the same as the parent of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>Note that the implementation of this function makes an assumption
about the constructor for subclasses.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.crystals.tensor_product</span> <span class="kn">import</span> <span class="n">ImmutableListWithParent</span><span class="p">,</span> <span class="n">TestParent</span>
<span class="gp">sage: </span><span class="n">l</span> <span class="o">=</span> <span class="n">ImmutableListWithParent</span><span class="p">(</span><span class="n">TestParent</span><span class="p">(),</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">l</span><span class="o">.</span><span class="n">sibling</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]);</span> <span class="n">m</span>
<span class="go">[2, 3, 4]</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">A parent for tests</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.LocalEnergyFunction">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">LocalEnergyFunction</code><span class="sig-paren">(</span><em>B</em>, <em>Bp</em>, <em>normalization=0</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.LocalEnergyFunction" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../categories/sage/categories/map.html#sage.categories.map.Map" title="(in Sage Reference Manual: Category Framework v7.4)"><code class="xref py py-class docutils literal"><span class="pre">sage.categories.map.Map</span></code></a></p>
<p>The local energy function.</p>
<p>Let <span class="math">\(B\)</span> and <span class="math">\(B'\)</span> be Kirillov-Reshetikhin crystals with maximal
vectors <span class="math">\(u_B\)</span> and <span class="math">\(u_{B'}\)</span> respectively. The <em>local energy function</em>
<span class="math">\(H : B \otimes B' \to \ZZ\)</span> is the function which satisfies</p>
<div class="math">
\[\begin{split}H(e_0(b \otimes b')) = H(b \otimes b') + \begin{cases}
1 &amp; \text{if } i = 0 \text{ and LL}, \\
-1 &amp; \text{if } i = 0 \text{ and RR}, \\
0 &amp; \text{otherwise,}
\end{cases}\end{split}\]</div>
<p>where LL (resp. RR) denote <span class="math">\(e_0\)</span> acts on the left (resp. right)
on both <span class="math">\(b \otimes b'\)</span> and <span class="math">\(R(b \otimes b')\)</span>, and
normalized by <span class="math">\(H(u_B \otimes u_{B'}) = 0\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">B</span></code> &#8211; a Kirillov-Reshetikhin crystal</li>
<li><code class="docutils literal"><span class="pre">Bp</span></code> &#8211; a Kirillov-Reshetikhin crystal</li>
<li><code class="docutils literal"><span class="pre">normalization</span></code> &#8211; (default: 0) the normalization value</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K2</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">local_energy_function</span><span class="p">(</span><span class="n">K2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">tensor</span><span class="p">([</span><span class="n">K</span><span class="p">,</span> <span class="n">K2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">hw</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">is_highest_weight</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">hw</span><span class="p">:</span>
<span class="go">....:     b, H(b)</span>
<span class="go">([[], [[1], [2]]], 1)</span>
<span class="go">([[[1, 1]], [[1], [2]]], 0)</span>
<span class="go">([[[2, -2]], [[1], [2]]], 1)</span>
<span class="go">([[[1, -2]], [[1], [2]]], 1)</span>
</pre></div>
</div>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="kkmmnn92" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[KKMMNN92]</td><td>S-J. Kang, M. Kashiwara, K. C. Misra, T. Miwa,
T. Nakashima, and A. Nakayashiki.
<em>Affine crystals and vertex models</em>.
Int. J. Mod. Phys. A, <strong>7</strong> (suppl. 1A), (1992) pp. 449-484.</td></tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystals">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">TensorProductOfCrystals</code><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.CrystalOfWords" title="sage.combinat.crystals.tensor_product.CrystalOfWords"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.CrystalOfWords</span></code></a></p>
<p>Tensor product of crystals.</p>
<p>Given two crystals <span class="math">\(B\)</span> and <span class="math">\(B'\)</span> of the same Cartan type,
one can form the tensor product <span class="math">\(B \otimes B^{\prime}\)</span>. As a set
<span class="math">\(B \otimes B^{\prime}\)</span> is the Cartesian product
<span class="math">\(B \times B^{\prime}\)</span>. The crystal operators <span class="math">\(f_i\)</span> and
<span class="math">\(e_i\)</span> act on <span class="math">\(b \otimes b^{\prime} \in B \otimes B^{\prime}\)</span> as
follows:</p>
<div class="math">
\[\begin{split}f_i(b \otimes b^{\prime}) = \begin{cases}
f_i(b) \otimes b^{\prime} &amp; \text{if } \varepsilon_i(b) \geq
\varphi_i(b^{\prime}) \\
b \otimes f_i(b^{\prime}) &amp; \text{otherwise}
\end{cases}\end{split}\]</div>
<p>and</p>
<div class="math">
\[\begin{split}e_i(b \otimes b') = \begin{cases}
e_i(b) \otimes b' &amp; \text{if } \varepsilon_i(b) &gt;
\varphi_i(b') \\ b \otimes e_i(b') &amp; \text{otherwise.}
\end{cases}\end{split}\]</div>
<p>We also define:</p>
<div class="math">
\[\begin{split}\begin{aligned}
\varphi_i(b \otimes b') &amp; = \max\left( \varphi_i(b),
\varphi_i(b') + \langle \alpha_i^{\vee}, \mathrm{wt}(b) \rangle
\right),
\\ \varepsilon_i(b \otimes b') &amp; = \max\left( \varepsilon_i(b'),
\varepsilon_i(b) - \langle \alpha_i^{\vee}, \mathrm{wt}(b') \rangle
\right).
\end{aligned}\end{split}\]</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is the opposite of Kashiwara&#8217;s convention for tensor
products of crystals.</p>
</div>
<p>Since tensor products are associative <span class="math">\((\mathcal{B} \otimes \mathcal{C})
\otimes \mathcal{D} \cong \mathcal{B} \otimes (\mathcal{C} \otimes
\mathcal{D})\)</span> via the natural isomorphism <span class="math">\((b \otimes c) \otimes d \mapsto
b \otimes (c \otimes d)\)</span>, we can generalizing this to arbitrary tensor
products. Thus consider <span class="math">\(B_N \otimes \cdots \otimes B_1\)</span>, where each
<span class="math">\(B_k\)</span> is an abstract crystal. The underlying set of the tensor product is
<span class="math">\(B_N \times \cdots \times B_1\)</span>, while the crystal structure is given
as follows. Let <span class="math">\(I\)</span> be the index set, and fix some <span class="math">\(i \in I\)</span> and <span class="math">\(b_N
\otimes \cdots \otimes b_1 \in B_N \otimes \cdots \otimes B_1\)</span>. Define</p>
<div class="math">
\[a_i(k) := \varepsilon_i(b_k) - \sum_{j=1}^{k-1} \langle
\alpha_i^{\vee}, \mathrm{wt}(b_j) \rangle.\]</div>
<p>Then</p>
<div class="math">
\[\begin{split}\begin{aligned}
\mathrm{wt}(b_N \otimes \cdots \otimes b_1) &amp;=
\mathrm{wt}(b_N) + \cdots + \mathrm{wt}(b_1),
\\ \varepsilon_i(b_N \otimes \cdots \otimes b_1) &amp;= \max_{1 \leq k
\leq n}\left( \sum_{j=1}^k \varepsilon_i(b_j) - \sum_{j=1}^{k-1}
\varphi_i(b_j) \right)
\\ &amp; = \max_{1 \leq k \leq N}\bigl( a_i(k) \bigr),
\\ \varphi_i(b_N \otimes \cdots \otimes b_1) &amp;= \max_{1 \leq k \leq N}
\left( \varphi_i(b_N) + \sum_{j=k}^{N-1} \big( \varphi_i(b_j) -
\varepsilon_i(b_{j+1}) \big) \right)
\\ &amp; = \max_{1 \leq k \leq N}\bigl( \lambda_i + a_i(k) \bigr)
\end{aligned}\end{split}\]</div>
<p>where <span class="math">\(\lambda_i = \langle \alpha_i^{\vee}, \mathrm{wt}(b_N \otimes \cdots
\otimes b_1) \rangle\)</span>. Then for <span class="math">\(k = 1, \ldots, N\)</span> the action of the
Kashiwara operators is determined as follows.</p>
<ul>
<li><p class="first">If <span class="math">\(a_i(k) &gt; a_i(j)\)</span> for <span class="math">\(1 \leq j &lt; k\)</span> and <span class="math">\(a_i(k) \geq a_i(j)\)</span>
for <span class="math">\(k &lt; j \leq N\)</span>:</p>
<div class="math">
\[e_i(b_N \otimes \cdots \otimes b_1) = b_N \otimes \cdots \otimes
e_i b_k \otimes \cdots \otimes b_1.\]</div>
</li>
<li><p class="first">If <span class="math">\(a_i(k) \geq a_i(j)\)</span> for <span class="math">\(1 \leq j &lt; k\)</span> and <span class="math">\(a_i(k) &gt; a_i(j)\)</span>
for <span class="math">\(k &lt; j \leq N\)</span>:</p>
<div class="math">
\[f_i(b_N \otimes \cdots \otimes b_1) = b_N \otimes \cdots \otimes
f_i b_k \otimes \cdots \otimes b_1.\]</div>
</li>
</ul>
<p>Note that this is just recursively applying the definition of the tensor
product on two crystals. Recall that <span class="math">\(\langle \alpha_i^{\vee},
\mathrm{wt}(b_j) \rangle = \varphi_i(b_j) - \varepsilon_i(b_j)\)</span> by the
definition of a crystal.</p>
<p class="rubric">Regular crystals</p>
<p>Now if all crystals <span class="math">\(B_k\)</span> are regular crystals, all <span class="math">\(\varepsilon_i\)</span> and
<span class="math">\(\varphi_i\)</span> are non-negative and we can
define tensor product by the <em>signature rule</em>. We start by writing a word
in <span class="math">\(+\)</span> and <span class="math">\(-\)</span> as follows:</p>
<div class="math">
\[\underbrace{- \cdots -}_{\varphi_i(b_N) \text{ times}} \quad
\underbrace{+ \cdots +}_{\varepsilon_i(b_N) \text{ times}}
\quad \cdots \quad
\underbrace{- \cdots -}_{\varphi_i(b_1) \text{ times}} \quad
\underbrace{+ \cdots +}_{\varepsilon_i(b_1) \text{ times}},\]</div>
<p>and then canceling ordered pairs of <span class="math">\(+-\)</span> until the word is in the reduced
form:</p>
<div class="math">
\[\underbrace{- \cdots -}_{\varphi_i \text{ times}} \quad
\underbrace{+ \cdots +}_{\varepsilon_i \text{ times}}.\]</div>
<p>Here <span class="math">\(e_i\)</span> acts on the factor corresponding to the leftmost <span class="math">\(+\)</span> and <span class="math">\(f_i\)</span>
on the factor corresponding to the rightmost <span class="math">\(-\)</span>. If there is no <span class="math">\(+\)</span> or
<span class="math">\(-\)</span> respectively, then the result is <span class="math">\(0\)</span> (<code class="docutils literal"><span class="pre">None</span></code>).</p>
<p>EXAMPLES:</p>
<p>We construct the type <span class="math">\(A_2\)</span>-crystal generated by <span class="math">\(2 \otimes 1 \otimes 1\)</span>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">generators</span><span class="o">=</span><span class="p">[[</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)]])</span>
</pre></div>
</div>
<p>It has <span class="math">\(8\)</span> elements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[2, 1, 1], [2, 1, 2], [2, 1, 3], [3, 1, 3], [3, 2, 3], [3, 1, 1], [3, 1, 2], [3, 2, 2]]</span>
</pre></div>
</div>
<p>One can also check the Cartan type of the crystal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cartan_type</span><span class="p">()</span>
<span class="go">[&#39;A&#39;, 2]</span>
</pre></div>
</div>
<p>Other examples include crystals of tableaux (which internally are
represented as tensor products obtained by reading the tableaux
columnwise):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">D</span><span class="p">,</span> <span class="n">generators</span><span class="o">=</span><span class="p">[[</span><span class="n">C</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">]]),</span> <span class="n">D</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">]])],</span> <span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">]]),</span> <span class="n">D</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">]])]])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">24</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">T</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span>
<span class="go">[[[[1], [2]], [[1]]], [[[2], [3]], [[1]]]]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">weight</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="p">]</span>
<span class="go">[(2, 1, 0, 0), (1, 1, 1, 0)]</span>
</pre></div>
</div>
<p>If no module generators are specified, we obtain the full tensor
product:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[1, 1], [1, 2], [1, 3], [2, 1], [2, 2], [2, 3], [3, 1], [3, 2], [3, 3]]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">9</span>
</pre></div>
</div>
<p>For a tensor product of crystals without module generators, the
default implementation of <code class="docutils literal"><span class="pre">module_generators</span></code> contains all elements
in the tensor product of the crystals. If there is a subset of
elements in the tensor product that still generates the crystal,
this needs to be implemented for the specific crystal separately:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[[1, 1], [1, 2], [1, 3], [2, 1], [2, 2], [2, 3], [3, 1], [3, 2], [3, 3]]</span>
</pre></div>
</div>
<p>For classical highest weight crystals, it is also possible to list
all highest weight elements:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">generators</span><span class="o">=</span><span class="p">[[</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)],[</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)]])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">highest_weight_vectors</span><span class="p">()</span>
<span class="go">([2, 1, 1], [1, 2, 1])</span>
</pre></div>
</div>
<p>Examples with non-regular and infinite crystals (these did not work
before <a class="reference external" href="https://trac.sagemath.org/14402">trac ticket #14402</a>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span>
<span class="go">Full tensor product of the crystals</span>
<span class="go">[The infinity crystal of tableaux of type [&#39;D&#39;, 10],</span>
<span class="go"> The infinity crystal of tableaux of type [&#39;D&#39;, 10]]</span>

<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span>
<span class="go">Full tensor product of the crystals</span>
<span class="go">[Crystal of generalized Young walls of type [&#39;A&#39;, 15, 1],</span>
<span class="go"> Crystal of generalized Young walls of type [&#39;A&#39;, 15, 1],</span>
<span class="go"> Crystal of generalized Young walls of type [&#39;A&#39;, 15, 1]]</span>

<span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">weight_lattice</span><span class="p">(</span><span class="n">extended</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">La</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">La</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="o">*</span><span class="n">La</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">*</span><span class="n">La</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">La</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">,</span><span class="n">D</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span>
<span class="go">Full tensor product of the crystals</span>
<span class="go">[Highest weight crystal of generalized Young walls of Cartan type [&#39;A&#39;, 2, 1] and highest weight Lambda[0] + Lambda[1],</span>
<span class="go"> Highest weight crystal of generalized Young walls of Cartan type [&#39;A&#39;, 2, 1] and highest weight 2*Lambda[2],</span>
<span class="go"> Highest weight crystal of generalized Young walls of Cartan type [&#39;A&#39;, 2, 1] and highest weight 3*Lambda[0] + Lambda[2]]</span>
</pre></div>
</div>
<p>There is also a global option for setting the convention (by default Sage
uses anti-Kashiwara):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">elt</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span> <span class="n">elt</span>
<span class="go">[1, 2]</span>
<span class="gp">sage: </span><span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">convention</span> <span class="o">=</span> <span class="s2">&quot;Kashiwara&quot;</span>
<span class="gp">sage: </span><span class="n">elt</span>
<span class="go">[2, 1]</span>
<span class="gp">sage: </span><span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_reset</span><span class="p">()</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystals.global_options">
<code class="descname">global_options</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals.global_options" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated: Use <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals.options" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystals.options"><code class="xref py py-meth docutils literal"><span class="pre">options()</span></code></a> instead.
See <a class="reference external" href="https://trac.sagemath.org/18555">trac ticket #18555</a> for details.</p>
</dd></dl>

<dl class="function">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystals.options">
<code class="descname">options</code><span class="sig-paren">(</span><em>*get_value</em>, <em>**set_value</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals.options" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the global options for tensor products of crystals. The default is to
use the anti-Kashiwara convention.</p>
<p>There are two conventions for how <span class="math">\(e_i\)</span> and <span class="math">\(f_i\)</span> act on tensor products,
and the difference between the two is the order of the tensor factors
are reversed. This affects both the input and output. See the example
below.</p>
<p>OPTIONS:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">convention</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">antiKashiwara</span></code>)
Sets the convention used for displaying/inputting tensor product of crystals<ul>
<li><code class="docutils literal"><span class="pre">Kashiwara</span></code>     &#8211; use the Kashiwara convention</li>
<li><code class="docutils literal"><span class="pre">anti</span></code>          &#8211; alias for <code class="docutils literal"><span class="pre">antiKashiwara</span></code></li>
<li><code class="docutils literal"><span class="pre">antiKashiwara</span></code> &#8211; use the anti-Kashiwara convention</li>
<li><code class="docutils literal"><span class="pre">opposite</span></code>      &#8211; alias for <code class="docutils literal"><span class="pre">antiKashiwara</span></code></li>
</ul>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Changing the <code class="docutils literal"><span class="pre">convention</span></code> also changes how the input is handled.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Internally, the crystals are always stored using the anti-Kashiwara
convention.</p>
</div>
<p>If no parameters are set, then the function returns a copy of the
options dictionary.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">elt</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span> <span class="n">elt</span>
<span class="go">[1, 2]</span>
<span class="gp">sage: </span><span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">convention</span> <span class="o">=</span> <span class="s2">&quot;Kashiwara&quot;</span>
<span class="gp">sage: </span><span class="n">elt</span>
<span class="go">[2, 1]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span> <span class="o">==</span> <span class="n">elt</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="o">==</span> <span class="n">elt</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">_reset</span><span class="p">()</span>
</pre></div>
</div>
<p>See <a class="reference external" href="../../../../structure/sage/structure/global_options.html#sage.structure.global_options.GlobalOptions" title="(in Sage Reference Manual: Basic Structures v7.4)"><code class="xref py py-class docutils literal"><span class="pre">GlobalOptions</span></code></a> for more features of these options.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">TensorProductOfCrystalsElement</code><span class="sig-paren">(</span><em>parent</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.ImmutableListWithParent" title="sage.combinat.crystals.tensor_product.ImmutableListWithParent"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.ImmutableListWithParent</span></code></a></p>
<p>A class for elements of tensor products of crystals.</p>
<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.e">
<code class="descname">e</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.e" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the action of <span class="math">\(e_i\)</span> on <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">i</span></code> &#8211; An element of the index set</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">(</span><span class="s2">&quot;D4&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b1</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b2</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[[[1, 1, 1, 1, 1], [2, 2, 3, -3], [3]], [[1, 1, 1, 1, 2], [2, 2, 2], [3, -3]]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[[[1, 1, 1, 1, 1, 2], [2, 2, 3, -4], [3]], [[1, 1, 1, 1, 2], [2, 2, 2], [3, -3]]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[[[1, 1, 1, 1, 1, 2], [2, 2, 3, 4], [3]], [[1, 1, 1, 1, 2], [2, 2, 2], [3, -3]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.epsilon">
<code class="descname">epsilon</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.epsilon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <span class="math">\(\varepsilon_i\)</span> of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">i</span></code> &#8211; An element of the index set</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">(</span><span class="s2">&quot;G2&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b1</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b2</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">B</span><span class="o">.</span><span class="n">index_set</span><span class="p">()]</span>
<span class="go">[0, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.f">
<code class="descname">f</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.f" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the action of <span class="math">\(f_i\)</span> on <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">i</span></code> &#8211; An element of the index set</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">weight_lattice</span><span class="p">(</span><span class="n">extended</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="n">La</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b1</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b2</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b3</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">b3</span><span class="p">,</span> <span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[[[0]], [[0]], [[0, 3]]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[[], [[0]], [[0, 3], [1]]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[[], [[0]], [[0, 3, 2]]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[[], [[0, 3]], [[0, 3]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.phi">
<code class="descname">phi</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.phi" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <span class="math">\(\varphi_i\)</span> of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">i</span></code> &#8211; An element of the index set</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">weight_lattice</span><span class="p">(</span><span class="n">extended</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">La</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">La</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b1</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b2</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">t</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">B</span><span class="o">.</span><span class="n">index_set</span><span class="p">()]</span>
<span class="go">[1, 1, 4]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Check that <a class="reference external" href="https://trac.sagemath.org/15462">trac ticket #15462</a> is fixed:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">ambient_space</span><span class="p">()</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">crystals</span><span class="o">.</span><span class="n">elementary</span><span class="o">.</span><span class="n">T</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">La</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">La</span><span class="p">[</span><span class="mi">2</span><span class="p">]),</span> <span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">an_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.pp">
<code class="descname">pp</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.pp" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty print <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">D</span><span class="p">,</span><span class="n">E</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">pp</span><span class="p">()</span>
<span class="go">  1  1  1 (X)   1 (X)   1  1</span>
<span class="go">  2                     2  2</span>
<span class="go">                        3  3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.weight">
<code class="descname">weight</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement.weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the weight of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b1</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b2</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">b2</span><span class="p">,</span> <span class="n">b1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span>
<span class="go">[[[1, 1, 1, 2], [2, 2], [3]], [[1, 1, 1, 1, 2], [2, 2, 4], [3]]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">weight</span><span class="p">()</span>
<span class="go">(-2, 1, 0, 1)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsWithGenerators">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">TensorProductOfCrystalsWithGenerators</code><span class="sig-paren">(</span><em>crystals</em>, <em>generators</em>, <em>cartan_type</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsWithGenerators" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystals" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystals"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.TensorProductOfCrystals</span></code></a></p>
<p>Tensor product of crystals with a generating set.</p>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">Deprecate this class in favor of using
<a class="reference external" href="../../../../categories/sage/categories/crystals.html#sage.categories.crystals.Crystals.ParentMethods.subcrystal" title="(in Sage Reference Manual: Category Framework v7.4)"><code class="xref py py-meth docutils literal"><span class="pre">subcrystal()</span></code></a>.</p>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">TensorProductOfRegularCrystalsElement</code><span class="sig-paren">(</span><em>parent</em>, <em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.TensorProductOfCrystalsElement</span></code></a></p>
<p>Element class for a tensor product of regular crystals.</p>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">elt</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.crystals.tensor_product</span> <span class="kn">import</span> <span class="n">TensorProductOfRegularCrystalsElement</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">elt</span><span class="p">,</span> <span class="n">TensorProductOfRegularCrystalsElement</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.affine_grading">
<code class="descname">affine_grading</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.affine_grading" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the affine grading of <span class="math">\(self\)</span>.</p>
<p>The affine grading is only defined when <code class="docutils literal"><span class="pre">self</span></code> is an element of a
tensor product of affine Kirillov-Reshetikhin crystals. It is
calculated by finding a path from <code class="docutils literal"><span class="pre">self</span></code> to a ground state path
using the helper method <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.e_string_to_ground_state" title="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.e_string_to_ground_state"><code class="xref py py-meth docutils literal"><span class="pre">e_string_to_ground_state()</span></code></a> and counting
the number of affine Kashiwara operators <span class="math">\(e_0\)</span> applied on the way.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> &#8211; an element of a tensor product of Kirillov-Reshetikhin
crystals</li>
</ul>
<p>OUTPUT: an integer</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">affine_grading</span><span class="p">()</span>
<span class="go">1</span>

<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">hw</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">T</span> <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">hw</span><span class="p">:</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(b, b.affine_grading()))</span>
<span class="go">[[[1]], [[1]], [[1]]] 3</span>
<span class="go">[[[1]], [[2]], [[1]]] 1</span>
<span class="go">[[[2]], [[1]], [[1]]] 2</span>
<span class="go">[[[3]], [[2]], [[1]]] 0</span>

<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">hw</span> <span class="o">=</span> <span class="p">[</span><span class="n">b</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">T</span> <span class="k">if</span> <span class="nb">all</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">==</span><span class="mi">0</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">hw</span><span class="p">:</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(b, b.affine_grading()))</span>
<span class="go">[[[1]], [[1]], [[1]]] 2</span>
<span class="go">[[[1]], [[2]], [[1]]] 1</span>
<span class="go">[[[1]], [[-1]], [[1]]] 0</span>
<span class="go">[[[2]], [[1]], [[1]]] 1</span>
<span class="go">[[[-2]], [[2]], [[1]]] 0</span>
<span class="go">[[[-1]], [[1]], [[1]]] 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.e">
<code class="descname">e</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.e" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the action of <span class="math">\(e_i\)</span> on <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">==</span> <span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.e_string_to_ground_state">
<code class="descname">e_string_to_ground_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.e_string_to_ground_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string of integers in the index set <span class="math">\((i_1,\ldots,i_k)\)</span> such
that <span class="math">\(e_{i_k} \cdots e_{i_1}\)</span> of <code class="docutils literal"><span class="pre">self</span></code> is the ground state.</p>
<p>This method is only defined when <code class="docutils literal"><span class="pre">self</span></code> is an element of a tensor
product of affine Kirillov-Reshetikhin crystals. It calculates a path
from <code class="docutils literal"><span class="pre">self</span></code> to a ground state path using Demazure arrows as defined
in Lemma 7.3 in <a class="reference internal" href="#schillingtingley2011" id="id2">[SchillingTingley2011]</a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">self</span></code> &#8211; an element of a tensor product of Kirillov-Reshetikhin
crystals</li>
</ul>
<p>OUTPUT: a tuple of integers <span class="math">\((i_1,\ldots,i_k)\)</span></p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">e_string_to_ground_state</span><span class="p">()</span>
<span class="go">(0, 2)</span>

<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="n">t</span>
<span class="go">[[[1]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">e_string_to_ground_state</span><span class="p">()</span>
<span class="go">(0,)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">e_string_to_ground_state</span><span class="p">()</span>
<span class="go">()</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">t</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]);</span> <span class="n">y</span>
<span class="go">[[[2]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">e_string_to_ground_state</span><span class="p">()</span>
<span class="go">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.energy_function">
<code class="descname">energy_function</code><span class="sig-paren">(</span><em>algorithm=None</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.energy_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the energy function of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>ALGORITHM:</p>
<p class="rubric">definition</p>
<p>Let <span class="math">\(T\)</span> be a tensor product of Kirillov-Reshetikhin
crystals. Let <span class="math">\(R_i\)</span> and <span class="math">\(H_i\)</span> be the combinatorial
<span class="math">\(R\)</span>-matrix and local energy functions, respectively, acting
on the <span class="math">\(i\)</span> and <span class="math">\(i+1\)</span> factors. Let <span class="math">\(D_B\)</span> be the energy
function of a single Kirillov-Reshetikhin crystal. The
<em>energy function</em> is given by</p>
<div class="math">
\[D = \sum_{j &gt; i} H_i R_{i+1} R_{i+2} \cdots R_{j-1}
+ \sum_j D_B R_1 R_2 \cdots R_{j-1},\]</div>
<p>where <span class="math">\(D_B\)</span> acts on the rightmost factor.</p>
<p class="rubric">grading</p>
<p>If  <code class="docutils literal"><span class="pre">self</span></code> is an element of <span class="math">\(T\)</span>, a tensor product of
perfect crystals of the same level, then use the affine
grading to determine the energy. Specifically, let <span class="math">\(g\)</span>
denote the affine grading of <code class="docutils literal"><span class="pre">self</span></code> and <span class="math">\(d\)</span> the affine
grading of the maximal vector in <span class="math">\(T\)</span>. Then the energy
of <code class="docutils literal"><span class="pre">self</span></code> is given by <span class="math">\(d - g\)</span>.</p>
<p>For more details, see Theorem 7.5 in <a class="reference internal" href="#schillingtingley2011" id="id3">[SchillingTingley2011]</a>.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">algorithm</span></code> &#8211; (default: <code class="docutils literal"><span class="pre">None</span></code>) use one of the
following algorithms to determine the energy function:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">'definition'</span></code> - use the definition of the energy
function;</li>
<li><code class="docutils literal"><span class="pre">'grading'</span></code> - use the affine grading;</li>
</ul>
<p>if not specified, then this uses <code class="docutils literal"><span class="pre">'grading'</span></code> if all
factors are perfect of the same level and otherwise
this uses <code class="docutils literal"><span class="pre">'definition'</span></code></p>
</li>
</ul>
<p>OUTPUT: an integer</p>
<p>REFERENCES:</p>
<table class="docutils citation" frame="void" id="schillingtingley2011" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[SchillingTingley2011]</td><td><em>(<a class="fn-backref" href="#id2">1</a>, <a class="fn-backref" href="#id3">2</a>)</em> A. Schilling, P. Tingley.
<em>Demazure crystals, Kirillov-Reshetikhin crystals, and
the energy function</em>.
Electronic Journal of Combinatorics. <strong>19(2)</strong>. 2012.
<a class="reference external" href="http://arxiv.org/abs/1104.2359">Arxiv 1104.2359</a></td></tr>
</tbody>
</table>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">hw</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">is_highest_weight</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])])</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">hw</span><span class="p">:</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(b, b.energy_function()))</span>
<span class="go">[[[1]], [[1]], [[1]]] 0</span>
<span class="go">[[[1]], [[2]], [[1]]] 2</span>
<span class="go">[[[2]], [[1]], [[1]]] 1</span>
<span class="go">[[[3]], [[2]], [[1]]] 3</span>

<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">,</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">hw</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">is_highest_weight</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">hw</span><span class="p">:</span>
<span class="go">....:     print(&quot;{} {}&quot;.format(b, b.energy_function()))</span>
<span class="go">[[], []] 4</span>
<span class="go">[[], [[1, 1]]] 1</span>
<span class="go">[[[1, 1]], []] 3</span>
<span class="go">[[[1, 1]], [[1, 1]]] 0</span>
<span class="go">[[[1, 2]], [[1, 1]]] 1</span>
<span class="go">[[[2, 2]], [[1, 1]]] 2</span>
<span class="go">[[[-1, -1]], [[1, 1]]] 2</span>
<span class="go">[[[1, -1]], [[1, 1]]] 2</span>
<span class="go">[[[2, -1]], [[1, 1]]] 2</span>

<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">energy_function</span><span class="p">(</span><span class="s1">&#39;grading&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>: <span class="n">all crystals in the tensor product need to be perfect of the same level</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K2</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">tensor</span><span class="p">([</span><span class="n">K</span><span class="p">,</span> <span class="n">K2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">hw</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">T</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">is_highest_weight</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])]</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">energy_function</span><span class="p">()</span> <span class="o">==</span> <span class="n">b</span><span class="o">.</span><span class="n">energy_function</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s1">&#39;definition&#39;</span><span class="p">)</span>
<span class="go">....:     for b in hw)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.epsilon">
<code class="descname">epsilon</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.epsilon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <span class="math">\(\varepsilon_i\)</span> of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.f">
<code class="descname">f</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.f" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the action of <span class="math">\(f_i\)</span> on <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1, 2]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[2, 2]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.phi">
<code class="descname">phi</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.phi" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <span class="math">\(\varphi_i\)</span> of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.positions_of_unmatched_minus">
<code class="descname">positions_of_unmatched_minus</code><span class="sig-paren">(</span><em>i</em>, <em>dual=False</em>, <em>reverse=False</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.positions_of_unmatched_minus" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">positions_of_unmatched_minus</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">positions_of_unmatched_minus</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.positions_of_unmatched_plus">
<code class="descname">positions_of_unmatched_plus</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.positions_of_unmatched_plus" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">positions_of_unmatched_plus</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">positions_of_unmatched_plus</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.weight">
<code class="descname">weight</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement.weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the weight of <code class="docutils literal"><span class="pre">self</span></code>.</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="p">(</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">.</span><span class="n">weight</span><span class="p">()</span>
<span class="go">(1, 1, 0, 0)</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">list</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">weight</span><span class="p">()</span>
<span class="go">(0, 0, 0, 0)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsWithGenerators">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">TensorProductOfRegularCrystalsWithGenerators</code><span class="sig-paren">(</span><em>crystals</em>, <em>generators</em>, <em>cartan_type</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsWithGenerators" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfCrystalsWithGenerators" title="sage.combinat.crystals.tensor_product.TensorProductOfCrystalsWithGenerators"><code class="xref py py-class docutils literal"><span class="pre">sage.combinat.crystals.tensor_product.TensorProductOfCrystalsWithGenerators</span></code></a></p>
<p>Tensor product of regular crystals with a generating set.</p>
<dl class="attribute">
<dt id="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsWithGenerators.Element">
<code class="descname">Element</code><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsWithGenerators.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement" title="sage.combinat.crystals.tensor_product.TensorProductOfRegularCrystalsElement"><code class="xref py py-class docutils literal"><span class="pre">TensorProductOfRegularCrystalsElement</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.crystals.tensor_product.TestParent">
<em class="property">class </em><code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">TestParent</code><a class="headerlink" href="#sage.combinat.crystals.tensor_product.TestParent" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Basic Structures v7.4)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.unique_representation.UniqueRepresentation</span></code></a>, <a class="reference external" href="../../../../structure/sage/structure/parent.html#sage.structure.parent.Parent" title="(in Sage Reference Manual: Basic Structures v7.4)"><code class="xref py py-class docutils literal"><span class="pre">sage.structure.parent.Parent</span></code></a></p>
<p>A parent for tests.</p>
</dd></dl>

<dl class="function">
<dt id="sage.combinat.crystals.tensor_product.trunc">
<code class="descclassname">sage.combinat.crystals.tensor_product.</code><code class="descname">trunc</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="headerlink" href="#sage.combinat.crystals.tensor_product.trunc" title="Permalink to this definition">¶</a></dt>
<dd><p>Truncates to the integer closer to zero</p>
<p>EXAMPLES:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.combinat.crystals.tensor_product</span> <span class="kn">import</span> <span class="n">trunc</span>
<span class="gp">sage: </span><span class="n">trunc</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">trunc</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="n">trunc</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">trunc</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">trunc</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">trunc</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">trunc</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">(-1, -1, 0, 0, 0, 1, 1)</span>
<span class="gp">sage: </span><span class="nb">isinstance</span><span class="p">(</span><span class="n">trunc</span><span class="p">(</span><span class="mi">3</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span> <span class="n">Integer</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="star_crystal.html"
                                  title="previous chapter">Star-Crystal Structure On <span class="math">\(B(\infty)\)</span></a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../cyclic_sieving_phenomenon.html"
                                  title="next chapter">Cyclic sieving phenomenon</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/sage/combinat/crystals/tensor_product.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../cyclic_sieving_phenomenon.html" title="Cyclic sieving phenomenon"
             >next</a> |</li>
        <li class="right" >
          <a href="star_crystal.html" title="Star-Crystal Structure On \(B(\infty)\)"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li class="nav-item nav-item-0"><a href="../../../index.html">Combinatorics</a> &raquo;</li>

          <li class="nav-item nav-item-1"><a href="../../../module_list.html" >Comprehensive Module list</a> &raquo;</li> 
      </ul>
    </div>
    
    <div class="footer" role="contentinfo">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.4.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-66100-14', 'auto');
  ga('send', 'pageview');
</script>
  </body>
</html>