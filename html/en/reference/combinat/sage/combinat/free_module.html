<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Free modules &mdash; Sage Reference Manual v6.7: Combinatorics</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.7: Combinatorics" href="../../index.html" />
    <link rel="up" title="Comprehensive Module list" href="../../module_list.html" />
    <link rel="next" title="Free Pre-Lie Algebras" href="free_prelie_algebra.html" />
    <link rel="prev" title="Common Transducers (Finite State Machines Generators)" href="finite_state_machine_generators.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="free_prelie_algebra.html" title="Free Pre-Lie Algebras"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="finite_state_machine_generators.html" title="Common Transducers (Finite State Machines Generators)"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Combinatorics</a> &raquo;</li>

          <li><a href="../../module_list.html" accesskey="U">Comprehensive Module list</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="free-modules">
<span id="sage-combinat-free-module"></span><h1>Free modules<a class="headerlink" href="#free-modules" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.combinat.free_module"></span><dl class="class">
<dt id="sage.combinat.free_module.CartesianProductWithFlattening">
<em class="property">class </em><tt class="descclassname">sage.combinat.free_module.</tt><tt class="descname">CartesianProductWithFlattening</tt><big>(</big><em>flatten</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CartesianProductWithFlattening" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>A class for cartesian product constructor, with partial flattening</p>
</dd></dl>

<dl class="class">
<dt id="sage.combinat.free_module.CombinatorialFreeModule">
<em class="property">class </em><tt class="descclassname">sage.combinat.free_module.</tt><tt class="descname">CombinatorialFreeModule</tt><big>(</big><em>R</em>, <em>basis_keys</em>, <em>element_class=None</em>, <em>category=None</em>, <em>prefix='B'</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Basic Structures v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.unique_representation.UniqueRepresentation</span></tt></a>, <a class="reference external" href="../../../modules/sage/modules/module.html#sage.modules.module.Module" title="(in Sage Reference Manual: Modules v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">sage.modules.module.Module</span></tt></a>, <a class="reference external" href="../../../structure/sage/structure/indexed_generators.html#sage.structure.indexed_generators.IndexedGenerators" title="(in Sage Reference Manual: Basic Structures v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.indexed_generators.IndexedGenerators</span></tt></a></p>
<p>Class for free modules with a named basis</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">R</span></tt> - base ring</li>
<li><tt class="docutils literal"><span class="pre">basis_keys</span></tt> - list, tuple, family, set, etc. defining the
indexing set for the basis of this module</li>
<li><tt class="docutils literal"><span class="pre">element_class</span></tt> - the class of which elements of this module
should be instances (optional, default None, in which case the
elements are instances of
<a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModuleElement" title="sage.combinat.free_module.CombinatorialFreeModuleElement"><tt class="xref py py-class docutils literal"><span class="pre">CombinatorialFreeModuleElement</span></tt></a>)</li>
<li><tt class="docutils literal"><span class="pre">category</span></tt> - the category in which this module lies (optional,
default None, in which case use the &#8220;category of modules with
basis&#8221; over the base ring <tt class="docutils literal"><span class="pre">R</span></tt>); this should be a subcategory
of <a class="reference external" href="../../../categories/sage/categories/modules_with_basis.html#sage.categories.modules_with_basis.ModulesWithBasis" title="(in Sage Reference Manual: Category Theory v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">ModulesWithBasis</span></tt></a></li>
</ul>
<p>For the options controlling the printing of elements, see
<a class="reference external" href="../../../structure/sage/structure/indexed_generators.html#sage.structure.indexed_generators.IndexedGenerators" title="(in Sage Reference Manual: Basic Structures v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">IndexedGenerators</span></tt></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">These print options may also be accessed and modified using the
<tt class="xref py py-meth docutils literal"><span class="pre">print_options()</span></tt> method, after the module has been defined.</p>
</div>
<p>EXAMPLES:</p>
<p>We construct a free module whose basis is indexed by the letters a, b, c:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span>
<span class="go">Free module generated by {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;} over Rational Field</span>
</pre></div>
</div>
<p>Its basis is a family, indexed by a, b, c:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span>
<span class="go">Finite family {&#39;a&#39;: B[&#39;a&#39;], &#39;c&#39;: B[&#39;c&#39;], &#39;b&#39;: B[&#39;b&#39;]}</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">e</span><span class="p">]</span>
<span class="go">[B[&#39;a&#39;], B[&#39;b&#39;], B[&#39;c&#39;]]</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">k</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">e</span><span class="o">.</span><span class="n">keys</span><span class="p">()]</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
<p>Let us construct some elements, and compute with them:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">e</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>
<span class="go">B[&#39;a&#39;]</span>
<span class="gp">sage: </span><span class="mi">2</span><span class="o">*</span><span class="n">e</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>
<span class="go">2*B[&#39;a&#39;]</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">e</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="go">B[&#39;a&#39;] + 3*B[&#39;b&#39;]</span>
</pre></div>
</div>
<p>Some uses of
<tt class="xref py py-meth docutils literal"><span class="pre">sage.categories.commutative_additive_semigroups.CommutativeAdditiveSemigroups.ParentMethods.summation()</span></tt>
and <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule.sum" title="sage.combinat.free_module.CombinatorialFreeModule.sum"><tt class="xref py py-meth docutils literal"><span class="pre">sum()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">summation</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="go">B[1] + B[3]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">B[1] + B[2] + B[3]</span>
</pre></div>
</div>
<p>Note that free modules with a given basis and parameters are unique:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">F1</span> <span class="ow">is</span> <span class="n">F</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The identity of the constructed free module depends on the order of the
basis and on the other parameters, like the prefix. Note that <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule" title="sage.combinat.free_module.CombinatorialFreeModule"><tt class="xref py py-class docutils literal"><span class="pre">CombinatorialFreeModule</span></tt></a> is
a <a class="reference external" href="../../../structure/sage/structure/unique_representation.html#sage.structure.unique_representation.UniqueRepresentation" title="(in Sage Reference Manual: Basic Structures v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">UniqueRepresentation</span></tt></a>. Hence,
two combinatorial free modules evaluate equal if and only if they are
identical:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">F1</span> <span class="ow">is</span> <span class="n">F</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F1</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F1</span> <span class="o">==</span> <span class="n">F</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F2</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;F&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F2</span> <span class="o">==</span> <span class="n">F</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Because of this, if you create a free module with certain parameters and
then modify its prefix or other print options, this affects all modules
which were defined using the same parameters.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F2</span><span class="o">.</span><span class="n">print_options</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F2</span><span class="o">.</span><span class="n">prefix</span><span class="p">()</span>
<span class="go">&#39;x&#39;</span>
<span class="gp">sage: </span><span class="n">F3</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;F&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F3</span> <span class="ow">is</span> <span class="n">F2</span>   <span class="c"># F3 was defined just like F2</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">F3</span><span class="o">.</span><span class="n">prefix</span><span class="p">()</span>
<span class="go">&#39;x&#39;</span>
<span class="gp">sage: </span><span class="n">F4</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;F&#39;</span><span class="p">,</span> <span class="n">bracket</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F4</span> <span class="o">==</span> <span class="n">F2</span>   <span class="c"># F4 was NOT defined just like F2</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F4</span><span class="o">.</span><span class="n">prefix</span><span class="p">()</span>
<span class="go">&#39;F&#39;</span>

<span class="gp">sage: </span><span class="n">F2</span><span class="o">.</span><span class="n">print_options</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s">&#39;F&#39;</span><span class="p">)</span> <span class="c">#reset for following doctests</span>
</pre></div>
</div>
<p>The constructed module is in the category of modules with basis
over the base ring:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">Partitions</span><span class="p">())</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of vector spaces with basis over Rational Field</span>
</pre></div>
</div>
<p>If furthermore the index set is finite (i.e. in the category
<tt class="docutils literal"><span class="pre">Sets().Finite()</span></tt>), then the module is declared as being finite
dimensional:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of finite dimensional vector spaces with basis over Rational Field</span>
<span class="gp">sage: </span><span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">Partitions</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
<span class="go">....:                         category=Algebras(QQ).WithBasis()).category()</span>
<span class="go">Category of finite dimensional algebras with basis over Rational Field</span>
</pre></div>
</div>
<p>See <a class="reference external" href="../../../categories/sage/categories/examples/algebras_with_basis.html#module-sage.categories.examples.algebras_with_basis" title="(in Sage Reference Manual v6.7)"><tt class="xref py py-mod docutils literal"><span class="pre">sage.categories.examples.algebras_with_basis</span></tt></a> and
<a class="reference external" href="../../../categories/sage/categories/examples/hopf_algebras_with_basis.html#module-sage.categories.examples.hopf_algebras_with_basis" title="(in Sage Reference Manual v6.7)"><tt class="xref py py-mod docutils literal"><span class="pre">sage.categories.examples.hopf_algebras_with_basis</span></tt></a> for
illustrations of the use of the <tt class="docutils literal"><span class="pre">category</span></tt> keyword, and see
<a class="reference internal" href="root_system/weight_space.html#sage.combinat.root_system.weight_space.WeightSpace" title="sage.combinat.root_system.weight_space.WeightSpace"><tt class="xref py py-class docutils literal"><span class="pre">sage.combinat.root_system.weight_space.WeightSpace</span></tt></a> for an
example of the use of <tt class="docutils literal"><span class="pre">element_class</span></tt>.</p>
<p>Customizing print and LaTeX representations of elements:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">original_print_options</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">print_options</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">original_print_options</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(&#39;bracket&#39;, None), (&#39;generator_cmp&#39;, &lt;built-in function cmp&gt;),</span>
<span class="go"> (&#39;latex_bracket&#39;, False), (&#39;latex_prefix&#39;, None),</span>
<span class="go"> (&#39;latex_scalar_mult&#39;, None), (&#39;prefix&#39;, &#39;x&#39;),</span>
<span class="go"> (&#39;scalar_mult&#39;, &#39;*&#39;), (&#39;tensor_symbol&#39;, None)]</span>

<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">e</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="go">x[&#39;a&#39;] - 3*x[&#39;b&#39;]</span>

<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">print_options</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="n">scalar_mult</span><span class="o">=</span><span class="s">&#39; &#39;</span><span class="p">,</span> <span class="n">bracket</span><span class="o">=</span><span class="s">&#39;{&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">e</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="go">x{&#39;a&#39;} - 3 x{&#39;b&#39;}</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">e</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">])</span>
<span class="go">x_{a} - 3 x_{b}</span>

<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">print_options</span><span class="p">(</span><span class="n">latex_prefix</span><span class="o">=</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">latex</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">e</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">])</span>
<span class="go">y_{a} - 3  y_{b}</span>

<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">print_options</span><span class="p">(</span><span class="n">generator_cmp</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">:</span> <span class="o">-</span><span class="nb">cmp</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">e</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span>
<span class="go">-3 x{&#39;b&#39;} + x{&#39;a&#39;}</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">print_options</span><span class="p">(</span><span class="o">**</span><span class="n">original_print_options</span><span class="p">)</span> <span class="c"># reset print options</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">e</span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="go">B[(1, 2)] - 3*B[(3, 4)]</span>

<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">print_options</span><span class="p">(</span><span class="n">bracket</span><span class="o">=</span><span class="p">[</span><span class="s">&#39;_{&#39;</span><span class="p">,</span> <span class="s">&#39;}&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">e</span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="go">B_{(1, 2)} - 3*B_{(3, 4)}</span>

<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">print_options</span><span class="p">(</span><span class="n">prefix</span><span class="o">=</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="n">bracket</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">e</span><span class="p">[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)]</span> <span class="o">-</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">e</span><span class="p">[(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">)]</span>
<span class="go">(1, 2) - 3*(3, 4)</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Before <a class="reference external" href="http://trac.sagemath.org/14054">trac ticket #14054</a>, combinatorial free modules violated the unique
parent condition. That caused a problem. The tensor product construction
involves maps, but maps check that their domain and the parent of a
to-be-mapped element are identical (not just equal). However, the tensor
product was cached by a <tt class="xref py py-class docutils literal"><span class="pre">cached_method</span></tt>, which
involves comparison by equality (not identity). Hence, the last line of
the following example used to fail with an assertion error:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;F&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;G&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span>   <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span>     <span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">])</span>
<span class="go">2*F[1] # G[3] + F[1] # G[4] + 4*F[2] # G[3] + 2*F[2] # G[4]</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span>   <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span>     <span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">])</span>
<span class="go">2*x[1] # y[3] + x[1] # y[4] + 4*x[2] # y[3] + 2*x[2] # y[4]</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.CartesianProduct">
<tt class="descname">CartesianProduct</tt><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.CartesianProduct" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct" title="sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct"><tt class="xref py py-class docutils literal"><span class="pre">CombinatorialFreeModule_CartesianProduct</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.Element">
<tt class="descname">Element</tt><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModuleElement" title="sage.combinat.free_module.CombinatorialFreeModuleElement"><tt class="xref py py-class docutils literal"><span class="pre">CombinatorialFreeModuleElement</span></tt></a></p>
</dd></dl>

<dl class="attribute">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.Tensor">
<tt class="descname">Tensor</tt><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.Tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule_Tensor" title="sage.combinat.free_module.CombinatorialFreeModule_Tensor"><tt class="xref py py-class docutils literal"><span class="pre">CombinatorialFreeModule_Tensor</span></tt></a></p>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.dimension">
<tt class="descname">dimension</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.dimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dimension of the combinatorial algebra (which is given
by the number of elements in the basis).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">dimension</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">schur</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s</span><span class="o">.</span><span class="n">dimension</span><span class="p">()</span>
<span class="go">+Infinity</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.from_vector">
<tt class="descname">from_vector</tt><big>(</big><em>vector</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.from_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Build an element of <tt class="docutils literal"><span class="pre">self</span></tt> from a (sparse) vector</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule.get_order" title="sage.combinat.free_module.CombinatorialFreeModule.get_order"><tt class="xref py py-meth docutils literal"><span class="pre">get_order()</span></tt></a>, <tt class="xref py py-meth docutils literal"><span class="pre">CombinatorialFreeModule.Element._vector_()</span></tt></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">QS3</span> <span class="o">=</span> <span class="n">SymmetricGroupAlgebra</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">QS3</span><span class="o">.</span><span class="n">from_vector</span><span class="p">(</span><span class="n">vector</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)));</span> <span class="n">b</span>
<span class="go">2*[1, 2, 3] + 4*[3, 2, 1]</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">QS3</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">QS3</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.gens">
<tt class="descname">gens</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple consisting of the basis elements of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="go">(B[&#39;a&#39;], B[&#39;b&#39;], B[&#39;c&#39;])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.get_order">
<tt class="descname">get_order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.get_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the order of the elements in the basis.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">QS2</span> <span class="o">=</span> <span class="n">SymmetricGroupAlgebra</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">QS2</span><span class="o">.</span><span class="n">get_order</span><span class="p">()</span>                    <span class="c"># note: order changed on 2009-03-13</span>
<span class="go">[[2, 1], [1, 2]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.get_order_cmp">
<tt class="descname">get_order_cmp</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.get_order_cmp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a comparison function on the basis indices that is
compatible with the current term order.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">FiniteDimensionalAlgebrasWithBasis</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">example</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">Acmp</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">get_order_cmp</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">Acmp</span><span class="p">)</span>
<span class="go">[&#39;x&#39;, &#39;y&#39;, &#39;a&#39;, &#39;b&#39;]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_order</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">reversed</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())))</span>
<span class="gp">sage: </span><span class="n">Acmp</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">get_order_cmp</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">(),</span> <span class="n">Acmp</span><span class="p">)</span>
<span class="go">[&#39;b&#39;, &#39;a&#39;, &#39;y&#39;, &#39;x&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.linear_combination">
<tt class="descname">linear_combination</tt><big>(</big><em>iter_of_elements_coeff</em>, <em>factor_on_left=True</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.linear_combination" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">iter_of_elements_coeff</span></tt> &#8211; iterator of pairs <tt class="docutils literal"><span class="pre">(element,</span> <span class="pre">coeff)</span></tt>
with <tt class="docutils literal"><span class="pre">element</span></tt> in <tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">coeff</span></tt> in <tt class="docutils literal"><span class="pre">self.base_ring()</span></tt></li>
<li><tt class="docutils literal"><span class="pre">factor_on_left</span></tt> (optional) &#8211; if <tt class="docutils literal"><span class="pre">True</span></tt>, the coefficients are
multiplied from the left if <tt class="docutils literal"><span class="pre">False</span></tt>, the coefficients are
multiplied from the right</li>
</ul>
<p>Returns the linear combination <span class="math">\(\lambda_1 v_1 + ... + \lambda_k v_k\)</span>
(resp.  the linear combination <span class="math">\(v_1 \lambda_1 + ... + v_k \lambda_k\)</span>)
where <tt class="docutils literal"><span class="pre">iter_of_elements_coeff</span></tt> iterates through the sequence
<span class="math">\((\lambda_1, v_1) ... (\lambda_k, v_k)\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">an_element</span><span class="p">();</span> <span class="n">f</span>
<span class="go">2*B[1] + 2*B[2]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">linear_combination</span><span class="p">(</span> <span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
<span class="go">20*B[1] + 20*B[2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.monomial">
<tt class="descname">monomial</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.monomial" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;&#8217;i&#8217;&#8216;</li>
</ul>
</div></blockquote>
<p>Returns the basis element indexed by i</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="go">B[&#39;a&#39;]</span>
</pre></div>
</div>
<p>F.monomial is in fact (almost) a map:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span>
<span class="go">Term map from {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;} to Free module generated by {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;} over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.monomial_or_zero_if_none">
<tt class="descname">monomial_or_zero_if_none</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.monomial_or_zero_if_none" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">monomial_or_zero_if_none</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="go">B[&#39;a&#39;]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">monomial_or_zero_if_none</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.set_order">
<tt class="descname">set_order</tt><big>(</big><em>order</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.set_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the order of the elements of the basis.</p>
<p>If <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule.set_order" title="sage.combinat.free_module.CombinatorialFreeModule.set_order"><tt class="xref py py-meth docutils literal"><span class="pre">set_order()</span></tt></a> has not been called, then the ordering is
the one used in the generation of the elements of self&#8217;s
associated enumerated set.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Many cached methods depend on this order, in
particular for constructing subspaces and quotients.
Changing the order after some computations have been
cached does not invalidate the cache, and is likely to
introduce inconsistencies.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">QS2</span> <span class="o">=</span> <span class="n">SymmetricGroupAlgebra</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">QS2</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">QS2</span><span class="o">.</span><span class="n">set_order</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">QS2</span><span class="o">.</span><span class="n">get_order</span><span class="p">()</span>
<span class="go">[[2, 1], [1, 2]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.sum">
<tt class="descname">sum</tt><big>(</big><em>iter_of_elements</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.sum" title="Permalink to this definition">¶</a></dt>
<dd><p>overrides method inherited from commutative additive monoid as it is much faster on dicts directly</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">iter_of_elements</span></tt>: iterator of elements of <tt class="docutils literal"><span class="pre">self</span></tt></li>
</ul>
<p>Returns the sum of all elements in <tt class="docutils literal"><span class="pre">iter_of_elements</span></tt></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">an_element</span><span class="p">();</span> <span class="n">f</span>
<span class="go">2*B[1] + 2*B[2]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span> <span class="n">f</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="p">)</span>
<span class="go">10*B[1] + 10*B[2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.sum_of_monomials">
<tt class="descname">sum_of_monomials</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.sum_of_monomials" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li>&#8216;&#8217;indices&#8217;&#8217; &#8211; an list (or iterable) of indices of basis elements</li>
</ul>
</div></blockquote>
<p>Returns the sum of the corresponding basis elements</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum_of_monomials</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">])</span>
<span class="go">B[&#39;a&#39;] + B[&#39;b&#39;]</span>

<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum_of_monomials</span><span class="p">([</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">])</span>
<span class="go">2*B[&#39;a&#39;] + B[&#39;b&#39;]</span>
</pre></div>
</div>
<p>F.sum_of_monomials is in fact (almost) a map:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum_of_monomials</span>
<span class="go">A map to Free module generated by {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;} over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.sum_of_terms">
<tt class="descname">sum_of_terms</tt><big>(</big><em>terms</em>, <em>distinct=False</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.sum_of_terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a sum of terms of <tt class="docutils literal"><span class="pre">self</span></tt></p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">terms</span></tt> &#8211; a list (or iterable) of pairs (index, coeff)</li>
<li><tt class="docutils literal"><span class="pre">distinct</span></tt> &#8211; whether the indices are guaranteed to be distinct (default: <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum_of_terms</span><span class="p">([(</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)])</span>
<span class="go">2*B[&#39;a&#39;] + 3*B[&#39;c&#39;]</span>
</pre></div>
</div>
<p>If <tt class="docutils literal"><span class="pre">distinct</span></tt> is True, then the construction is optimized:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum_of_terms</span><span class="p">([(</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;c&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)],</span> <span class="n">distinct</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">2*B[&#39;a&#39;] + 3*B[&#39;c&#39;]</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>Use <tt class="docutils literal"><span class="pre">distinct=True</span></tt> only if you are sure that the
indices are indeed distinct:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum_of_terms</span><span class="p">([(</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)],</span> <span class="n">distinct</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">3*B[&#39;a&#39;]</span>
</pre></div>
</div>
</div>
<p>Extreme case:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">sum_of_terms</span><span class="p">([])</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.term">
<tt class="descname">term</tt><big>(</big><em>index</em>, <em>coeff=None</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.term" title="Permalink to this definition">¶</a></dt>
<dd><p>Constructs a term in <tt class="docutils literal"><span class="pre">self</span></tt></p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">index</span></tt> &#8211; the index of a basis element</li>
<li><tt class="docutils literal"><span class="pre">coeff</span></tt> &#8211; an element of the coefficient ring (default: one)</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">term</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="go">3*B[&#39;a&#39;]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">term</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="go">B[&#39;a&#39;]</span>
</pre></div>
</div>
<p>Design: should this do coercion on the coefficient ring?</p>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule.zero">
<tt class="descname">zero</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule.zero" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span> <span class="s">&#39;b&#39;</span><span class="p">,</span> <span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement">
<em class="property">class </em><tt class="descclassname">sage.combinat.free_module.</tt><tt class="descname">CombinatorialFreeModuleElement</tt><big>(</big><em>M</em>, <em>x</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="../../../structure/sage/structure/element.html#sage.structure.element.Element" title="(in Sage Reference Manual: Basic Structures v6.7)"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.Element</span></tt></a></p>
<p>Create a combinatorial module element. This should never be
called directly, but only through the parent combinatorial
free module&#8217;s <tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt> method.</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">];</span> <span class="n">f</span>
<span class="go">B[&#39;a&#39;] + 3*B[&#39;c&#39;]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">==</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.coefficient">
<tt class="descname">coefficient</tt><big>(</big><em>m</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.coefficient" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">Partitions</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">s</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="n">s</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">coefficient</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">coefficient</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">-2</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">Partition</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">-2</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">coefficient</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">AssertionError</span>: <span class="n-Identifier">[1, 2] should be an element of Partitions</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">Composition</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">AssertionError</span>: <span class="n-Identifier">[2, 1] should be an element of Partitions</span>
</pre></div>
</div>
<p>Test that coefficient also works for those parents that do not yet have an element_class:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">DihedralGroup</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="n">G</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s">&quot;element_class&quot;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">an_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="n">g</span><span class="p">))</span><span class="o">.</span><span class="n">coefficient</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.coefficients">
<tt class="descname">coefficients</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.coefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the coefficients appearing on the basis elements in
self.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">coefficients</span><span class="p">()</span>
<span class="go">[1, -3]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">schur</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">s</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">coefficients</span><span class="p">()</span>
<span class="go">[1, 1, 1, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.is_zero">
<tt class="descname">is_zero</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.is_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if and only self == 0.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">is_zero</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">zero</span><span class="p">()</span><span class="o">.</span><span class="n">is_zero</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">schur</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">is_zero</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">s</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_zero</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">s</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">-</span> <span class="n">s</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span><span class="o">.</span><span class="n">is_zero</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.length">
<tt class="descname">length</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.length" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of basis elements of self with nonzero
coefficients.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">length</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">schur</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">s</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">length</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.monomial_coefficients">
<tt class="descname">monomial_coefficients</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.monomial_coefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the internal dictionary which has the combinatorial objects
indexing the basis as keys and their corresponding coefficients as
values.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">monomial_coefficients</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="go">3</span>
</pre></div>
</div>
<p>To run through the monomials of an element, it is better to
use the idiom:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="k">for</span> <span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">c</span><span class="p">)</span> <span class="ow">in</span> <span class="n">f</span><span class="p">:</span>
<span class="gp">... </span>      <span class="k">print</span> <span class="n">t</span><span class="p">,</span><span class="n">c</span>
<span class="go">a 1</span>
<span class="go">c 3</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">schur</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">s</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="mi">2</span><span class="o">*</span><span class="n">s</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">monomial_coefficients</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&lt;type &#39;dict&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span> <span class="n">Partition</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="p">]</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span> <span class="n">Partition</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span> <span class="p">]</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.monomials">
<tt class="descname">monomials</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.monomials" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">monomials</span><span class="p">()</span>
<span class="go">[B[&#39;a&#39;], B[&#39;c&#39;]]</span>

<span class="gp">sage: </span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">zero</span><span class="p">())</span><span class="o">.</span><span class="n">monomials</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.support">
<tt class="descname">support</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.support" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the combinatorial objects indexing the basis
elements of self which non-zero coefficients.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">support</span><span class="p">()</span>
<span class="go">[&#39;a&#39;, &#39;c&#39;]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">s</span> <span class="o">=</span> <span class="n">SymmetricFunctions</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span><span class="o">.</span><span class="n">schur</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">s</span><span class="p">([</span><span class="mi">4</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="n">s</span><span class="p">([</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">z</span><span class="o">.</span><span class="n">support</span><span class="p">()</span>
<span class="go">[[1], [1, 1, 1], [2, 1], [4]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.terms">
<tt class="descname">terms</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.terms" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of the terms of <tt class="docutils literal"><span class="pre">self</span></tt></p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.monomials" title="sage.combinat.free_module.CombinatorialFreeModuleElement.monomials"><tt class="xref py py-meth docutils literal"><span class="pre">monomials()</span></tt></a></p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">terms</span><span class="p">()</span>
<span class="go">[B[&#39;a&#39;], 2*B[&#39;c&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModuleElement.to_vector">
<tt class="descname">to_vector</tt><big>(</big><em>new_base_ring=None</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModuleElement.to_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">self</span></tt> as a dense vector</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">new_base_ring</span></tt> &#8211; a ring (default: None)</li>
</ul>
<p>OUTPUT: a dense <tt class="xref py py-func docutils literal"><span class="pre">FreeModule()</span></tt> vector</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This will crash/run forever if <tt class="docutils literal"><span class="pre">self</span></tt> is infinite dimensional!</p>
</div>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="../../../modules/sage/modules/free_module_element.html#sage.modules.free_module_element.vector" title="(in Sage Reference Manual: Modules v6.7)"><tt class="xref py py-func docutils literal"><span class="pre">vector()</span></tt></a></li>
<li><a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule.get_order" title="sage.combinat.free_module.CombinatorialFreeModule.get_order"><tt class="xref py py-meth docutils literal"><span class="pre">CombinatorialFreeModule.get_order()</span></tt></a></li>
<li><a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule.from_vector" title="sage.combinat.free_module.CombinatorialFreeModule.from_vector"><tt class="xref py py-meth docutils literal"><span class="pre">CombinatorialFreeModule.from_vector()</span></tt></a></li>
<li><tt class="xref py py-meth docutils literal"><span class="pre">CombinatorialFreeModule._dense_free_module()</span></tt></li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">_vector_</span><span class="p">()</span>
<span class="go">(1, 0, -3)</span>
</pre></div>
</div>
<p>One can use equivalently:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">to_vector</span><span class="p">()</span>
<span class="go">(1, 0, -3)</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">(1, 0, -3)</span>
</pre></div>
</div>
<p>More examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">QS3</span> <span class="o">=</span> <span class="n">SymmetricGroupAlgebra</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">QS3</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">+</span><span class="mi">4</span><span class="o">*</span><span class="n">QS3</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">_vector_</span><span class="p">()</span>
<span class="go">(2, 0, 0, 0, 0, 4)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">to_vector</span><span class="p">()</span>
<span class="go">(2, 0, 0, 0, 0, 4)</span>
<span class="gp">sage: </span><span class="n">vector</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">(2, 0, 0, 0, 0, 4)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">QS3</span><span class="o">.</span><span class="n">from_vector</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">to_vector</span><span class="p">())</span>
<span class="go">True</span>
</pre></div>
</div>
<p>If &#8216;&#8217;new_base_ring&#8217;&#8217; is specified, then a vector over
&#8216;&#8217;new_base_ring&#8217;&#8217; is returned:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">_vector_</span><span class="p">(</span><span class="n">RDF</span><span class="p">)</span>
<span class="go">(2.0, 0.0, 0.0, 0.0, 0.0, 4.0)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p><a class="reference external" href="http://trac.sagemath.org/13406">trac ticket #13406</a>: the current implementation has been optimized, at
the price of breaking the encapsulation for FreeModule
elements creation, with the following use case as metric,
on a 2008&#8217; Macbook Pro:</p>
<div class="last highlight-python"><div class="highlight"><pre>   sage: F = CombinatorialFreeModule(QQ, range(10))
   sage: f = F.an_element()
   sage: %timeit f._vector_()   # not tested
   625 loops, best of 3: 17.5 micros per loop

Other use cases may call for different or further
optimizations.
</pre></div>
</div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct">
<em class="property">class </em><tt class="descclassname">sage.combinat.free_module.</tt><tt class="descname">CombinatorialFreeModule_CartesianProduct</tt><big>(</big><em>modules</em>, <em>**options</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule" title="sage.combinat.free_module.CombinatorialFreeModule"><tt class="xref py py-class docutils literal"><span class="pre">sage.combinat.free_module.CombinatorialFreeModule</span></tt></a></p>
<p>An implementation of cartesian products of modules with basis</p>
<p>EXAMPLES:</p>
<p>We construct two free modules, assign them short names, and construct their cartesian product:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]);</span> <span class="n">F</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;F&quot;</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]);</span> <span class="n">G</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;G&quot;</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">7</span><span class="p">]);</span> <span class="n">H</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;H&quot;</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">S</span>
<span class="go">F (+) G</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="go">Lazy family (Term map from Disjoint union of Family ({4, 5}, {4, 6}) to F (+) G(i))_{i in Disjoint union of Family ({4, 5}, {4, 6})}</span>
</pre></div>
</div>
<p>Note that the indices of the basis elements of F and G intersect non
trivially. This is handled by forcing the union to be disjoint:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">S</span><span class="o">.</span><span class="n">basis</span><span class="p">())</span>
<span class="go">[B[(0, 4)], B[(0, 5)], B[(1, 4)], B[(1, 6)]]</span>
</pre></div>
</div>
<p>We now compute the cartesian product of elements of free modules:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span>   <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span>     <span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span>   <span class="n">H</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span>     <span class="n">H</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">cartesian_product</span><span class="p">([</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">])</span>
<span class="go">B[(0, 4)] + 2*B[(0, 5)] + 2*B[(1, 4)] + B[(1, 6)]</span>
<span class="gp">sage: </span><span class="n">cartesian_product</span><span class="p">([</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">h</span><span class="p">])</span>
<span class="go">B[(0, 4)] + 2*B[(0, 5)] + 2*B[(1, 4)] + B[(1, 6)] + B[(2, 4)] + B[(2, 7)]</span>
<span class="gp">sage: </span><span class="n">cartesian_product</span><span class="p">([</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">,</span><span class="n">h</span><span class="p">])</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">F (+) G (+) H</span>
</pre></div>
</div>
<p>TODO: choose an appropriate semantic for cartesian products of cartesian products (associativity?):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">cartesian_product</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">]),</span> <span class="n">H</span><span class="p">])</span> <span class="c"># todo: not implemented</span>
<span class="go">F (+) G (+) H</span>
</pre></div>
</div>
<dl class="class">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.Element">
<em class="property">class </em><tt class="descname">Element</tt><big>(</big><em>M</em>, <em>x</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModuleElement" title="sage.combinat.free_module.CombinatorialFreeModuleElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.combinat.free_module.CombinatorialFreeModuleElement</span></tt></a></p>
<p>Create a combinatorial module element. This should never be
called directly, but only through the parent combinatorial
free module&#8217;s <tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt> method.</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">,</span><span class="s">&#39;b&#39;</span><span class="p">,</span><span class="s">&#39;c&#39;</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">B</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="mi">3</span><span class="o">*</span><span class="n">B</span><span class="p">[</span><span class="s">&#39;c&#39;</span><span class="p">];</span> <span class="n">f</span>
<span class="go">B[&#39;a&#39;] + 3*B[&#39;c&#39;]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">==</span> <span class="n">loads</span><span class="p">(</span><span class="n">dumps</span><span class="p">(</span><span class="n">f</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.cartesian_embedding">
<tt class="descclassname">CombinatorialFreeModule_CartesianProduct.</tt><tt class="descname">cartesian_embedding</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.cartesian_embedding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the natural embedding morphism of the <tt class="docutils literal"><span class="pre">i</span></tt>-th
cartesian factor (summand) of <tt class="docutils literal"><span class="pre">self</span></tt> into <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>INPUTS:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> &#8211; an integer</li>
</ul>
</div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]);</span> <span class="n">F</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;F&quot;</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]);</span> <span class="n">G</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;G&quot;</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">cartesian_embedding</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">B[(0, 4)] + 2*B[(0, 5)]</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">S</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">AssertionError</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.cartesian_factors">
<tt class="descclassname">CombinatorialFreeModule_CartesianProduct.</tt><tt class="descname">cartesian_factors</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.cartesian_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the factors of the cartesian product.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]);</span> <span class="n">F</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;F&quot;</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]);</span> <span class="n">G</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;G&quot;</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_factors</span><span class="p">()</span>
<span class="go">(F, G)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.cartesian_projection">
<tt class="descclassname">CombinatorialFreeModule_CartesianProduct.</tt><tt class="descname">cartesian_projection</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.cartesian_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the natural projection onto the <span class="math">\(i\)</span>-th cartesian factor
(summand) of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>INPUTS:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> &#8211; an integer</li>
</ul>
</div></blockquote>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]);</span> <span class="n">F</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;F&quot;</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]);</span> <span class="n">G</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;G&quot;</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">monomial</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">S</span><span class="o">.</span><span class="n">monomial</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">S</span><span class="o">.</span><span class="n">monomial</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_projection</span><span class="p">(</span><span class="mi">0</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="go">B[4] + 2*B[5]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_projection</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="go">3*B[6]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_projection</span><span class="p">(</span><span class="mi">0</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">F</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_projection</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">G</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.summand_embedding">
<tt class="descclassname">CombinatorialFreeModule_CartesianProduct.</tt><tt class="descname">summand_embedding</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.summand_embedding" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the natural embedding morphism of the <tt class="docutils literal"><span class="pre">i</span></tt>-th
cartesian factor (summand) of <tt class="docutils literal"><span class="pre">self</span></tt> into <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>INPUTS:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> &#8211; an integer</li>
</ul>
</div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]);</span> <span class="n">F</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;F&quot;</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]);</span> <span class="n">G</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;G&quot;</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">cartesian_embedding</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">B[(0, 4)] + 2*B[(0, 5)]</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">S</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">AssertionError</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.summand_projection">
<tt class="descclassname">CombinatorialFreeModule_CartesianProduct.</tt><tt class="descname">summand_projection</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_CartesianProduct.summand_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the natural projection onto the <span class="math">\(i\)</span>-th cartesian factor
(summand) of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>INPUTS:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> &#8211; an integer</li>
</ul>
</div></blockquote>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]);</span> <span class="n">F</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;F&quot;</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">6</span><span class="p">]);</span> <span class="n">G</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;G&quot;</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">cartesian_product</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">monomial</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">S</span><span class="o">.</span><span class="n">monomial</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">S</span><span class="o">.</span><span class="n">monomial</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_projection</span><span class="p">(</span><span class="mi">0</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="go">B[4] + 2*B[5]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_projection</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span>
<span class="go">3*B[6]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_projection</span><span class="p">(</span><span class="mi">0</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">F</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">cartesian_projection</span><span class="p">(</span><span class="mi">1</span><span class="p">)(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">G</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_Tensor">
<em class="property">class </em><tt class="descclassname">sage.combinat.free_module.</tt><tt class="descname">CombinatorialFreeModule_Tensor</tt><big>(</big><em>modules</em>, <em>**options</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_Tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.combinat.free_module.CombinatorialFreeModule" title="sage.combinat.free_module.CombinatorialFreeModule"><tt class="xref py py-class docutils literal"><span class="pre">sage.combinat.free_module.CombinatorialFreeModule</span></tt></a></p>
<p>Tensor Product of Free Modules</p>
<p>EXAMPLES:</p>
<p>We construct two free modules, assign them short names, and construct their tensor product:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">F</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;F&quot;</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]);</span> <span class="n">G</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;G&quot;</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">]);</span> <span class="n">T</span>
<span class="go">F # G</span>

<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">category</span><span class="p">()</span>
<span class="go">Category of tensor products of modules with basis over Integer Ring</span>

<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">construction</span><span class="p">()</span> <span class="c"># todo: not implemented</span>
<span class="go">[tensor, ]</span>
</pre></div>
</div>
<p>T is a free module, with same base ring as F and G:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
<p>The basis of T is indexed by tuples of basis indices of F and G:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="go">Image of Cartesian product of {1, 2}, {3, 4} by &lt;type &#39;tuple&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[(1, 3), (1, 4), (2, 3), (2, 4)]</span>
</pre></div>
</div>
<p>FIXME: Should elements of a CartesianProduct be tuples (making them hashable)?</p>
<p>Here are the basis elements themselves:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">basis</span><span class="p">()</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">T</span><span class="o">.</span><span class="n">basis</span><span class="p">())</span>
<span class="go">[B[1] # B[3], B[1] # B[4], B[2] # B[3], B[2] # B[4]]</span>
</pre></div>
</div>
<p>The tensor product is associative and flattens sub tensor products:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]);</span> <span class="n">H</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s">&quot;H&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">tensor</span><span class="p">([</span><span class="n">G</span><span class="p">,</span> <span class="n">H</span><span class="p">])])</span>
<span class="go">F # G # H</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">]),</span> <span class="n">H</span><span class="p">])</span>
<span class="go">F # G # H</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">H</span><span class="p">])</span>
<span class="go">F # G # H</span>
</pre></div>
</div>
<p>We now compute the tensor product of elements of free modules:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span>   <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span>     <span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span>   <span class="n">H</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span>     <span class="n">H</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">])</span>
<span class="go">2*B[1] # B[3] + B[1] # B[4] + 4*B[2] # B[3] + 2*B[2] # B[4]</span>
</pre></div>
</div>
<p>Again, the tensor product is associative on elements:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">tensor</span><span class="p">([</span><span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">])])</span> <span class="o">==</span> <span class="n">tensor</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">tensor</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">]),</span> <span class="n">h</span><span class="p">])</span> <span class="o">==</span> <span class="n">tensor</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Note further that the tensor product spaces need not preexist:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">tensor</span><span class="p">([</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">F # G # H</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">]),</span> <span class="n">H</span><span class="p">])</span> <span class="o">==</span> <span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">H</span><span class="p">])</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">tensor</span><span class="p">([</span><span class="n">G</span><span class="p">,</span> <span class="n">H</span><span class="p">])])</span> <span class="o">==</span> <span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">H</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.combinat.free_module.CombinatorialFreeModule_Tensor.tensor_constructor">
<tt class="descname">tensor_constructor</tt><big>(</big><em>modules</em><big>)</big><a class="headerlink" href="#sage.combinat.free_module.CombinatorialFreeModule_Tensor.tensor_constructor" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">modules</span></tt> &#8211; a tuple <span class="math">\((F_1,\dots,F_n)\)</span> of
free modules whose tensor product is self</li>
</ul>
</div></blockquote>
<p>Returns the canonical multilinear morphism from
<span class="math">\(F_1 \times \dots \times F_n\)</span> to <span class="math">\(F_1 \otimes \dots \otimes F_n\)</span></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]);</span> <span class="n">F</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;F&quot;</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]);</span> <span class="n">G</span><span class="o">.</span><span class="n">__custom_name</span> <span class="o">=</span> <span class="s">&quot;G&quot;</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">CombinatorialFreeModule</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]);</span> <span class="n">H</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s">&quot;H&quot;</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span>   <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">F</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span>     <span class="n">G</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span>   <span class="n">H</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">+</span>     <span class="n">H</span><span class="o">.</span><span class="n">monomial</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">FG</span>  <span class="o">=</span> <span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span>   <span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi_fg</span> <span class="o">=</span> <span class="n">FG</span><span class="o">.</span><span class="n">tensor_constructor</span><span class="p">((</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">phi_fg</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="n">g</span><span class="p">)</span>
<span class="go">2*B[1] # B[3] + B[1] # B[4] + 4*B[2] # B[3] + 2*B[2] # B[4]</span>

<span class="gp">sage: </span><span class="n">FGH</span> <span class="o">=</span> <span class="n">tensor</span><span class="p">([</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">H</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi_fgh</span> <span class="o">=</span> <span class="n">FGH</span><span class="o">.</span><span class="n">tensor_constructor</span><span class="p">((</span><span class="n">F</span><span class="p">,</span> <span class="n">G</span><span class="p">,</span> <span class="n">H</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">phi_fgh</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
<span class="go">2*B[1] # B[3] # B[5] + 2*B[1] # B[3] # B[6] + B[1] # B[4] # B[5] + B[1] # B[4] # B[6] + 4*B[2] # B[3] # B[5] + 4*B[2] # B[3] # B[6] + 2*B[2] # B[4] # B[5] + 2*B[2] # B[4] # B[6]</span>

<span class="gp">sage: </span><span class="n">phi_fg_h</span> <span class="o">=</span> <span class="n">FGH</span><span class="o">.</span><span class="n">tensor_constructor</span><span class="p">((</span><span class="n">FG</span><span class="p">,</span> <span class="n">H</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">phi_fg_h</span><span class="p">(</span><span class="n">phi_fg</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">g</span><span class="p">),</span> <span class="n">h</span><span class="p">)</span>
<span class="go">2*B[1] # B[3] # B[5] + 2*B[1] # B[3] # B[6] + B[1] # B[4] # B[5] + B[1] # B[4] # B[6] + 4*B[2] # B[3] # B[5] + 4*B[2] # B[3] # B[6] + 2*B[2] # B[4] # B[5] + 2*B[2] # B[4] # B[6]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="finite_state_machine_generators.html"
                                  title="previous chapter">Common Transducers (Finite State Machines Generators)</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="free_prelie_algebra.html"
                                  title="next chapter">Free Pre-Lie Algebras</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/combinat/free_module.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="free_prelie_algebra.html" title="Free Pre-Lie Algebras"
             >next</a> |</li>
        <li class="right" >
          <a href="finite_state_machine_generators.html" title="Common Transducers (Finite State Machines Generators)"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Combinatorics</a> &raquo;</li>

          <li><a href="../../module_list.html" >Comprehensive Module list</a> &raquo;</li> 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>