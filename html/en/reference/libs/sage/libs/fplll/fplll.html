<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>fpLLL library &mdash; Sage Reference Manual v6.9: C/C++ Library Interfaces</title>
    
    <link rel="stylesheet" href="../../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '6.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.9: C/C++ Library Interfaces" href="../../../index.html" />
    <link rel="next" title="Readline" href="../readline.html" />
    <link rel="prev" title="Ring of pari objects" href="../../rings/pari_ring.html" />
    <link rel="icon" href="../../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../readline.html" title="Readline"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../rings/pari_ring.html" title="Ring of pari objects"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../../index.html">C/C++ Library Interfaces</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="fplll-library">
<span id="sage-libs-fplll-fplll"></span><h1>fpLLL library<a class="headerlink" href="#fplll-library" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.libs.fplll.fplll"></span><p>Wrapper for the fpLLL library by Damien Stehle, Xavier Pujol and David Cade
found at <a class="reference external" href="http://perso.ens-lyon.fr/damien.stehle/fplll/">http://perso.ens-lyon.fr/damien.stehle/fplll/</a>.</p>
<p>This wrapper provides access to fpLLL&#8217;s LLL, BKZ and enumeration
implementations.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>Martin Albrecht (2007-10) initial release</li>
<li>Martin Albrecht (2014-03) update to fpLLL 4.0 interface</li>
</ul>
<dl class="class">
<dt id="sage.libs.fplll.fplll.FP_LLL">
<em class="property">class </em><tt class="descclassname">sage.libs.fplll.fplll.</tt><tt class="descname">FP_LLL</tt><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>A basic wrapper class to support conversion to/from Sage integer matrices
and executing LLL/BKZ computations.</p>
<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.BKZ">
<tt class="descname">BKZ</tt><big>(</big><em>block_size</em>, <em>delta='LLL_DEF_DELTA'</em>, <em>float_type=None</em>, <em>precision=0</em>, <em>max_loops=0</em>, <em>max_time=0</em>, <em>verbose=False</em>, <em>no_lll=False</em>, <em>bounded_lll=False</em>, <em>auto_abort=False</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.BKZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Run BKZ reduction.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">block_size</span></tt> &#8211; an integer from 1 to <tt class="docutils literal"><span class="pre">nrows</span></tt></li>
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.99</span></tt>) LLL parameter <span class="math">\(0.25 &lt; \delta &lt; 1.0\)</span></li>
<li><tt class="docutils literal"><span class="pre">float_type</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">None</span></tt>) can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">None</span></tt> - for automatic choice</li>
<li><tt class="docutils literal"><span class="pre">'double'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'long</span> <span class="pre">double'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'dpe'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'mpfr'</span></tt></li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">verbose</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">False</span></tt>) be verbose</li>
<li><tt class="docutils literal"><span class="pre">no_lll</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">False</span></tt>) to use LLL</li>
<li><tt class="docutils literal"><span class="pre">bounded_lll</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">False</span></tt>) bounded LLL</li>
<li><tt class="docutils literal"><span class="pre">precision</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0</span></tt> for automatic choice) bit
precision to use if <tt class="docutils literal"><span class="pre">fp</span></tt> is <tt class="docutils literal"><span class="pre">'rr'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">max_loops</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0</span></tt> for no restriction) maximum
number of full loops</li>
<li><tt class="docutils literal"><span class="pre">max_time</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0</span></tt> for no restricion) stop after
time seconds (up to loop completion)</li>
<li><tt class="docutils literal"><span class="pre">auto_abort</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">False</span></tt>) heuristic, stop when the
average slope of <span class="math">\(\log(\lVert b_i^* \rVert)\)</span> does not decrease
fast enough</li>
</ul>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal state is modified.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">crypto</span><span class="o">.</span><span class="n">gen_lattice</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s">&#39;random&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mi">2</span><span class="o">^</span><span class="mi">90</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>

<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">LLL</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">7.810...</span>

<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">BKZ</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">6.164...</span>


<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">crypto</span><span class="o">.</span><span class="n">gen_lattice</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s">&#39;random&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">60</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mi">2</span><span class="o">^</span><span class="mi">90</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">BKZ</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="n">max_loops</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">====== Wrapper: calling fast&lt;mpz_t,double&gt; method ======</span>
<span class="gp">...</span>
<span class="go">loops limit exceeded in BKZ</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">norm</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">6.480...</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.HKZ">
<tt class="descname">HKZ</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.HKZ" title="Permalink to this definition">¶</a></dt>
<dd><p>Run HKZ reduction.</p>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal state is modified.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">crypto</span><span class="o">.</span><span class="n">gen_lattice</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s">&#39;random&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mi">2</span><span class="o">^</span><span class="mi">60</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">HKZ</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">()</span>
<span class="go">[ -8  27   7  19  10  -5  14  34   4 -18]</span>
<span class="go">[-22  23   3 -14  11  30 -12  26  17  26]</span>
<span class="go">[-20   6 -18  33 -26  16   8 -15 -14 -26]</span>
<span class="go">[ -2  30   9 -30 -28 -19  -7 -28  12 -15]</span>
<span class="go">[-16   1  25 -23 -11 -21 -39   4 -34 -13]</span>
<span class="go">[-27  -2 -24 -67  32 -13  -6   0  15  -4]</span>
<span class="go">[  9 -12   7  31  22  -7 -63  11  27  36]</span>
<span class="go">[ 14  -4   0 -21 -17  -7  -9  35  79 -22]</span>
<span class="go">[-17 -16  54  21   0 -17  28 -45  -6  12]</span>
<span class="go">[ 43  16   6  30  24  17 -39 -46 -18 -22]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.LLL">
<tt class="descname">LLL</tt><big>(</big><em>delta='LLL_DEF_DELTA'</em>, <em>eta='LLL_DEF_ETA'</em>, <em>method=None</em>, <em>float_type=None</em>, <em>precision=0</em>, <em>verbose=False</em>, <em>siegel=False</em>, <em>early_red=False</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.LLL" title="Permalink to this definition">¶</a></dt>
<dd><p><span class="math">\((\delta,\eta)\)</span>-LLL reduce this lattice.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.99</span></tt>) parameter <span class="math">\(0.25 &lt; \delta &lt; 1.0\)</span></li>
<li><tt class="docutils literal"><span class="pre">eta</span> <span class="pre">``</span> <span class="pre">--</span> <span class="pre">(default:</span> <span class="pre">``0.51</span></tt>) parameter <span class="math">\(0.5 \leq \eta &lt;
\sqrt{\delta}\)</span></li>
<li><tt class="docutils literal"><span class="pre">method</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">None</span></tt>) can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">'wrapper'</span></tt> (<tt class="docutils literal"><span class="pre">None</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">'proved'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'fast'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'heuristic'</span></tt></li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">float_type</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">None</span></tt>) can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">None</span></tt> - for automatic choice</li>
<li><tt class="docutils literal"><span class="pre">'double'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'long</span> <span class="pre">double'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'dpe'</span></tt></li>
<li><tt class="docutils literal"><span class="pre">'mpfr'</span></tt></li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">precision</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0</span></tt> for automatic choice) precision
to use</li>
<li><tt class="docutils literal"><span class="pre">verbose</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">False</span></tt>) be verbose</li>
<li><tt class="docutils literal"><span class="pre">siegel</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">False</span></tt>) use Siegel conditioning</li>
<li><tt class="docutils literal"><span class="pre">early_red</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">False</span></tt>) use early reduction</li>
</ul>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal state is modified.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">LLL</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;wrapper&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">LLL</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;proved&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">x</span><span class="o">=-</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">),</span><span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">LLL</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;fast&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">_sage_</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">(</span><span class="n">eta</span><span class="o">=</span><span class="mf">0.51</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">LLL</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;fast&quot;</span><span class="p">,</span> <span class="n">early_red</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">(</span><span class="n">eta</span><span class="o">=</span><span class="mf">0.51</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">LLL</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;heuristic&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">(</span><span class="n">eta</span><span class="o">=</span><span class="mf">0.51</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">set_random_seed</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">LLL</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s">&quot;heuristic&quot;</span><span class="p">,</span> <span class="n">early_red</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">(</span><span class="n">eta</span><span class="o">=</span><span class="mf">0.51</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.fast">
<tt class="descname">fast</tt><big>(</big><em>precision=0</em>, <em>eta=0.51</em>, <em>delta=0.99</em>, <em>implementation=None</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform LLL reduction using fpLLL&#8217;s fast
implementation.  This implementation is the fastest floating
point implementation currently available in the free software world.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">precision</span></tt> &#8211; (default: auto) internal precision</li>
<li><tt class="docutils literal"><span class="pre">eta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.51</span></tt>) LLL parameter <span class="math">\(\eta\)</span> with
<span class="math">\(1/2 \leq \eta &lt; \sqrt{\delta}\)</span></li>
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.99</span></tt>) LLL parameter <span class="math">\(\delta\)</span> with
<span class="math">\(1/4 &lt; \delta \leq 1\)</span></li>
<li><tt class="docutils literal"><span class="pre">implementation</span></tt> &#8211; ignored</li>
</ul>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal is state modified.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="n">x</span><span class="o">=-</span><span class="p">(</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">),</span><span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="o">^</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">fast</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">_sage_</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">(</span><span class="n">eta</span><span class="o">=</span><span class="mf">0.51</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.fast_early_red">
<tt class="descname">fast_early_red</tt><big>(</big><em>precision=0</em>, <em>eta=0.51</em>, <em>delta=0.99</em>, <em>implementation=None</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.fast_early_red" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform LLL reduction using fpLLL&#8217;s fast
implementation with early reduction.</p>
<p>This implementation inserts some early reduction steps inside
the execution of the &#8216;fast&#8217; LLL algorithm. This sometimes makes the
entries of the basis smaller very quickly. It occurs in
particular for lattice bases built from minimal polynomial or
integer relation detection problems.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">precision</span></tt> &#8211; (default: auto) internal precision</li>
<li><tt class="docutils literal"><span class="pre">eta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.51</span></tt>) LLL parameter <span class="math">\(\eta\)</span> with
<span class="math">\(1/2 \leq \eta &lt; \sqrt{\delta}\)</span></li>
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.99</span></tt>) LLL parameter <span class="math">\(\delta\)</span> with
<span class="math">\(1/4 &lt; \delta \leq 1\)</span></li>
<li><tt class="docutils literal"><span class="pre">implementation</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">&quot;mpfr&quot;</span></tt>) which floating point
implementation to use, can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">&quot;double&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;dpe&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;mpfr&quot;</span></tt></li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal state modified.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">fast_early_red</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">(</span><span class="n">eta</span><span class="o">=</span><span class="mf">0.51</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.heuristic">
<tt class="descname">heuristic</tt><big>(</big><em>precision=0</em>, <em>eta=0.51</em>, <em>delta=0.99</em>, <em>implementation=None</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.heuristic" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform LLL reduction using fpLLL&#8217;s heuristic
implementation.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">precision</span></tt> &#8211; (default: auto) internal precision</li>
<li><tt class="docutils literal"><span class="pre">eta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.51</span></tt>) LLL parameter <span class="math">\(\eta\)</span> with
<span class="math">\(1/2 \leq \eta &lt; \sqrt{\delta}\)</span></li>
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.99</span></tt>) LLL parameter <span class="math">\(\delta\)</span> with
<span class="math">\(1/4 &lt; \delta \leq 1\)</span></li>
<li><tt class="docutils literal"><span class="pre">implementation</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">&quot;mpfr&quot;</span></tt>) which floating point
implementation to use, can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">&quot;double&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;dpe&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;mpfr&quot;</span></tt></li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal state modified.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">heuristic</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">(</span><span class="n">eta</span><span class="o">=</span><span class="mf">0.51</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.heuristic_early_red">
<tt class="descname">heuristic_early_red</tt><big>(</big><em>precision=0</em>, <em>eta=0.51</em>, <em>delta=0.99</em>, <em>implementation=None</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.heuristic_early_red" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform LLL reduction using fpLLL&#8217;s heuristic
implementation with early reduction.</p>
<p>This implementation inserts some early reduction steps inside
the execution of the &#8216;fast&#8217; LLL algorithm. This sometimes
makes the entries of the basis smaller very quickly. It occurs
in particular for lattice bases built from minimal polynomial
or integer relation detection problems.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">precision</span></tt> &#8211; (default: auto) internal precision</li>
<li><tt class="docutils literal"><span class="pre">eta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.51</span></tt>) LLL parameter <span class="math">\(\eta\)</span> with
<span class="math">\(1/2 \leq \eta &lt; \sqrt{\delta}\)</span></li>
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.99</span></tt>) LLL parameter <span class="math">\(\delta\)</span> with
<span class="math">\(1/4 &lt; \delta \leq 1\)</span></li>
<li><tt class="docutils literal"><span class="pre">implementation</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">&quot;mpfr&quot;</span></tt>) which floating point
implementation to use, can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">&quot;double&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;dpe&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;mpfr&quot;</span></tt></li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal state modified.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">heuristic_early_red</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">(</span><span class="n">eta</span><span class="o">=</span><span class="mf">0.51</span><span class="p">,</span><span class="n">delta</span><span class="o">=</span><span class="mf">0.99</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.proved">
<tt class="descname">proved</tt><big>(</big><em>precision=0</em>, <em>eta=0.51</em>, <em>delta=0.99</em>, <em>implementation=None</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.proved" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform LLL reduction using fpLLL&#8217;s <tt class="docutils literal"><span class="pre">proved</span></tt>
implementation. This implementation is the only provable
correct floating point implementation in the free software
world. Provability is only guaranteed if the <tt class="docutils literal"><span class="pre">'mpfr'</span></tt>
implementation is chosen.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">precision</span></tt> &#8211; (default: auto) internal precision</li>
<li><tt class="docutils literal"><span class="pre">eta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.51</span></tt>) LLL parameter <span class="math">\(\eta\)</span> with
<span class="math">\(1/2 \leq \eta &lt; \sqrt{δ}\)</span></li>
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.99</span></tt>) LLL parameter <span class="math">\(\delta\)</span> with
<span class="math">\(1/4 &lt; \delta \leq 1\)</span></li>
<li><tt class="docutils literal"><span class="pre">implementation</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">&quot;mpfr&quot;</span></tt>) which floating point
implementation to use, can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">&quot;double&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;dpe&quot;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&quot;mpfr&quot;</span></tt></li>
</ul>
</li>
</ul>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal state modified.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">proved</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>

<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.shortest_vector">
<tt class="descname">shortest_vector</tt><big>(</big><em>method=None</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.shortest_vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a shortest vector.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">method</span></tt> - (default: <tt class="docutils literal"><span class="pre">&quot;proved&quot;</span></tt>) <tt class="docutils literal"><span class="pre">&quot;proved&quot;</span></tt> or <tt class="docutils literal"><span class="pre">&quot;fast&quot;</span></tt></li>
</ul>
<p>OUTPUT:</p>
<p>A shortest non-zero vector for this lattice.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">crypto</span><span class="o">.</span><span class="n">gen_lattice</span><span class="p">(</span><span class="nb">type</span><span class="o">=</span><span class="s">&#39;random&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">m</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">q</span><span class="o">=</span><span class="mi">2</span><span class="o">^</span><span class="mi">60</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">shortest_vector</span><span class="p">(</span><span class="s">&#39;proved&#39;</span><span class="p">)</span>  <span class="o">==</span> <span class="n">F</span><span class="o">.</span><span class="n">shortest_vector</span><span class="p">(</span><span class="s">&#39;fast&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.libs.fplll.fplll.FP_LLL.wrapper">
<tt class="descname">wrapper</tt><big>(</big><em>precision=0</em>, <em>eta=0.51</em>, <em>delta=0.99</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.FP_LLL.wrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform LLL reduction using fpLLL&#8217;s code{wrapper}
implementation. This implementation invokes a sequence of
floating point LLL computations such that</p>
<ul class="simple">
<li>the computation is reasonably fast (based on an heuristic model)</li>
<li>the result is proven to be LLL reduced.</li>
</ul>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">precision</span></tt> &#8211; (default: auto) internal precision</li>
<li><tt class="docutils literal"><span class="pre">eta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.51</span></tt>) LLL parameter <span class="math">\(\eta\)</span> with
<span class="math">\(1/2 \leq \eta &lt; \sqrt{\delta}\)</span></li>
<li><tt class="docutils literal"><span class="pre">delta</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">0.99</span></tt>) LLL parameter <span class="math">\(\delta\)</span> with
<span class="math">\(1/4 &lt; \delta \leq 1\)</span></li>
</ul>
<p>OUTPUT:</p>
<p>Nothing is returned but the internal state is modified.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">FP_LLL</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   -8     2     0     0     1    -1     2     1   -95    -1]</span>
<span class="go">[   -2   -12     0     0     1    -1     1    -1    -2    -1]</span>
<span class="go">[    4    -4    -6     5     0     0    -2     0     1    -4]</span>
<span class="go">[   -6     1    -1     1     1    -1     1    -1    -3     1]</span>
<span class="go">[    1     0     0    -3     2    -2     0    -2     1     0]</span>
<span class="go">[   -1     1     0     0     1    -1     4    -1     1    -1]</span>
<span class="go">[   14     1    -5     4    -1     0     2     4     1     1]</span>
<span class="go">[   -2    -1     0     4    -3     1    -5     0    -2    -1]</span>
<span class="go">[   -9    -1    -1     3     2     1    -1     1    -2     1]</span>
<span class="go">[   -1     2    -7     1     0     2     3 -1955   -22    -1]</span>

<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FP_LLL</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">wrapper</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">_sage_</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[   1    0    0   -3    2   -2    0   -2    1    0]</span>
<span class="go">[  -1    1    0    0    1   -1    4   -1    1   -1]</span>
<span class="go">[  -2    0    0    1    0   -2   -1   -3    0   -2]</span>
<span class="go">[  -2   -2    0   -1    3    0   -2    0    2    0]</span>
<span class="go">[   1    1    1    2    3   -2   -2    0    3    1]</span>
<span class="go">[  -4    1   -1    0    1    1    2    2   -3    3]</span>
<span class="go">[   1   -3   -7    2    3   -1    0    0   -1   -1]</span>
<span class="go">[   1   -9    1    3    1   -3    1   -1   -1    0]</span>
<span class="go">[   8    5   19    3   27    6   -3    8  -25  -22]</span>
<span class="go">[ 172  -25   57  248  261  793   76 -839  -41  376]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.libs.fplll.fplll.gen_ajtai">
<tt class="descclassname">sage.libs.fplll.fplll.</tt><tt class="descname">gen_ajtai</tt><big>(</big><em>d</em>, <em>alpha</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.gen_ajtai" title="Permalink to this definition">¶</a></dt>
<dd><p>Return Ajtai-like <span class="math">\((d \times d)\)</span>-matrix of floating point parameter
<span class="math">\(\alpha\)</span>. The matrix is lower-triangular, <span class="math">\(B_{imi}\)</span> is
<span class="math">\(~2^{ (d-i+1)^{\alpha} }\)</span> and <span class="math">\(B_{i,j}\)</span> is <span class="math">\(~B_{j,j} / 2\)</span> for <span class="math">\(j &lt; i\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">d</span></tt> &#8211; dimension</li>
<li><tt class="docutils literal"><span class="pre">alpha</span></tt> &#8211; the <span class="math">\(\alpha\)</span> above</li>
</ul>
<p>OUTPUT:</p>
<p>An integer lattice.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">gen_ajtai</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">gen_ajtai</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mf">0.7</span><span class="p">);</span> <span class="n">A</span> <span class="c"># random output</span>
<span class="go">[117   0   0   0   0   0   0   0   0   0]</span>
<span class="go">[ 11  55   0   0   0   0   0   0   0   0]</span>
<span class="go">[-47  21 104   0   0   0   0   0   0   0]</span>
<span class="go">[ -3 -22 -16  95   0   0   0   0   0   0]</span>
<span class="go">[ -8 -21  -3 -28  55   0   0   0   0   0]</span>
<span class="go">[-33 -15 -30  37   8  52   0   0   0   0]</span>
<span class="go">[-35  21  41 -31 -23  10  21   0   0   0]</span>
<span class="go">[ -9  20 -34 -23 -18 -13  -9  63   0   0]</span>
<span class="go">[-11  14 -38 -16 -26 -23  -3  11   9   0]</span>
<span class="go">[ 15  21  35  37  12   6  -2  10   1  17]</span>

<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LLL</span><span class="p">();</span> <span class="n">L</span> <span class="c"># random output</span>
<span class="go">[  4   7  -3  21 -14 -17  -1  -1  -8  17]</span>
<span class="go">[-20   0  -6   6 -11  -4 -19  10   1  17]</span>
<span class="go">[-22  -1   8 -21  18 -29   3  11   9   0]</span>
<span class="go">[ 31   8  20   2 -12  -4 -27 -22 -18   0]</span>
<span class="go">[ -2   6  -4   7  -8 -10   6  52  -9   0]</span>
<span class="go">[  3  -7  35 -12 -29  23   3  11   9   0]</span>
<span class="go">[-16  -6 -16  37   2  11  -1  -9   7 -34]</span>
<span class="go">[ 11  55   0   0   0   0   0   0   0   0]</span>
<span class="go">[ 11  14  38  16  26  23   3  11   9   0]</span>
<span class="go">[ 13 -28  -1   7 -11  11 -12   3  54   0]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.libs.fplll.fplll.gen_intrel">
<tt class="descclassname">sage.libs.fplll.fplll.</tt><tt class="descname">gen_intrel</tt><big>(</big><em>d</em>, <em>b</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.gen_intrel" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <span class="math">\((d+1 \times d)\)</span>-dimensional knapsack-type random lattice,
where the <span class="math">\(x_i\)</span>&#8216;s are random <tt class="docutils literal"><span class="pre">b</span></tt> bits integers.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">d</span></tt> &#8211; dimension</li>
<li><tt class="docutils literal"><span class="pre">b</span></tt> &#8211; bitsize of entries</li>
</ul>
<p>OUTPUT:</p>
<p>An integer lattice.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">gen_intrel</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">gen_intrel</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[116   1   0   0   0   0   0   0   0   0   0]</span>
<span class="go">[331   0   1   0   0   0   0   0   0   0   0]</span>
<span class="go">[303   0   0   1   0   0   0   0   0   0   0]</span>
<span class="go">[963   0   0   0   1   0   0   0   0   0   0]</span>
<span class="go">[456   0   0   0   0   1   0   0   0   0   0]</span>
<span class="go">[225   0   0   0   0   0   1   0   0   0   0]</span>
<span class="go">[827   0   0   0   0   0   0   1   0   0   0]</span>
<span class="go">[381   0   0   0   0   0   0   0   1   0   0]</span>
<span class="go">[ 99   0   0   0   0   0   0   0   0   1   0]</span>
<span class="go">[649   0   0   0   0   0   0   0   0   0   1]</span>

<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LLL</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[ 1  1  1  0  0  0  0 -1  1  0  0]</span>
<span class="go">[ 1  0  1  0  0 -1  1  0  0 -1  0]</span>
<span class="go">[ 0  0  1  1  0 -1  0 -1  0  0  1]</span>
<span class="go">[ 0 -1  0 -1 -1  1  0  1  0  1  0]</span>
<span class="go">[-1 -1  0 -1  0 -1  1  0  0  0  1]</span>
<span class="go">[ 0  1 -1  0  0 -1  1  1 -1  0  0]</span>
<span class="go">[ 0  0  0  0 -1  1  1  0  1 -1  0]</span>
<span class="go">[ 1 -1 -1  0  0 -1 -1  0  1  1  1]</span>
<span class="go">[-1  0  0 -1 -1  0 -1  1  2 -1  0]</span>
<span class="go">[-1 -1  0  0  1  0  2  0  0  0 -2]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.libs.fplll.fplll.gen_ntrulike">
<tt class="descclassname">sage.libs.fplll.fplll.</tt><tt class="descname">gen_ntrulike</tt><big>(</big><em>d</em>, <em>b</em>, <em>q</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.gen_ntrulike" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a NTRU-like lattice of dimension <span class="math">\((2d \times 2d)\)</span>, with the
coefficients <span class="math">\(h_i\)</span> chosen as random <span class="math">\(b\)</span> bits integers and parameter <span class="math">\(q\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre>[[ 1 0 ... 0 h0      h1 ... h_{d-1} ]
 [ 0 1 ... 0 h1      h2 ... h0      ]
 [ ................................ ]
 [ 0 0 ... 1 h_{d-1} h0 ... h_{d-1} ]
 [ 0 0 ... 0 q       0  ...  0      ]
 [ 0 0 ... 0 0       q  ...  0      ]
 [ ................................ ]
 [ 0 0 ... 0 0       0  ...  q      ]]
</pre></div>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">d</span></tt> &#8211; dimension</li>
<li><tt class="docutils literal"><span class="pre">b</span></tt> &#8211; bitsize of entries</li>
<li><tt class="docutils literal"><span class="pre">q</span></tt> &#8211; the <span class="math">\(q\)</span> above</li>
</ul>
<p>OUTPUT:</p>
<p>An integer lattice.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">gen_ntrulike</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">gen_ntrulike</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[  1   0   0   0   0 320 351 920 714  66]</span>
<span class="go">[  0   1   0   0   0 351 920 714  66 320]</span>
<span class="go">[  0   0   1   0   0 920 714  66 320 351]</span>
<span class="go">[  0   0   0   1   0 714  66 320 351 920]</span>
<span class="go">[  0   0   0   0   1  66 320 351 920 714]</span>
<span class="go">[  0   0   0   0   0  12   0   0   0   0]</span>
<span class="go">[  0   0   0   0   0   0  12   0   0   0]</span>
<span class="go">[  0   0   0   0   0   0   0  12   0   0]</span>
<span class="go">[  0   0   0   0   0   0   0   0  12   0]</span>
<span class="go">[  0   0   0   0   0   0   0   0   0  12]</span>

<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LLL</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[-1 -1  0  0  0  1  1 -2  0 -2]</span>
<span class="go">[-1  0  0  0 -1 -2  1  1 -2  0]</span>
<span class="go">[ 0 -1 -1  0  0  1 -2  0 -2  1]</span>
<span class="go">[ 0  0  1  1  0  2  0  2 -1 -1]</span>
<span class="go">[ 0  0  0  1  1  0  2 -1 -1  2]</span>
<span class="go">[-2 -1 -2  1  1  1  0  1  1  0]</span>
<span class="go">[-1 -2  1  1 -2  0  1  0  1  1]</span>
<span class="go">[ 2 -1 -1  2  1 -1  0 -1  0 -1]</span>
<span class="go">[-1 -1  2  1  2 -1 -1  0 -1  0]</span>
<span class="go">[ 1 -2 -1 -2  1  0  1  1  0  1]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.libs.fplll.fplll.gen_ntrulike2">
<tt class="descclassname">sage.libs.fplll.fplll.</tt><tt class="descname">gen_ntrulike2</tt><big>(</big><em>d</em>, <em>b</em>, <em>q</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.gen_ntrulike2" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#sage.libs.fplll.fplll.gen_ntrulike" title="sage.libs.fplll.fplll.gen_ntrulike"><tt class="xref py py-func docutils literal"><span class="pre">gen_ntrulike()</span></tt></a> but with the <span class="math">\(q\)</span> vectors coming first.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">d</span></tt> &#8211; dimension</li>
<li><tt class="docutils literal"><span class="pre">b</span></tt> &#8211; bitsize of entries</li>
<li><tt class="docutils literal"><span class="pre">q</span></tt> &#8211; see <a class="reference internal" href="#sage.libs.fplll.fplll.gen_ntrulike" title="sage.libs.fplll.fplll.gen_ntrulike"><tt class="xref py py-func docutils literal"><span class="pre">gen_ntrulike()</span></tt></a></li>
</ul>
<p>OUTPUT:</p>
<p>An integer lattice.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">gen_ntrulike2</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">gen_ntrulike2</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[ 12   0   0   0   0   0   0   0   0   0]</span>
<span class="go">[  0  12   0   0   0   0   0   0   0   0]</span>
<span class="go">[  0   0  12   0   0   0   0   0   0   0]</span>
<span class="go">[  0   0   0  12   0   0   0   0   0   0]</span>
<span class="go">[  0   0   0   0  12   0   0   0   0   0]</span>
<span class="go">[902 947 306  40 908   1   0   0   0   0]</span>
<span class="go">[947 306  40 908 902   0   1   0   0   0]</span>
<span class="go">[306  40 908 902 947   0   0   1   0   0]</span>
<span class="go">[ 40 908 902 947 306   0   0   0   1   0]</span>
<span class="go">[908 902 947 306  40   0   0   0   0   1]</span>

<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LLL</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[ 1  0  0  2 -3 -2  1  1  0  0]</span>
<span class="go">[-1  0 -2  1  2  2  1 -2 -1  0]</span>
<span class="go">[ 0  2 -1 -2  1  0 -2 -1  2  1]</span>
<span class="go">[ 0  3  0  1  3  1  0 -1  1  0]</span>
<span class="go">[ 2 -1  0 -2  1  1 -2 -1  0  2]</span>
<span class="go">[ 0 -1  0 -1 -1  1  4 -1 -1  0]</span>
<span class="go">[ 2  1  1  1 -1 -3 -2 -1 -1 -1]</span>
<span class="go">[-1  0 -1  0 -1  4 -1 -1  0  1]</span>
<span class="go">[ 0  1 -2  1  1 -1  0  1 -3 -2]</span>
<span class="go">[-2  1  1  0  1 -3 -2 -1  0  1]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.libs.fplll.fplll.gen_simdioph">
<tt class="descclassname">sage.libs.fplll.fplll.</tt><tt class="descname">gen_simdioph</tt><big>(</big><em>d</em>, <em>b</em>, <em>b2</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.gen_simdioph" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <tt class="docutils literal"><span class="pre">d</span></tt>-dimensional simultaneous diophantine approximation random
lattice, where the <tt class="docutils literal"><span class="pre">d</span></tt> <span class="math">\(x_i\)</span>&#8216;s are random <tt class="docutils literal"><span class="pre">b</span></tt> bits integers.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">d</span></tt> &#8211; dimension</li>
<li><tt class="docutils literal"><span class="pre">b</span></tt> &#8211; bitsize of entries</li>
<li><tt class="docutils literal"><span class="pre">b2</span></tt> &#8211; bitsize of entries</li>
</ul>
<p>OUTPUT:</p>
<p>An integer lattice.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">gen_simdioph</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">gen_simdioph</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[   8  395  975  566  213  694  254  629  303  597]</span>
<span class="go">[   0 1024    0    0    0    0    0    0    0    0]</span>
<span class="go">[   0    0 1024    0    0    0    0    0    0    0]</span>
<span class="go">[   0    0    0 1024    0    0    0    0    0    0]</span>
<span class="go">[   0    0    0    0 1024    0    0    0    0    0]</span>
<span class="go">[   0    0    0    0    0 1024    0    0    0    0]</span>
<span class="go">[   0    0    0    0    0    0 1024    0    0    0]</span>
<span class="go">[   0    0    0    0    0    0    0 1024    0    0]</span>
<span class="go">[   0    0    0    0    0    0    0    0 1024    0]</span>
<span class="go">[   0    0    0    0    0    0    0    0    0 1024]</span>

<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LLL</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[ 192  264 -152  272   -8  272  -48 -264  104   -8]</span>
<span class="go">[-128 -176 -240  160 -336  160   32  176  272 -336]</span>
<span class="go">[ -24 -161  147  350  385  -34  262  161  115  257]</span>
<span class="go">[ 520   75 -113  -74 -491   54  126  -75  239 -107]</span>
<span class="go">[-376 -133  255   22  229  150  350  133   95 -411]</span>
<span class="go">[-168 -103    5  402 -377 -238 -214  103 -219 -249]</span>
<span class="go">[-352   28  108 -328 -156  184   88  -28  -20  356]</span>
<span class="go">[ 120 -219  289  298  123  170 -286  219  449 -261]</span>
<span class="go">[ 160 -292   44   56  164  568  -40  292  -84 -348]</span>
<span class="go">[-192  760  152 -272    8 -272   48  264 -104    8]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.libs.fplll.fplll.gen_uniform">
<tt class="descclassname">sage.libs.fplll.fplll.</tt><tt class="descname">gen_uniform</tt><big>(</big><em>nr</em>, <em>nc</em>, <em>b</em><big>)</big><a class="headerlink" href="#sage.libs.fplll.fplll.gen_uniform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a <span class="math">\((nr \times nc)\)</span> matrix where the entries are random <tt class="docutils literal"><span class="pre">b</span></tt>
bits integers.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">nr</span></tt> &#8211; row dimension</li>
<li><tt class="docutils literal"><span class="pre">nc</span></tt> &#8211; column dimension</li>
<li><tt class="docutils literal"><span class="pre">b</span></tt> &#8211; bitsize of entries</li>
</ul>
<p>OUTPUT:</p>
<p>An integer lattice.</p>
<p>EXAMPLE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.libs.fplll.fplll</span> <span class="kn">import</span> <span class="n">gen_uniform</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">gen_uniform</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">12</span><span class="p">);</span> <span class="n">A</span>
<span class="go">[ 980 3534  533 3303 2491 2960 1475 3998  105  162]</span>
<span class="go">[1766 3683 2782  668 2356 2149 1887 2327  976 1151]</span>
<span class="go">[1573  438 1480  887 1490  634 3820 3379 4074 2669]</span>
<span class="go">[ 215 2054 2388 3214 2459  250 2921 1395 3626  434]</span>
<span class="go">[ 638 4011 3626 1864  633 1072 3651 2339 2926 1004]</span>
<span class="go">[3731  439 1087 1088 2627 3446 2669 1419  563 2079]</span>
<span class="go">[1868 3196 3712 4016 1451 2589 3327  712  647 1057]</span>
<span class="go">[2068 2761 3479 2552  197 1258 1544 1116 3090 3667]</span>
<span class="go">[1394  529 1683 1781 1779 3032   80 2712  639 3047]</span>
<span class="go">[3695 3888 3139  851 2111 3375  208 3766 3925 1465]</span>

<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">LLL</span><span class="p">();</span> <span class="n">L</span>
<span class="go">[  200 -1144  -365   755  1404  -218  -937   321  -718   790]</span>
<span class="go">[  623   813   873  -595  -422   604  -207  1265 -1418  1360]</span>
<span class="go">[ -928  -816   479  1951  -319 -1295   827   333  1232   643]</span>
<span class="go">[-1802 -1904  -952   425  -141   697   300  1608  -501  -767]</span>
<span class="go">[ -572 -2010  -734   358 -1981  1101  -870    64   381  1106]</span>
<span class="go">[  853  -223   767  1382  -529  -780  -500  1507 -2455 -1190]</span>
<span class="go">[-1016 -1755  1297 -2210  -276  -114   712   -63   370   222]</span>
<span class="go">[ -430  1471   339  -513  1361  2715  2076  -646 -1406   -60]</span>
<span class="go">[-3390   748    62   775   935  1697  -306  -618    88  -452]</span>
<span class="go">[  713 -1115  1887  -563   733  2443   816   972   876 -2074]</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">is_LLL_reduced</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">L</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span> <span class="o">==</span> <span class="n">A</span><span class="o">.</span><span class="n">hermite_form</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="../../rings/pari_ring.html"
                                  title="previous chapter">Ring of pari objects</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../readline.html"
                                  title="next chapter">Readline</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../../_sources/sage/libs/fplll/fplll.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../readline.html" title="Readline"
             >next</a> |</li>
        <li class="right" >
          <a href="../../rings/pari_ring.html" title="Ring of pari objects"
             >previous</a> |</li>
  
    
      <a href="../../../../../index.html"><img src="../../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../../index.html">C/C++ Library Interfaces</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>