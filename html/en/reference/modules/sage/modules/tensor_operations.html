<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Helper Classes to implement Tensor Operations &mdash; Sage Reference Manual v7.1: Modules</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.1: Modules" href="../../index.html" />
    <link rel="prev" title="Multiple \(\ZZ\)-Graded Filtrations of a Single Vector Space" href="multi_filtered_vector_space.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="multi_filtered_vector_space.html" title="Multiple \(\ZZ\)-Graded Filtrations of a Single Vector Space"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Modules</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="helper-classes-to-implement-tensor-operations">
<span id="sage-modules-tensor-operations"></span><h1>Helper Classes to implement Tensor Operations<a class="headerlink" href="#helper-classes-to-implement-tensor-operations" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.modules.tensor_operations"></span><div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This module is not meant to be used directly. It just provides
functionality for other classes to implement tensor operations.</p>
</div>
<p>The <a class="reference internal" href="#sage.modules.tensor_operations.VectorCollection" title="sage.modules.tensor_operations.VectorCollection"><tt class="xref py py-class docutils literal"><span class="pre">VectorCollection</span></tt></a> constructs the basis of tensor products
(and symmetric/exterior powers) in terms of a chosen collection of
vectors that generate the vector space(s).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span> <span class="n">VectorCollection</span><span class="p">,</span> <span class="n">TensorOperation</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">VW</span> <span class="o">=</span> <span class="n">TensorOperation</span><span class="p">([</span><span class="n">V</span><span class="p">,</span> <span class="n">W</span><span class="p">],</span> <span class="n">operation</span><span class="o">=</span><span class="s1">&#39;product&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here is the tensor product of two vectors:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">vectors</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">(1, 0)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">vectors</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">(1, -1)</span>
</pre></div>
</div>
<p>In a convenient choice of basis, the tensor product is
<span class="math">\((a,b)\otimes(c,d)=(ac,ad,bc,bd)\)</span>. In this example, it is one of the
vectors of the vector collection <tt class="docutils literal"><span class="pre">VW</span></tt></p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">VW</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">VW</span><span class="o">.</span><span class="n">vectors</span><span class="p">()[</span><span class="n">VW</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)]</span>
<span class="go">(1, -1, 0, 0)</span>

<span class="gp">sage: </span><span class="n">rows</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">cartesian_product</span><span class="p">((</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">))):</span>
<span class="go">....:     v = V.vectors()[i]</span>
<span class="go">....:     w = W.vectors()[j]</span>
<span class="go">....:     i_tensor_j = VW.index_map(i, j)</span>
<span class="go">....:     vw = VW.vectors()[i_tensor_j]</span>
<span class="go">....:     rows.append([i, v, j, w, i_tensor_j, vw])</span>
<span class="gp">sage: </span><span class="n">table</span><span class="p">(</span><span class="n">rows</span><span class="p">)</span>
<span class="go">      0   (1, 0)    0   (1, 1)    0   (1, 1, 0, 0)</span>
<span class="go">      0   (1, 0)    1   (1, -1)   1   (1, -1, 0, 0)</span>
<span class="go">      0   (1, 0)    2   (-1, 1)   2   (-1, 1, 0, 0)</span>
<span class="go">      1   (-1, 0)   0   (1, 1)    3   (-1, -1, 0, 0)</span>
<span class="go">      1   (-1, 0)   1   (1, -1)   2   (-1, 1, 0, 0)</span>
<span class="go">      1   (-1, 0)   2   (-1, 1)   1   (1, -1, 0, 0)</span>
<span class="go">      2   (1, 2)    0   (1, 1)    4   (1, 1, 2, 2)</span>
<span class="go">      2   (1, 2)    1   (1, -1)   5   (1, -1, 2, -2)</span>
<span class="go">      2   (1, 2)    2   (-1, 1)   6   (-1, 1, -2, 2)</span>
</pre></div>
</div>
<dl class="class">
<dt id="sage.modules.tensor_operations.TensorOperation">
<em class="property">class </em><tt class="descclassname">sage.modules.tensor_operations.</tt><tt class="descname">TensorOperation</tt><big>(</big><em>vector_collections</em>, <em>operation='product'</em><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.TensorOperation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.modules.tensor_operations.VectorCollection" title="sage.modules.tensor_operations.VectorCollection"><tt class="xref py py-class docutils literal"><span class="pre">sage.modules.tensor_operations.VectorCollection</span></tt></a></p>
<p>Auxiliary class to compute the tensor product of two
<a class="reference internal" href="#sage.modules.tensor_operations.VectorCollection" title="sage.modules.tensor_operations.VectorCollection"><tt class="xref py py-class docutils literal"><span class="pre">VectorCollection</span></tt></a> objects.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This class is only used as a base class for filtered vector
spaces. You should not use it yourself.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">vector_collections</span></tt> &#8211; a nonempty list/tuple/iterable of
<a class="reference internal" href="#sage.modules.tensor_operations.VectorCollection" title="sage.modules.tensor_operations.VectorCollection"><tt class="xref py py-class docutils literal"><span class="pre">VectorCollection</span></tt></a> objects.</li>
<li><tt class="docutils literal"><span class="pre">operation</span></tt> &#8211; string. The tensor operation. Currently allowed
values are <tt class="docutils literal"><span class="pre">product</span></tt>, <tt class="docutils literal"><span class="pre">symmetric</span></tt>, and <tt class="docutils literal"><span class="pre">antisymmetric</span></tt>.</li>
</ul>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">More general tensor operations (specified by Young tableaux)
should be implemented.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span> <span class="n">VectorCollection</span><span class="p">,</span> <span class="n">TensorOperation</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R_tensor_S</span> <span class="o">=</span> <span class="n">TensorOperation</span><span class="p">([</span><span class="n">R</span><span class="p">,</span> <span class="n">S</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">R_tensor_S</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">:</span> <span class="n">R_tensor_S</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">))</span>
<span class="go">[0 1]</span>
<span class="go">[2 3]</span>
<span class="go">[3 2]</span>
<span class="gp">sage: </span><span class="n">R_tensor_S</span><span class="o">.</span><span class="n">vectors</span><span class="p">()</span>
<span class="go">((1, 0), (-1, 0), (1, 2), (-1, -2))</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.modules.tensor_operations.TensorOperation.codomain">
<tt class="descname">codomain</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.TensorOperation.codomain" title="Permalink to this definition">¶</a></dt>
<dd><p>The codomain of the index map.</p>
<p>OUTPUT:</p>
<p>A list of integers. The image of <a class="reference internal" href="#sage.modules.tensor_operations.TensorOperation.index_map" title="sage.modules.tensor_operations.TensorOperation.index_map"><tt class="xref py py-meth docutils literal"><span class="pre">index_map()</span></tt></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span>             <span class="o">....</span><span class="p">:</span>      <span class="n">VectorCollection</span><span class="p">,</span> <span class="n">TensorOperation</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">detR</span> <span class="o">=</span> <span class="n">TensorOperation</span><span class="p">([</span><span class="n">R</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;antisymmetric&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">detR</span><span class="o">.</span><span class="n">preimage</span><span class="p">())</span>
<span class="go">[(0, 1), (0, 2), (1, 2)]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">detR</span><span class="o">.</span><span class="n">codomain</span><span class="p">())</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.tensor_operations.TensorOperation.index_map">
<tt class="descname">index_map</tt><big>(</big><em>*i</em><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.TensorOperation.index_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the result of the tensor operation.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">*i</span></tt> &#8211; list of integers. The indices (in the
corresponding factor of the tensor operation) of the domain
vector.</li>
</ul>
<p>OUTPUT:</p>
<p>The index (in <tt class="xref py py-meth docutils literal"><span class="pre">vectors()</span></tt>) of the image of the tensor
product/operation acting on the domain vectors indexed by <span class="math">\(i\)</span>.</p>
<p><tt class="docutils literal"><span class="pre">None</span></tt> is returned if the tensor operation maps the
generators to zero (usually because of antisymmetry).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span>             <span class="o">....</span><span class="p">:</span>      <span class="n">VectorCollection</span><span class="p">,</span> <span class="n">TensorOperation</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">2</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Sym3_R</span> <span class="o">=</span> <span class="n">TensorOperation</span><span class="p">([</span><span class="n">R</span><span class="p">]</span><span class="o">*</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;symmetric&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The symmetric product of the first vector <tt class="docutils literal"><span class="pre">(1,0)</span></tt>, the
second vector <tt class="docutils literal"><span class="pre">(1,2)</span></tt>, and the third vector <tt class="docutils literal"><span class="pre">(-1,-2)</span></tt>
equals the vector with index number 4 (that is, the fifth) in
the symmetric product vector collection:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Sym3_R</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>In suitable coordinates, this is the vector:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Sym3_R</span><span class="o">.</span><span class="n">vectors</span><span class="p">()[</span><span class="mi">4</span><span class="p">]</span>
<span class="go">(-4, 0, -1, -4)</span>
</pre></div>
</div>
<p>The product is symmetric:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Sym3_R</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">Sym3_R</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">4</span>
</pre></div>
</div>
<p>As another example, here is the rank-2 determinant:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span>             <span class="o">....</span><span class="p">:</span>      <span class="n">VectorCollection</span><span class="p">,</span> <span class="n">TensorOperation</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">detR</span> <span class="o">=</span> <span class="n">TensorOperation</span><span class="p">([</span><span class="n">R</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;antisymmetric&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">detR</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">detR</span><span class="o">.</span><span class="n">index_map</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">detR</span><span class="o">.</span><span class="n">_index_map</span><span class="o">.</span><span class="n">iteritems</span><span class="p">())</span>
<span class="go">[((0, 1), 0), ((0, 2), 1), ((1, 2), 2)]</span>
<span class="gp">sage: </span><span class="n">detR</span><span class="o">.</span><span class="n">vectors</span><span class="p">()</span>
<span class="go">((1), (-3), (2))</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.tensor_operations.TensorOperation.preimage">
<tt class="descname">preimage</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.TensorOperation.preimage" title="Permalink to this definition">¶</a></dt>
<dd><p>A choice of pre-image multi-indices.</p>
<p>OUTPUT:</p>
<p>A list of multi-indices (tuples of integers) whose image is
the entire image under the <a class="reference internal" href="#sage.modules.tensor_operations.TensorOperation.index_map" title="sage.modules.tensor_operations.TensorOperation.index_map"><tt class="xref py py-meth docutils literal"><span class="pre">index_map()</span></tt></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span>             <span class="o">....</span><span class="p">:</span>      <span class="n">VectorCollection</span><span class="p">,</span> <span class="n">TensorOperation</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">detR</span> <span class="o">=</span> <span class="n">TensorOperation</span><span class="p">([</span><span class="n">R</span><span class="p">]</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;antisymmetric&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">detR</span><span class="o">.</span><span class="n">preimage</span><span class="p">())</span>
<span class="go">[(0, 1), (0, 2), (1, 2)]</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">detR</span><span class="o">.</span><span class="n">codomain</span><span class="p">())</span>
<span class="go">[0, 1, 2]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.modules.tensor_operations.VectorCollection">
<em class="property">class </em><tt class="descclassname">sage.modules.tensor_operations.</tt><tt class="descname">VectorCollection</tt><big>(</big><em>vector_collection</em>, <em>base_ring</em>, <em>dim</em><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.VectorCollection" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="free_module.html#sage.modules.free_module.FreeModule_ambient_field" title="sage.modules.free_module.FreeModule_ambient_field"><tt class="xref py py-class docutils literal"><span class="pre">sage.modules.free_module.FreeModule_ambient_field</span></tt></a></p>
<p>An ordered collection of generators of a vector space.</p>
<p>This is like a list of vectors, but with extra argument checking.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This class is only used as a base class for filtered vector
spaces. You should not use it yourself.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dim</span></tt> &#8211; integer. The dimension of the ambient vector space.</li>
<li><tt class="docutils literal"><span class="pre">base_ring</span></tt> &#8211; a field. The base field of the ambient vector space.</li>
<li><tt class="docutils literal"><span class="pre">rays</span></tt> &#8211; any list/iterable of things than can be converted
into vectors of the ambient vector space. These will be used to
span the subspaces of the filtration. Must span the ambient
vector space.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span> <span class="n">VectorCollection</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>  <span class="n">R</span>
<span class="go">Vector space of dimension 2 over Rational Field</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">vectors</span><span class="p">()</span>
<span class="go">((1, 0), (0, 1), (1, 2))</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">_vectors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.modules.vector_rational_dense.Vector_rational_dense&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">R</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">r</span><span class="o">.</span><span class="n">is_immutable</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.modules.tensor_operations.VectorCollection.n_vectors">
<tt class="descname">n_vectors</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.VectorCollection.n_vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of vectors</p>
<p>OUTPUT:</p>
<p>Integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span> <span class="n">VectorCollection</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">n_vectors</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.modules.tensor_operations.VectorCollection.vectors">
<tt class="descname">vectors</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.VectorCollection.vectors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the collection of vectors</p>
<p>OUTPUT:</p>
<p>A tuple of vectors. The vectors that were specified in the
constructor, in the same order.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span> <span class="n">VectorCollection</span>
<span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorCollection</span><span class="p">([(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)],</span> <span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">V</span><span class="o">.</span><span class="n">vectors</span><span class="p">()</span>
<span class="go">((1, 0), (0, 1), (1, 2))</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.modules.tensor_operations.antisymmetrized_coordinate_sums">
<tt class="descclassname">sage.modules.tensor_operations.</tt><tt class="descname">antisymmetrized_coordinate_sums</tt><big>(</big><em>dim</em>, <em>n</em><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.antisymmetrized_coordinate_sums" title="Permalink to this definition">¶</a></dt>
<dd><p>Return formal anti-symmetrized sum of multi-indices</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dim</span></tt> &#8211; integer. The dimension (range of each index).</li>
<li><tt class="docutils literal"><span class="pre">n</span></tt> &#8211; integer. The total number of indices.</li>
</ul>
<p>OUTPUT:</p>
<p>An anti-symmetrized formal sum of multi-indices (tuples of integers)</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span> <span class="n">antisymmetrized_coordinate_sums</span>
<span class="gp">sage: </span><span class="n">antisymmetrized_coordinate_sums</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">((0, 1) - (1, 0), (0, 2) - (2, 0), (1, 2) - (2, 1))</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.modules.tensor_operations.symmetrized_coordinate_sums">
<tt class="descclassname">sage.modules.tensor_operations.</tt><tt class="descname">symmetrized_coordinate_sums</tt><big>(</big><em>dim</em>, <em>n</em><big>)</big><a class="headerlink" href="#sage.modules.tensor_operations.symmetrized_coordinate_sums" title="Permalink to this definition">¶</a></dt>
<dd><p>Return formal symmetrized sum of multi-indices</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dim</span></tt> &#8211; integer. The dimension (range of each index).</li>
<li><tt class="docutils literal"><span class="pre">n</span></tt> &#8211; integer. The total number of indices.</li>
</ul>
<p>OUTPUT:</p>
<p>A symmetrized formal sum of multi-indices (tuples of integers)</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.modules.tensor_operations</span> <span class="kn">import</span> <span class="n">symmetrized_coordinate_sums</span>
<span class="gp">sage: </span><span class="n">symmetrized_coordinate_sums</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">((0, 1) + (1, 0), (0, 0), (1, 1))</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="multi_filtered_vector_space.html"
                                  title="previous chapter">Multiple <span class="math">\(\ZZ\)</span>-Graded Filtrations of a Single Vector Space</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/modules/tensor_operations.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="multi_filtered_vector_space.html" title="Multiple \(\ZZ\)-Graded Filtrations of a Single Vector Space"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Modules</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>