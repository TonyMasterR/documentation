<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Base class for matrices, part 1 &mdash; Sage Reference Manual v6.7: Matrices and Spaces of Matrices</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.7: Matrices and Spaces of Matrices" href="../../index.html" />
    <link rel="next" title="Base class for matrices, part 2" href="matrix2.html" />
    <link rel="prev" title="Base class for matrices, part 0" href="matrix0.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="matrix2.html" title="Base class for matrices, part 2"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="matrix0.html" title="Base class for matrices, part 0"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Matrices and Spaces of Matrices</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="base-class-for-matrices-part-1">
<span id="sage-matrix-matrix1"></span><h1>Base class for matrices, part 1<a class="headerlink" href="#base-class-for-matrices-part-1" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.matrix.matrix1"></span><p>For design documentation see <a class="reference internal" href="docs.html#module-sage.matrix.docs" title="sage.matrix.docs"><tt class="xref py py-mod docutils literal"><span class="pre">sage.matrix.docs</span></tt></a>.</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">srange</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<dl class="class">
<dt id="sage.matrix.matrix1.Matrix">
<em class="property">class </em><tt class="descclassname">sage.matrix.matrix1.</tt><tt class="descname">Matrix</tt><a class="headerlink" href="#sage.matrix.matrix1.Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="matrix0.html#sage.matrix.matrix0.Matrix" title="sage.matrix.matrix0.Matrix"><tt class="xref py py-class docutils literal"><span class="pre">sage.matrix.matrix0.Matrix</span></tt></a></p>
<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.augment">
<tt class="descname">augment</tt><big>(</big><em>right</em>, <em>subdivide=False</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.augment" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new matrix formed by appending the matrix (or vector)
<tt class="docutils literal"><span class="pre">right</span></tt> on the right side of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">right</span></tt> - a matrix, vector or free module element, whose
dimensions are compatible with <tt class="docutils literal"><span class="pre">self</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">subdivide</span></tt> - default: <tt class="docutils literal"><span class="pre">False</span></tt> - request the resulting
matrix to have a new subdivision, separating <tt class="docutils literal"><span class="pre">self</span></tt> from
<tt class="docutils literal"><span class="pre">right</span></tt>.</li>
</ul>
<p>OUTPUT:</p>
<p>A new matrix formed by appending <tt class="docutils literal"><span class="pre">right</span></tt> onto the right side
of <tt class="docutils literal"><span class="pre">self</span></tt>.  If <tt class="docutils literal"><span class="pre">right</span></tt> is a vector (or free module element)
then in this context it is appropriate to consider it as a
column vector.  (The code first converts a vector to a 1-column
matrix.)</p>
<p>If <tt class="docutils literal"><span class="pre">subdivide</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> then any column subdivisions for
the two matrices are preserved, and a new subdivision is added
between <tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">right</span></tt>.  If the row divisions are
identical, then they are preserved, otherwise they are
discarded.  When <tt class="docutils literal"><span class="pre">subdivide</span></tt> is <tt class="docutils literal"><span class="pre">False</span></tt> there is no
subdivision information in the result.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <tt class="docutils literal"><span class="pre">subdivide</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> then unequal row subdivisions
will be discarded, since it would be ambiguous how to
interpret them.  If the subdivision behavior is not what you
need, you can manage subdivisions yourself with methods like
<a class="reference internal" href="matrix2.html#sage.matrix.matrix2.Matrix.get_subdivisions" title="sage.matrix.matrix2.Matrix.get_subdivisions"><tt class="xref py py-meth docutils literal"><span class="pre">get_subdivisions()</span></tt></a> and
<a class="reference internal" href="matrix2.html#sage.matrix.matrix2.Matrix.subdivide" title="sage.matrix.matrix2.Matrix.subdivide"><tt class="xref py py-meth docutils literal"><span class="pre">subdivide()</span></tt></a>.  You might
also find <a class="reference internal" href="constructor.html#sage.matrix.constructor.block_matrix" title="sage.matrix.constructor.block_matrix"><tt class="xref py py-func docutils literal"><span class="pre">block_matrix()</span></tt></a> or
<a class="reference internal" href="constructor.html#sage.matrix.constructor.block_diagonal_matrix" title="sage.matrix.constructor.block_diagonal_matrix"><tt class="xref py py-func docutils literal"><span class="pre">block_diagonal_matrix()</span></tt></a>
useful and simpler in some instances.</p>
</div>
<p>EXAMPLES:</p>
<p>Augmenting with a matrix.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">[ 0  1  2  3  0  1  2]</span>
<span class="go">[ 4  5  6  7  3  4  5]</span>
<span class="go">[ 8  9 10 11  6  7  8]</span>
</pre></div>
</div>
<p>Augmenting with a vector.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[  0   2   4 100]</span>
<span class="go">[  6   8  10 200]</span>
</pre></div>
</div>
<p>Errors are raised if the sizes are incompatible.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">],</span> <span class="p">[</span><span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">],</span> <span class="p">[</span><span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">number of rows must be the same, 2 != 3</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">number of rows must be the same, 2 != 3</span>
</pre></div>
</div>
<p>Setting <tt class="docutils literal"><span class="pre">subdivide</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt> will, in its simplest form,
add a subdivision between <tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">right</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[ 0  1  2  3| 0  1  2  3  4]</span>
<span class="go">[ 4  5  6  7| 5  6  7  8  9]</span>
<span class="go">[ 8  9 10 11|10 11 12 13 14]</span>
</pre></div>
</div>
<p>Column subdivisions are preserved by augmentation, and enriched,
if subdivisions are requested.  (So multiple augmentations can
be recorded.)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">subdivide</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">subdivide</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[0|1|0 1|2]</span>
<span class="go">[2|3|3 4|5]</span>
<span class="go">[4|5|6 7|8]</span>
</pre></div>
</div>
<p>Row subdivisions can be preserved, but only if they are
identical.  Otherwise, this information is discarded and must be
managed separately.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">subdivide</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">subdivide</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[0 1|0 1 2]</span>
<span class="go">[---+-----]</span>
<span class="go">[2 3|3 4 5]</span>
<span class="go">[4 5|6 7 8]</span>
<span class="go">[---+-----]</span>

<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">subdivide</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[0 1|0 1 2]</span>
<span class="go">[2 3|3 4 5]</span>
<span class="go">[4 5|6 7 8]</span>
</pre></div>
</div>
<p>The result retains the base ring of <tt class="docutils literal"><span class="pre">self</span></tt> by coercing the
elements of <tt class="docutils literal"><span class="pre">right</span></tt> into the base ring of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">sin</span><span class="p">(</span><span class="mf">1.1</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="mf">2.2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">);</span> <span class="n">C</span>
<span class="go">[                  1 183017397/205358938]</span>
<span class="go">[                  2 106580492/131825561]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">A</span><span class="p">);</span> <span class="n">D</span>
<span class="go">[0.89120736006...  1.00000000000000]</span>
<span class="go">[0.80849640381...  2.00000000000000]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Sometimes it is not possible to coerce into the base ring of
<tt class="docutils literal"><span class="pre">self</span></tt>.  A solution is to change the base ring of <tt class="docutils literal"><span class="pre">self</span></tt> to
a more expansive ring.  Here we mix the rationals with a ring of
polynomials with rational coefficients.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;y^2&#39;</span><span class="p">])</span>

<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">A</span><span class="p">);</span> <span class="n">C</span>
<span class="go">[  y y^2   1   2]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 1 by 4 dense matrices over Univariate Polynomial Ring in y over Rational Field</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">not a constant polynomial</span>

<span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">E</span><span class="o">.</span><span class="n">augment</span><span class="p">(</span><span class="n">B</span><span class="p">);</span> <span class="n">F</span>
<span class="go">[  1   2   y y^2]</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 1 by 4 dense matrices over Univariate Polynomial Ring in y over Rational Field</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Naqi Jaffery (2006-01-24): examples</li>
<li>Rob Beezer (2010-12-07): vector argument, docstring, subdivisions</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.block_sum">
<tt class="descname">block_sum</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.block_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the block matrix that has self and other on the diagonal:</p>
<div class="highlight-python"><div class="highlight"><pre>[ self     0 ]
[    0 other ]
</pre></div>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">[[</span><span class="s">&#39;t&#39;</span><span class="p">]],</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">block_sum</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">A</span><span class="p">)</span>
<span class="go">[  1   2   0   0]</span>
<span class="go">[  3   4   0   0]</span>
<span class="go">[  0   0 100 200]</span>
<span class="go">[  0   0 300 400]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.column">
<tt class="descname">column</tt><big>(</big><em>i</em>, <em>from_list=False</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.column" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <tt class="docutils literal"><span class="pre">i</span></tt>&#8216;th column of this matrix as a vector.</p>
<p>This column is a dense vector if and only if the matrix is a dense
matrix.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> - integer</li>
<li><tt class="docutils literal"><span class="pre">from_list</span></tt> - bool (default: False); if true, returns the
<tt class="docutils literal"><span class="pre">i</span></tt>&#8216;th element of <tt class="docutils literal"><span class="pre">self.columns()</span></tt> (see <a class="reference internal" href="#sage.matrix.matrix1.Matrix.columns" title="sage.matrix.matrix1.Matrix.columns"><tt class="xref py py-func docutils literal"><span class="pre">columns()</span></tt></a>),
which may be faster, but requires building a list of all
columns the first time it is called after an entry of the
matrix is changed.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span> <span class="n">a</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(1, 4)</span>
</pre></div>
</div>
<p>If the column is negative, it wraps around, just like with list
indexing, e.g., -1 gives the right-most column:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(2, 5)</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span> <span class="n">a</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">IndexError</span>: <span class="n-Identifier">column index out of range</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">IndexError</span>: <span class="n-Identifier">column index out of range</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.columns">
<tt class="descname">columns</tt><big>(</big><em>copy=True</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the columns of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">copy</span></tt> - (default: True) if True, return a copy of the list
of columns which is safe to change.</li>
</ul>
<p>If <tt class="docutils literal"><span class="pre">self</span></tt> is a sparse matrix, columns are returned as sparse vectors,
otherwise returned vectors are dense.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="mi">9</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">()</span>
<span class="go">[(1, 4, 7), (2, 5, 8), (3, 6, 9)]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">pi</span><span class="p">,</span> <span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">columns</span><span class="p">()</span>
<span class="go">[(1.41421356237310, 2.71828182845905), (3.14159265358979, 0.000000000000000)]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">columns</span><span class="p">()</span>
<span class="go">[(), ()]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">columns</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span> <span class="n">pi</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)})</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">columns</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">Sparse vector space of dimension 3 over Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Sparse matrices produce sparse columns.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">columns</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">columns</span><span class="p">(</span><span class="s">&#39;junk&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">&#39;copy&#39; must be True or False, not junk</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.delete_columns">
<tt class="descname">delete_columns</tt><big>(</big><em>dcols</em>, <em>check=True</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.delete_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the matrix constructed from deleting the columns with indices in the <tt class="docutils literal"><span class="pre">dcols</span></tt> list.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dcols</span></tt> - list of indices of columns to be deleted from self.</li>
<li><tt class="docutils literal"><span class="pre">check</span></tt> - checks whether any index in <tt class="docutils literal"><span class="pre">dcols</span></tt> is out of range. Defaults to <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
</ul>
<dl class="docutils">
<dt>SEE ALSO:</dt>
<dd>The methods <a class="reference internal" href="#sage.matrix.matrix1.Matrix.delete_rows" title="sage.matrix.matrix1.Matrix.delete_rows"><tt class="xref py py-meth docutils literal"><span class="pre">delete_rows()</span></tt></a> and <a class="reference internal" href="#sage.matrix.matrix1.Matrix.matrix_from_columns" title="sage.matrix.matrix1.Matrix.matrix_from_columns"><tt class="xref py py-meth docutils literal"><span class="pre">matrix_from_columns()</span></tt></a> are related.</dd>
</dl>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[ 0  1  2  3]</span>
<span class="go">[ 4  5  6  7]</span>
<span class="go">[ 8  9 10 11]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_columns</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[ 1  3]</span>
<span class="go">[ 5  7]</span>
<span class="go">[ 9 11]</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">dcols</span></tt> can be a tuple. But only the underlying set of indices matters.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_columns</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[ 1  3]</span>
<span class="go">[ 5  7]</span>
<span class="go">[ 9 11]</span>
</pre></div>
</div>
<p>The default is to check whether any index in <tt class="docutils literal"><span class="pre">dcols</span></tt> is out of range.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_columns</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">IndexError</span>: <span class="n-Identifier">[4, -1] contains invalid indices.</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_columns</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[ 0  1  3]</span>
<span class="go">[ 4  5  7]</span>
<span class="go">[ 8  9 11]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>The list of indices is checked.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_columns</span><span class="p">(</span><span class="s">&#39;junk&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">The argument must be a list or a tuple, not junk</span>
</pre></div>
</div>
<dl class="docutils">
<dt>AUTHORS:</dt>
<dd><ul class="first last simple">
<li>Wai Yan Pong (2012-03-05)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.delete_rows">
<tt class="descname">delete_rows</tt><big>(</big><em>drows</em>, <em>check=True</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.delete_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the matrix constructed from deleting the rows with indices in the <tt class="docutils literal"><span class="pre">drows</span></tt> list.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">drows</span></tt> - list of indices of rows to be deleted from self.</li>
<li><tt class="docutils literal"><span class="pre">check</span></tt> - checks whether any index in <tt class="docutils literal"><span class="pre">drows</span></tt> is out of range. Defaults to <tt class="docutils literal"><span class="pre">True</span></tt>.</li>
</ul>
<dl class="docutils">
<dt>SEE ALSO:</dt>
<dd>The methods <a class="reference internal" href="#sage.matrix.matrix1.Matrix.delete_columns" title="sage.matrix.matrix1.Matrix.delete_columns"><tt class="xref py py-meth docutils literal"><span class="pre">delete_columns()</span></tt></a> and <a class="reference internal" href="#sage.matrix.matrix1.Matrix.matrix_from_rows" title="sage.matrix.matrix1.Matrix.matrix_from_rows"><tt class="xref py py-meth docutils literal"><span class="pre">matrix_from_rows()</span></tt></a> are related.</dd>
</dl>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[ 6  7  8]</span>
<span class="go">[ 9 10 11]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[ 9 10 11]</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">drows</span></tt> can be a tuple. But only the underlying set of indices matters.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[ 9 10 11]</span>
</pre></div>
</div>
<p>The default is to check whether the any index in <tt class="docutils literal"><span class="pre">drows</span></tt> is out of range.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">IndexError</span>: <span class="n-Identifier">[4, -1] contains invalid indices.</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">check</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[ 9 10 11]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>The list of indices is checked.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">delete_rows</span><span class="p">(</span><span class="s">&#39;junk&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">The argument must be a list or a tuple, not junk</span>
</pre></div>
</div>
<dl class="docutils">
<dt>AUTHORS:</dt>
<dd><ul class="first last simple">
<li>Wai Yan Pong (2012-03-05)</li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.dense_columns">
<tt class="descname">dense_columns</tt><big>(</big><em>copy=True</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.dense_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of the dense columns of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">copy</span></tt> - (default: True) if True, return a copy so you can
modify it safely</li>
</ul>
<p>EXAMPLES:</p>
<p>An example over the integers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span> <span class="n">a</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="go">[6 7 8]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">dense_columns</span><span class="p">()</span>
<span class="go">[(0, 3, 6), (1, 4, 7), (2, 5, 8)]</span>
</pre></div>
</div>
<p>We do an example over a polynomial ring:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span> <span class="p">]</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="p">]);</span> <span class="n">a</span>
<span class="go">[      x     x^2]</span>
<span class="go">[  2/3*x x^5 + 1]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">dense_columns</span><span class="p">()</span>
<span class="go">[(x, 2/3*x), (x^2, x^5 + 1)]</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="o">*</span><span class="n">x</span><span class="p">,</span><span class="mi">1</span><span class="o">+</span><span class="n">x</span><span class="o">^</span><span class="mi">5</span><span class="p">],</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">dense_columns</span><span class="p">();</span> <span class="n">c</span>
<span class="go">[(x, 2/3*x), (x^2, x^5 + 1)]</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">Ambient free module of rank 2 over the principal ideal domain Univariate Polynomial Ring in x over Rational Field</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Check that the returned rows are immutable as per <a class="reference external" href="http://trac.sagemath.org/14874">trac ticket #14874</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">Mat</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">dense_columns</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">(),</span> <span class="n">v</span><span class="p">)</span>
<span class="go">[False, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.dense_matrix">
<tt class="descname">dense_matrix</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.dense_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>If this matrix is sparse, return a dense matrix with the same
entries. If this matrix is dense, return this matrix (not a copy).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The definition of &#8220;dense&#8221; and &#8220;sparse&#8221; in Sage have nothing to
do with the number of nonzero entries. Sparse and dense are
properties of the underlying representation of the matrix.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">dense_matrix</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">*</span><span class="n">B</span>
<span class="go">[1 4]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 sparse matrices over Rational Field</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
</pre></div>
</div>
<p>In Sage, the product of a sparse and a dense matrix is always
dense:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">B</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">B</span><span class="o">*</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Make sure that subdivisions are preserved when switching
between dense and sparse matrices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">subdivide</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">subdivisions</span><span class="p">()</span>
<span class="go">([1, 2], [2])</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">sparse_matrix</span><span class="p">()</span><span class="o">.</span><span class="n">dense_matrix</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">subdivisions</span><span class="p">()</span>
<span class="go">([1, 2], [2])</span>
</pre></div>
</div>
<p>Ensure we can compute the correct dense matrix even if the
dict items are ETuples (see <a class="reference external" href="http://trac.sagemath.org/17658">trac ticket #17658</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.polynomial.polydict</span> <span class="kn">import</span> <span class="n">ETuple</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span><span class="s">&quot;z&quot;</span><span class="p">),{</span><span class="n">ETuple</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)):</span> <span class="mi">2</span><span class="p">})</span><span class="o">.</span><span class="n">dense_matrix</span><span class="p">()</span>
<span class="go">[0 0]</span>
<span class="go">[0 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.dense_rows">
<tt class="descname">dense_rows</tt><big>(</big><em>copy=True</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.dense_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of the dense rows of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">copy</span></tt> - (default: True) if True, return a copy so you can
modify it safely (note that the individual vectors in the copy
should not be modified since they are mutable!)</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span> <span class="n">m</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="go">[6 7 8]</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">dense_rows</span><span class="p">();</span> <span class="n">v</span>
<span class="go">[(0, 1, 2), (3, 4, 5), (6, 7, 8)]</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="ow">is</span> <span class="n">m</span><span class="o">.</span><span class="n">dense_rows</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">dense_rows</span><span class="p">(</span><span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="ow">is</span> <span class="n">m</span><span class="o">.</span><span class="n">dense_rows</span><span class="p">(</span><span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">dense_rows</span><span class="p">()</span>
<span class="go">[(10, 1, 2), (3, 4, 5), (6, 7, 8)]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Check that the returned rows are immutable as per <a class="reference external" href="http://trac.sagemath.org/14874">trac ticket #14874</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">Mat</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">dense_rows</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">(),</span> <span class="n">v</span><span class="p">)</span>
<span class="go">[False, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.lift">
<tt class="descname">lift</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.lift" title="Permalink to this definition">¶</a></dt>
<dd><p>Return lift of self to the covering ring of the base ring R,
which is by definition the ring returned by calling
cover_ring() on R, or just R itself if the cover_ring method
is not defined.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">15</span><span class="p">])</span> <span class="p">;</span> <span class="n">M</span>
<span class="go">[5 2]</span>
<span class="go">[6 1]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">[5 2]</span>
<span class="go">[6 1]</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">M</span><span class="o">.</span><span class="n">lift</span><span class="p">())</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Integer Ring</span>
</pre></div>
</div>
<p>The field QQ doesn&#8217;t have a cover_ring method:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">hasattr</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s">&#39;cover_ring&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>So lifting a matrix over QQ gives back the same exact matrix.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span> <span class="ow">is</span> <span class="n">B</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.matrix_from_columns">
<tt class="descname">matrix_from_columns</tt><big>(</big><em>columns</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.matrix_from_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the matrix constructed from self using columns with indices
in the columns list.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="go">[6 7 0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">matrix_from_columns</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[2 1]</span>
<span class="go">[5 4]</span>
<span class="go">[0 7]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.matrix_from_rows">
<tt class="descname">matrix_from_rows</tt><big>(</big><em>rows</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.matrix_from_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the matrix constructed from self using rows with indices in
the rows list.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="go">[6 7 0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">matrix_from_rows</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[6 7 0]</span>
<span class="go">[3 4 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.matrix_from_rows_and_columns">
<tt class="descname">matrix_from_rows_and_columns</tt><big>(</big><em>rows</em>, <em>columns</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.matrix_from_rows_and_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the matrix constructed from self from the given rows and
columns.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="go">[6 7 0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">matrix_from_rows_and_columns</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[3 5]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">matrix_from_rows_and_columns</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">[4 5]</span>
<span class="go">[7 0]</span>
</pre></div>
</div>
<p>Note that row and column indices can be reordered or repeated:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">matrix_from_rows_and_columns</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[0 7]</span>
<span class="go">[5 4]</span>
</pre></div>
</div>
<p>For example here we take from row 1 columns 2 then 0 twice, and do
this 3 times.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">matrix_from_rows_and_columns</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="go">[5 3 3]</span>
<span class="go">[5 3 3]</span>
<span class="go">[5 3 3]</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Jaap Spies (2006-02-18)</li>
<li>Didier Deshommes: some Pyrex speedups implemented</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.matrix_over_field">
<tt class="descname">matrix_over_field</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.matrix_over_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Return copy of this matrix, but with entries viewed as elements of
the fraction field of the base ring (assuming it is defined).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">IntegerRing</span><span class="p">(),</span><span class="mi">2</span><span class="p">)([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">matrix_over_field</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.matrix_space">
<tt class="descname">matrix_space</tt><big>(</big><em>nrows=None</em>, <em>ncols=None</em>, <em>sparse=None</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.matrix_space" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the ambient matrix space of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">nrows</span></tt>, <tt class="docutils literal"><span class="pre">ncols</span></tt> - (optional) number of rows and columns in
returned matrix space.</li>
<li><tt class="docutils literal"><span class="pre">sparse</span></tt> - whether the returned matrix space uses sparse or
dense matrices.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">matrix_space</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 dense matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">matrix_space</span><span class="p">(</span><span class="n">ncols</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">Full MatrixSpace of 3 by 2 dense matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">matrix_space</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">Full MatrixSpace of 1 by 3 dense matrices over Integer Ring</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">matrix_space</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">Full MatrixSpace of 1 by 2 sparse matrices over Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.new_matrix">
<tt class="descname">new_matrix</tt><big>(</big><em>nrows=None</em>, <em>ncols=None</em>, <em>entries=None</em>, <em>coerce=True</em>, <em>copy=True</em>, <em>sparse=None</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.new_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a matrix in the parent of this matrix with the given number
of rows, columns, etc. The default parameters are the same as for
self.</p>
<p>INPUT:</p>
<p>These three variables get sent to <a class="reference internal" href="#sage.matrix.matrix1.Matrix.matrix_space" title="sage.matrix.matrix1.Matrix.matrix_space"><tt class="xref py py-func docutils literal"><span class="pre">matrix_space()</span></tt></a>:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">nrows</span></tt>, <tt class="docutils literal"><span class="pre">ncols</span></tt> - number of rows and columns in returned
matrix. If not specified, defaults to <tt class="docutils literal"><span class="pre">None</span></tt> and will give a
matrix of the same size as self.</li>
<li><tt class="docutils literal"><span class="pre">sparse</span></tt> - whether returned matrix is sparse or not. Defaults
to same value as self.</li>
</ul>
<p>The remaining three variables (<tt class="docutils literal"><span class="pre">coerce</span></tt>, <tt class="docutils literal"><span class="pre">entries</span></tt>, and
<tt class="docutils literal"><span class="pre">copy</span></tt>) are used by
<a class="reference internal" href="matrix_space.html#sage.matrix.matrix_space.MatrixSpace" title="sage.matrix.matrix_space.MatrixSpace"><tt class="xref py py-func docutils literal"><span class="pre">sage.matrix.matrix_space.MatrixSpace()</span></tt></a> to construct the
new matrix.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function called with no arguments returns the zero
matrix of the same dimension and sparseness of self.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]);</span> <span class="n">A</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">new_matrix</span><span class="p">()</span>
<span class="go">[0 0]</span>
<span class="go">[0 0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">new_matrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">new_matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 3 by 3 dense matrices over Integer Ring</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,[</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">2.2</span><span class="p">,</span><span class="mf">3.3</span><span class="p">,</span><span class="mf">4.4</span><span class="p">,</span><span class="mf">5.5</span><span class="p">,</span><span class="mf">6.6</span><span class="p">]);</span> <span class="n">A</span>
<span class="go">[1.10000000000000 2.20000000000000 3.30000000000000]</span>
<span class="go">[4.40000000000000 5.50000000000000 6.60000000000000]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">new_matrix</span><span class="p">()</span>
<span class="go">[0.000000000000000 0.000000000000000 0.000000000000000]</span>
<span class="go">[0.000000000000000 0.000000000000000 0.000000000000000]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">new_matrix</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 3 dense matrices over Real Field with 53 bits of precision</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.numpy">
<tt class="descname">numpy</tt><big>(</big><em>dtype=None</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.numpy" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Numpy matrix associated to this matrix.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dtype</span></tt> - The desired data-type for the array. If not given,
then the type will be determined as the minimum type required
to hold the objects in the sequence.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">numpy</span><span class="p">()</span>
<span class="go">array([[ 0,  1,  2,  3],</span>
<span class="go">       [ 4,  5,  6,  7],</span>
<span class="go">       [ 8,  9, 10, 11]])</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">numpy</span><span class="p">(</span><span class="s">&#39;f&#39;</span><span class="p">)</span>
<span class="go">array([[  0.,   1.,   2.,   3.],</span>
<span class="go">       [  4.,   5.,   6.,   7.],</span>
<span class="go">       [  8.,   9.,  10.,  11.]], dtype=float32)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">numpy</span><span class="p">(</span><span class="s">&#39;d&#39;</span><span class="p">)</span>
<span class="go">array([[  0.,   1.,   2.,   3.],</span>
<span class="go">       [  4.,   5.,   6.,   7.],</span>
<span class="go">       [  8.,   9.,  10.,  11.]])</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">numpy</span><span class="p">(</span><span class="s">&#39;B&#39;</span><span class="p">)</span>
<span class="go">array([[ 0,  1,  2,  3],</span>
<span class="go">       [ 4,  5,  6,  7],</span>
<span class="go">       [ 8,  9, 10, 11]], dtype=uint8)</span>
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">numpy.typecodes</span></tt> for a list of the possible
typecodes:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">typecodes</span><span class="o">.</span><span class="n">items</span><span class="p">())</span>
<span class="go">[(&#39;All&#39;, &#39;?bhilqpBHILQPefdgFDGSUVOMm&#39;), (&#39;AllFloat&#39;, &#39;efdgFDG&#39;), (&#39;AllInteger&#39;, &#39;bBhHiIlLqQpP&#39;), (&#39;Character&#39;, &#39;c&#39;), (&#39;Complex&#39;, &#39;FDG&#39;), (&#39;Datetime&#39;, &#39;Mm&#39;), (&#39;Float&#39;, &#39;efdg&#39;), (&#39;Integer&#39;, &#39;bhilqp&#39;), (&#39;UnsignedInteger&#39;, &#39;BHILQP&#39;)]</span>
</pre></div>
</div>
<p>Alternatively, numpy automatically calls this function (via
the magic <tt class="xref py py-meth docutils literal"><span class="pre">__array__()</span></tt> method) to convert Sage matrices
to numpy arrays:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">a</span><span class="p">);</span> <span class="n">b</span>
<span class="go">array([[ 0,  1,  2,  3],</span>
<span class="go">       [ 4,  5,  6,  7],</span>
<span class="go">       [ 8,  9, 10, 11]])</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">dtype</span>
<span class="go">dtype(&#39;int32&#39;)  # 32-bit</span>
<span class="go">dtype(&#39;int64&#39;)  # 64-bit</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">shape</span>
<span class="go">(3, 4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.row">
<tt class="descname">row</tt><big>(</big><em>i</em>, <em>from_list=False</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.row" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the <tt class="docutils literal"><span class="pre">i</span></tt>&#8216;th row of this matrix as a vector.</p>
<p>This row is a dense vector if and only if the matrix is a dense
matrix.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">i</span></tt> - integer</li>
<li><tt class="docutils literal"><span class="pre">from_list</span></tt> - bool (default: False); if true, returns the
<tt class="docutils literal"><span class="pre">i</span></tt>&#8216;th element of <tt class="docutils literal"><span class="pre">self.rows()</span></tt> (see <a class="reference internal" href="#sage.matrix.matrix1.Matrix.rows" title="sage.matrix.matrix1.Matrix.rows"><tt class="xref py py-func docutils literal"><span class="pre">rows()</span></tt></a>), which
may be faster, but requires building a list of all rows the
first time it is called after an entry of the matrix is
changed.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span> <span class="n">a</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">(0, 1, 2)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">(3, 4, 5)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>  <span class="c"># last row</span>
<span class="go">(3, 4, 5)</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span> <span class="n">a</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">IndexError</span>: <span class="n-Identifier">row index out of range</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">row</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">IndexError</span>: <span class="n-Identifier">row index out of range</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.rows">
<tt class="descname">rows</tt><big>(</big><em>copy=True</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the rows of self.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">copy</span></tt> - (default: True) if True, return a copy of the list
of rows which is safe to change.</li>
</ul>
<p>If <tt class="docutils literal"><span class="pre">self</span></tt> is a sparse matrix, rows are returned as sparse vectors,
otherwise returned vectors are dense.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="mi">9</span><span class="p">])</span><span class="o">.</span><span class="n">rows</span><span class="p">()</span>
<span class="go">[(1, 2, 3), (4, 5, 6), (7, 8, 9)]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">pi</span><span class="p">,</span> <span class="n">exp</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">0</span><span class="p">])</span><span class="o">.</span><span class="n">rows</span><span class="p">()</span>
<span class="go">[(1.41421356237310, 3.14159265358979), (2.71828182845905, 0.000000000000000)]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">rows</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="p">[])</span><span class="o">.</span><span class="n">rows</span><span class="p">()</span>
<span class="go">[(), ()]</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">{(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span> <span class="n">pi</span><span class="p">,</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">):</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">)})</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">rows</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">Sparse vector space of dimension 3 over Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Sparse matrices produce sparse rows.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">rows</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">16</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">rows</span><span class="p">(</span><span class="s">&#39;junk&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">&#39;copy&#39; must be True or False, not junk</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.set_column">
<tt class="descname">set_column</tt><big>(</big><em>col</em>, <em>v</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.set_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the entries of column <tt class="docutils literal"><span class="pre">col</span></tt> to the entries of <tt class="docutils literal"><span class="pre">v</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">col</span></tt> - index of column to be set.</li>
<li><tt class="docutils literal"><span class="pre">v</span></tt> - a list or vector of the new entries.</li>
</ul>
<p>OUTPUT:</p>
<p>Changes the matrix in-place, so there is no output.</p>
<p>EXAMPLES:</p>
<p>New entries may be contained in a vector.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_column</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span>
<span class="go">[ 0  1  0  3  4]</span>
<span class="go">[ 5  6 -1  8  9]</span>
<span class="go">[10 11 -2 13 14]</span>
<span class="go">[15 16 -3 18 19]</span>
<span class="go">[20 21 -4 23 24]</span>
</pre></div>
</div>
<p>New entries may be in any sort of list.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]);</span> <span class="n">A</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_column</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]);</span> <span class="n">A</span>
<span class="go">[0 2]</span>
<span class="go">[0 4]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_column</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[0 0]</span>
<span class="go">[0 0]</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_column</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]);</span> <span class="n">A</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">column number must be between 0 and 1 (inclusive), not 2</span>

<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_column</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">list of new entries must be of length 2 (not 3)</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_column</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]);</span> <span class="n">A</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">Cannot set column with Rational Field elements over Integer Ring, use change_ring first.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.set_row">
<tt class="descname">set_row</tt><big>(</big><em>row</em>, <em>v</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.set_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the entries of row <tt class="docutils literal"><span class="pre">row</span></tt> to the entries of <tt class="docutils literal"><span class="pre">v</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">row</span></tt> - index of row to be set.</li>
<li><tt class="docutils literal"><span class="pre">v</span></tt> - a list or vector of the new entries.</li>
</ul>
<p>OUTPUT:</p>
<p>Changes the matrix in-place, so there is no output.</p>
<p>EXAMPLES:</p>
<p>New entries may be contained in a vector.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">25</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_row</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="n">u</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span>
<span class="go">[ 0  1  2  3  4]</span>
<span class="go">[ 5  6  7  8  9]</span>
<span class="go">[ 0 -1 -2 -3 -4]</span>
<span class="go">[15 16 17 18 19]</span>
<span class="go">[20 21 22 23 24]</span>
</pre></div>
</div>
<p>New entries may be in any sort of list.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]]);</span> <span class="n">A</span>
<span class="go">[1 2]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_row</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]);</span> <span class="n">A</span>
<span class="go">[0 0]</span>
<span class="go">[3 4]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_row</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">));</span> <span class="n">A</span>
<span class="go">[0 0]</span>
<span class="go">[0 0]</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_row</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]);</span> <span class="n">A</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">row number must be between 0 and 1 (inclusive), not 2</span>

<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_row</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">list of new entries must be of length 2 (not 3)</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">set_row</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">]);</span> <span class="n">A</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">Cannot set row with Rational Field elements over Integer Ring, use change_ring first.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.sparse_columns">
<tt class="descname">sparse_columns</tt><big>(</big><em>copy=True</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.sparse_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the columns of <tt class="docutils literal"><span class="pre">self</span></tt> as sparse vectors (or free module elements).</p>
<p>INPUT:</p>
<ul>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">copy</span></tt> - (default: True) if True, return a copy so you can</dt>
<dd><p class="first last">modify it safely</p>
</dd>
</dl>
</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">));</span> <span class="n">a</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">a</span><span class="o">.</span><span class="n">sparse_columns</span><span class="p">();</span> <span class="n">v</span>
<span class="go">[(0, 3), (1, 4), (2, 5)]</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Columns of sparse matrices having no columns were fixed on <a class="reference external" href="http://trac.sagemath.org/10714">trac ticket #10714</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">ncols</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">columns</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Check that the returned columns are immutable as per <a class="reference external" href="http://trac.sagemath.org/14874">trac ticket #14874</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">Mat</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">sparse_columns</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">(),</span> <span class="n">v</span><span class="p">)</span>
<span class="go">[False, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.sparse_matrix">
<tt class="descname">sparse_matrix</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.sparse_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>If this matrix is dense, return a sparse matrix with the same
entries. If this matrix is sparse, return this matrix (not a
copy).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The definition of &#8220;dense&#8221; and &#8220;sparse&#8221; in Sage have nothing
to do with the number of nonzero entries. Sparse and dense are
properties of the underlying representation of the matrix.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">sparse_matrix</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">A</span>
<span class="go">[1 2]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">B</span>
<span class="go">[1 2]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">*</span><span class="n">B</span>
<span class="go">[1 4]</span>
<span class="go">[0 1]</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 sparse matrices over Rational Field</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">B</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">B</span><span class="o">*</span><span class="n">A</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.sparse_rows">
<tt class="descname">sparse_rows</tt><big>(</big><em>copy=True</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.sparse_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the rows of <tt class="docutils literal"><span class="pre">self</span></tt> as sparse vectors (or free module elements).</p>
<p>INPUT:</p>
<ul>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">copy</span></tt> - (default: True) if True, return a copy so you can</dt>
<dd><p class="first last">modify it safely</p>
</dd>
</dl>
</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">Mat</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">));</span> <span class="n">m</span>
<span class="go">[0 1 2]</span>
<span class="go">[3 4 5]</span>
<span class="go">[6 7 8]</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">sparse_rows</span><span class="p">();</span> <span class="n">v</span>
<span class="go">[(0, 1, 2), (3, 4, 5), (6, 7, 8)]</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">sparse_rows</span><span class="p">(</span><span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span> <span class="ow">is</span> <span class="n">m</span><span class="o">.</span><span class="n">sparse_rows</span><span class="p">(</span><span class="n">copy</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">m</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">10</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">sparse_rows</span><span class="p">()</span>
<span class="go">[(10, 1, 2), (3, 4, 5), (6, 7, 8)]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Rows of sparse matrices having no rows were fixed on <a class="reference external" href="http://trac.sagemath.org/10714">trac ticket #10714</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">nrows</span><span class="p">()</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">rows</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Check that the returned rows are immutable as per <a class="reference external" href="http://trac.sagemath.org/14874">trac ticket #14874</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">Mat</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)(</span><span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">m</span><span class="o">.</span><span class="n">sparse_rows</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">is_mutable</span><span class="p">(),</span> <span class="n">v</span><span class="p">)</span>
<span class="go">[False, False, False]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.stack">
<tt class="descname">stack</tt><big>(</big><em>bottom</em>, <em>subdivide=False</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.stack" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a new matrix formed by appending the matrix (or vector)
<tt class="docutils literal"><span class="pre">bottom</span></tt> below <tt class="docutils literal"><span class="pre">self</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span>  <span class="bp">self</span>  <span class="p">]</span>
<span class="p">[</span> <span class="n">bottom</span> <span class="p">]</span>
</pre></div>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">bottom</span></tt> - a matrix, vector or free module element, whose
dimensions are compatible with <tt class="docutils literal"><span class="pre">self</span></tt>.</li>
<li><tt class="docutils literal"><span class="pre">subdivide</span></tt> - default: <tt class="docutils literal"><span class="pre">False</span></tt> - request the resulting
matrix to have a new subdivision, separating <tt class="docutils literal"><span class="pre">self</span></tt> from <tt class="docutils literal"><span class="pre">bottom</span></tt>.</li>
</ul>
<p>OUTPUT:</p>
<p>A new matrix formed by appending <tt class="docutils literal"><span class="pre">bottom</span></tt> beneath <tt class="docutils literal"><span class="pre">self</span></tt>.
If <tt class="docutils literal"><span class="pre">bottom</span></tt> is a vector (or free module element) then in this context
it is appropriate to consider it as a row vector.  (The code first
converts a vector to a 1-row matrix.)</p>
<p>If <tt class="docutils literal"><span class="pre">subdivide</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> then any row subdivisions for
the two matrices are preserved, and a new subdivision is added
between <tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">bottom</span></tt>.  If the column divisions are
identical, then they are preserved, otherwise they are discarded.
When <tt class="docutils literal"><span class="pre">subdivide</span></tt> is <tt class="docutils literal"><span class="pre">False</span></tt> there is no subdivision information
in the result.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If <tt class="docutils literal"><span class="pre">subdivide</span></tt> is <tt class="docutils literal"><span class="pre">True</span></tt> then unequal column subdivisions
will be discarded, since it would be ambiguous how to interpret
them.  If the subdivision behavior is not what you need,
you can manage subdivisions yourself with methods like
<a class="reference internal" href="matrix2.html#sage.matrix.matrix2.Matrix.subdivisions" title="sage.matrix.matrix2.Matrix.subdivisions"><tt class="xref py py-meth docutils literal"><span class="pre">subdivisions()</span></tt></a>
and
<a class="reference internal" href="matrix2.html#sage.matrix.matrix2.Matrix.subdivide" title="sage.matrix.matrix2.Matrix.subdivide"><tt class="xref py py-meth docutils literal"><span class="pre">subdivide()</span></tt></a>.
You might also find <a class="reference internal" href="constructor.html#sage.matrix.constructor.block_matrix" title="sage.matrix.constructor.block_matrix"><tt class="xref py py-func docutils literal"><span class="pre">block_matrix()</span></tt></a>
or
<a class="reference internal" href="constructor.html#sage.matrix.constructor.block_diagonal_matrix" title="sage.matrix.constructor.block_diagonal_matrix"><tt class="xref py py-func docutils literal"><span class="pre">block_diagonal_matrix()</span></tt></a>
useful and simpler in some instances.</p>
</div>
<p>EXAMPLES:</p>
<p>Stacking with a matrix.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">9</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[ 6  7  8]</span>
<span class="go">[ 9 10 11]</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[ 6  7  8]</span>
</pre></div>
</div>
<p>Stacking with a vector.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">[  0   2]</span>
<span class="go">[  4   6]</span>
<span class="go">[  8  10]</span>
<span class="go">[100 200]</span>
</pre></div>
</div>
<p>Errors are raised if the sizes are incompatible.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="p">[[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">],</span> <span class="p">[</span><span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">60</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">number of columns must be the same, not 2 and 3</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="p">[</span><span class="mi">100</span><span class="p">,</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">number of columns must be the same, not 2 and 3</span>
</pre></div>
</div>
<p>Setting <tt class="docutils literal"><span class="pre">subdivide</span></tt> to <tt class="docutils literal"><span class="pre">True</span></tt> will, in its simplest form,
add a subdivision between <tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">bottom</span></tt>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[ 0  1  2  3  4]</span>
<span class="go">[ 5  6  7  8  9]</span>
<span class="go">[--------------]</span>
<span class="go">[ 0  1  2  3  4]</span>
<span class="go">[ 5  6  7  8  9]</span>
<span class="go">[10 11 12 13 14]</span>
</pre></div>
</div>
<p>Row subdivisions are preserved by stacking, and enriched,
if subdivisions are requested.  (So multiple stackings can
be recorded.)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">subdivide</span><span class="p">([</span><span class="mi">1</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">subdivide</span><span class="p">([</span><span class="mi">2</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[ 0  1  2  3]</span>
<span class="go">[-----------]</span>
<span class="go">[ 4  5  6  7]</span>
<span class="go">[-----------]</span>
<span class="go">[ 0  1  2  3]</span>
<span class="go">[ 4  5  6  7]</span>
<span class="go">[-----------]</span>
<span class="go">[ 8  9 10 11]</span>
</pre></div>
</div>
<p>Column subdivisions can be preserved, but only if they are identical.
Otherwise, this information is discarded and must be managed
separately.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">subdivide</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">subdivide</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[ 0  1| 2  3| 4]</span>
<span class="go">[ 5  6| 7  8| 9]</span>
<span class="go">[-----+-----+--]</span>
<span class="go">[ 0  1| 2  3| 4]</span>
<span class="go">[ 5  6| 7  8| 9]</span>
<span class="go">[10 11|12 13|14]</span>

<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">subdivide</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">subdivide</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[ 0  1  2  3  4]</span>
<span class="go">[ 5  6  7  8  9]</span>
<span class="go">[--------------]</span>
<span class="go">[ 0  1  2  3  4]</span>
<span class="go">[ 5  6  7  8  9]</span>
<span class="go">[10 11 12 13 14]</span>
</pre></div>
</div>
<p>The base ring of the result is the common parent for the base
rings of <tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">bottom</span></tt>. In particular, the parent for
<tt class="docutils literal"><span class="pre">A.stack(B)</span></tt> and <tt class="docutils literal"><span class="pre">B.stack(A)</span></tt> should be equal:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">sin</span><span class="p">(</span><span class="mf">1.1</span><span class="p">),</span> <span class="n">sin</span><span class="p">(</span><span class="mf">2.2</span><span class="p">)])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">B</span><span class="p">);</span> <span class="n">C</span>
<span class="go">[ 1.00000000000000  2.00000000000000]</span>
<span class="go">[0.891207360061435 0.808496403819590]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Real Field with 53 bits of precision</span>

<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">A</span><span class="p">);</span> <span class="n">D</span>
<span class="go">[0.891207360061435 0.808496403819590]</span>
<span class="go">[ 1.00000000000000  2.00000000000000]</span>
<span class="gp">sage: </span><span class="n">D</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Real Field with 53 bits of precision</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">])</span>

<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">B</span><span class="p">);</span> <span class="n">C</span>
<span class="go">[  1 2/3]</span>
<span class="go">[  y y^2]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Full MatrixSpace of 2 by 2 dense matrices over Univariate Polynomial Ring in y over Rational Field</span>
</pre></div>
</div>
<p>Stacking a dense matrix atop a sparse one returns a sparse
matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">diagonal_matrix</span><span class="p">([</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">],</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">M</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">N</span><span class="p">);</span> <span class="n">P</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[10  0  0]</span>
<span class="go">[ 0 11  0]</span>
<span class="go">[ 0  0 12]</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">N</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">M</span><span class="p">);</span> <span class="n">P</span>
<span class="go">[10  0  0]</span>
<span class="go">[ 0 11  0]</span>
<span class="go">[ 0  0 12]</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>One can stack matrices over different rings (<a class="reference external" href="http://trac.sagemath.org/16399">trac ticket #16399</a>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[10 11 12]</span>
<span class="gp">sage: </span><span class="n">N</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>
<span class="go">[10 11 12]</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>A legacy test from the original implementation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">N</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">,</span><span class="mi">12</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">N</span><span class="p">)</span>
<span class="go">[ 0  1  2]</span>
<span class="go">[ 3  4  5]</span>
<span class="go">[10 11 12]</span>
</pre></div>
</div>
<p>Non-matrices fail gracefully:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">stack</span><span class="p">(</span><span class="n">polygen</span><span class="p">(</span><span class="n">QQ</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">a matrix must be stacked with another matrix or a vector</span>
</pre></div>
</div>
<p>AUTHORS:</p>
<ul class="simple">
<li>Rob Beezer (2011-03-19): rewritten to mirror code for <a class="reference internal" href="#sage.matrix.matrix1.Matrix.augment" title="sage.matrix.matrix1.Matrix.augment"><tt class="xref py py-meth docutils literal"><span class="pre">augment()</span></tt></a></li>
<li>Jeroen Demeyer (2015-01-06): refactor, see <a class="reference external" href="http://trac.sagemath.org/16399">trac ticket #16399</a>.
Put all boilerplate in one place (here) and put the actual
type-dependent implementation in <tt class="docutils literal"><span class="pre">_stack_impl</span></tt>.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sage.matrix.matrix1.Matrix.submatrix">
<tt class="descname">submatrix</tt><big>(</big><em>row=0</em>, <em>col=0</em>, <em>nrows=-1</em>, <em>ncols=-1</em><big>)</big><a class="headerlink" href="#sage.matrix.matrix1.Matrix.submatrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the matrix constructed from self using the specified
range of rows and columns.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">row</span></tt>, <tt class="docutils literal"><span class="pre">col</span></tt> - index of the starting row and column.
Indices start at zero.</li>
<li><tt class="docutils literal"><span class="pre">nrows</span></tt>, <tt class="docutils literal"><span class="pre">ncols</span></tt> - (optional) number of rows and columns to
take. If not provided, take all rows below and all columns to
the right of the starting entry.</li>
</ul>
<p>SEE ALSO:</p>
<p>The functions <a class="reference internal" href="#sage.matrix.matrix1.Matrix.matrix_from_rows" title="sage.matrix.matrix1.Matrix.matrix_from_rows"><tt class="xref py py-func docutils literal"><span class="pre">matrix_from_rows()</span></tt></a>,
<a class="reference internal" href="#sage.matrix.matrix1.Matrix.matrix_from_columns" title="sage.matrix.matrix1.Matrix.matrix_from_columns"><tt class="xref py py-func docutils literal"><span class="pre">matrix_from_columns()</span></tt></a>, and
<a class="reference internal" href="#sage.matrix.matrix1.Matrix.matrix_from_rows_and_columns" title="sage.matrix.matrix1.Matrix.matrix_from_rows_and_columns"><tt class="xref py py-func docutils literal"><span class="pre">matrix_from_rows_and_columns()</span></tt></a> allow one to select
arbitrary subsets of rows and/or columns.</p>
<p>EXAMPLES:</p>
<p>Take the <span class="math">\(3 \times 3\)</span> submatrix starting from entry (1,1) in a
<span class="math">\(4 \times 4\)</span> matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="mi">16</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[ 6  7  8]</span>
<span class="go">[10 11 12]</span>
<span class="go">[14 15 16]</span>
</pre></div>
</div>
<p>Same thing, except take only two rows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">[ 6  7  8]</span>
<span class="go">[10 11 12]</span>
</pre></div>
</div>
<p>And now take only one column:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">[ 6]</span>
<span class="go">[10]</span>
</pre></div>
</div>
<p>You can take zero rows or columns if you want:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">submatrix</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
<span class="go">Full MatrixSpace of 0 by 3 dense matrices over Integer Ring</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="matrix0.html"
                                  title="previous chapter">Base class for matrices, part 0</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="matrix2.html"
                                  title="next chapter">Base class for matrices, part 2</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/matrix/matrix1.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="matrix2.html" title="Base class for matrices, part 2"
             >next</a> |</li>
        <li class="right" >
          <a href="matrix0.html" title="Base class for matrices, part 0"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Matrices and Spaces of Matrices</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>