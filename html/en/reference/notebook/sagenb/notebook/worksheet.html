<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>A Worksheet &mdash; Sage Reference Manual v6.9: The Sage Notebook</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.9: The Sage Notebook" href="../../index.html" />
    <link rel="next" title="The Sage Notebook" href="notebook.html" />
    <link rel="prev" title="A Cell" href="cell.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="notebook.html" title="The Sage Notebook"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cell.html" title="A Cell"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">The Sage Notebook</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="a-worksheet">
<span id="sagenb-notebook-worksheet"></span><h1>A Worksheet<a class="headerlink" href="#a-worksheet" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sagenb.notebook.worksheet"></span><p>A worksheet is embedded in a web page that is served by the Sage
server. It is a linearly-ordered collections of numbered cells,
where a cell is a single input/output block.</p>
<p>The worksheet module is responsible for running calculations in a
worksheet, spawning Sage processes that do all of the actual work
and are controlled via pexpect, and reporting on results of
calculations. The state of the cells in a worksheet is stored on
the file system (not in the notebook pickle sobj).</p>
<p>AUTHORS:</p>
<blockquote>
<div><ul class="simple">
<li>William Stein</li>
</ul>
</div></blockquote>
<dl class="class">
<dt id="sagenb.notebook.worksheet.Worksheet">
<em class="property">class </em><tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">Worksheet</tt><big>(</big><em>name=None</em>, <em>id_number=None</em>, <em>notebook_worksheet_directory=None</em>, <em>system=None</em>, <em>owner=None</em>, <em>pretty_print=False</em>, <em>auto_publish=False</em>, <em>create_directories=True</em>, <em>live_3D=False</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></p>
<p>Create and initialize a new worksheet.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">name</span></tt> - string; the name of this worksheet</p>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">id_number</span></tt> - Integer; name of the directory in which the</dt>
<dd><p class="first last">worksheet&#8217;s data is stored</p>
</dd>
</dl>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">notebook_worksheet_directory</span></tt> - string; the
directory in which the notebook object that contains this worksheet
stores worksheets, i.e., nb.worksheet_directory().</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">system</span></tt> - string; &#8216;sage&#8217;, &#8216;gp&#8217;, &#8216;singular&#8217;, etc.
- the math software system in which all code is evaluated by
default</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">owner</span></tt> - string; username of the owner of this
worksheet</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">pretty_print</span></tt> - bool (default: False); whether
all output is pretty printed by default.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">create_directories</span></tt> &#8211; bool (default: True): if True,
creates various files and directories where data will be
stored.  This option is here only for the
migrate_old_notebook method in notebook.py</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">live_3D</span></tt> - bool (default: False); whether 3-D plots should
be loaded live (interactive). Too many live plots may make a
worksheet unresponsive because of the javascript load.</p>
</li>
</ul>
<p>EXAMPLES: We test the constructor via an indirect doctest:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sagenb.notebook.misc</span>
<span class="gp">sage: </span><span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">notebook</span> <span class="o">=</span> <span class="n">nb</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test with unicode ěščřžýáíéďĎ&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">admin/0: [Cell 1: in=, out=]</span>
</pre></div>
</div>
<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.add_collaborator">
<tt class="descname">add_collaborator</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.add_collaborator" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given user as a collaborator on this worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - a string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;diophantus&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Collaborator test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">collaborators</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">add_collaborator</span><span class="p">(</span><span class="s">&#39;diophantus&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">collaborators</span><span class="p">()</span>
<span class="go">[&#39;diophantus&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.add_viewer">
<tt class="descname">add_viewer</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.add_viewer" title="Permalink to this definition">¶</a></dt>
<dd><p>Add the given user as an allowed viewer of this worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string (username)</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;diophantus&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Viewer test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">add_viewer</span><span class="p">(</span><span class="s">&#39;diophantus&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewers</span><span class="p">()</span>
<span class="go">[&#39;diophantus&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.append">
<tt class="descname">append</tt><big>(</big><em>L</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.append" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.append_new_cell">
<tt class="descname">append_new_cell</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.append_new_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and appends a new compute cell to this worksheet&#8217;s
list of cells.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>a new <a class="reference internal" href="cell.html#sagenb.notebook.cell.Cell" title="sagenb.notebook.cell.Cell"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.Cell</span></tt></a> instance</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test Edit Save&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">admin/0: [Cell 1: in=, out=]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">append_new_cell</span><span class="p">()</span>
<span class="go">Cell 2: in=, out=</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">admin/0: [Cell 1: in=, out=, Cell 2: in=, out=]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.attach">
<tt class="descname">attach</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.attach" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.attached_data_files">
<tt class="descname">attached_data_files</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.attached_data_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the file names of files in the worksheet data
directory.</p>
<p>OUTPUT: list of strings</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">attached_data_files</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="nb">open</span><span class="p">(</span><span class="s">&#39;</span><span class="si">%s</span><span class="s">/foo.data&#39;</span><span class="o">%</span><span class="n">W</span><span class="o">.</span><span class="n">data_directory</span><span class="p">(),</span><span class="s">&#39;w&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">attached_data_files</span><span class="p">()</span>
<span class="go">[&#39;foo.data&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.attached_files">
<tt class="descname">attached_files</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.attached_files" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.attached_html">
<tt class="descname">attached_html</tt><big>(</big><em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.attached_html" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.autosave">
<tt class="descname">autosave</tt><big>(</big><em>username</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.autosave" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.basic">
<tt class="descname">basic</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.basic" title="Permalink to this definition">¶</a></dt>
<dd><p>Output a dictionary of basic Python objects that defines the
configuration of this worksheet, except the actual cells and
the data files in the DATA directory and images and other data
in the individual cell directories.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sagenb.notebook.worksheet</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">Worksheet</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tmp_dir</span><span class="p">(),</span> <span class="n">owner</span><span class="o">=</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">((</span><span class="n">W</span><span class="o">.</span><span class="n">basic</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
<span class="go">[(&#39;auto_publish&#39;, False), (&#39;collaborators&#39;, []), (&#39;id_number&#39;, 0), (&#39;last_change&#39;, (&#39;sage&#39;, ...)), (&#39;live_3D&#39;, False), (&#39;name&#39;, u&#39;test&#39;), (&#39;owner&#39;, &#39;sage&#39;), (&#39;pretty_print&#39;, False), (&#39;published_id_number&#39;, None), (&#39;ratings&#39;, []), (&#39;saved_by_info&#39;, {}), (&#39;system&#39;, None), (&#39;tags&#39;, {&#39;sage&#39;: [1]}), (&#39;viewers&#39;, []), (&#39;worksheet_that_was_published&#39;, (&#39;sage&#39;, 0))]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.best_completion">
<tt class="descname">best_completion</tt><big>(</big><em>s</em>, <em>word</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.best_completion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.body">
<tt class="descname">body</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.body" title="Permalink to this definition">¶</a></dt>
<dd><p>OUTPUT:</p>
<blockquote>
<div><dl class="docutils">
<dt>&#8211; <tt class="docutils literal"><span class="pre">string</span></tt> &#8211; Plain text representation of the body of</dt>
<dd>the worksheet.</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.body_is_loaded">
<tt class="descname">body_is_loaded</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.body_is_loaded" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the body if this worksheet has been loaded from disk.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.cell_directory">
<tt class="descname">cell_directory</tt><big>(</big><em>C</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.cell_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.cell_id_list">
<tt class="descname">cell_id_list</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.cell_id_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of ID&#8217;s of all cells in this worksheet.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>a new list of integers and/or strings</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test Edit Save&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now we set the worksheet to have two cells with the default id of 0
and another with id 10.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">5</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n</span><span class="s">{{{id=10|</span><span class="se">\n</span><span class="s">2+8</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">10</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_id_list</span><span class="p">()</span>
<span class="go">[0, 10]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.cell_list">
<tt class="descname">cell_list</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.cell_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a reference to the list of this worksheet&#8217;s cells.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>a list of <a class="reference internal" href="cell.html#sagenb.notebook.cell.Cell_generic" title="sagenb.notebook.cell.Cell_generic"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.Cell_generic</span></tt></a>
instances</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This function loads the cell list from disk (the file
worksheet.html) if it isn&#8217;t available in memory.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test Edit Save&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">5</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n</span><span class="s">{{{</span><span class="se">\n</span><span class="s">2+8</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">10</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">();</span> <span class="n">v</span>
<span class="go">[Cell 0: in=2+3, out=</span>
<span class="go">5, Cell 1: in=2+8, out=</span>
<span class="go">10]</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Cell 0: in=2+3, out=</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.cells_directory">
<tt class="descname">cells_directory</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.cells_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the directory in which the cells of this worksheet are
evaluated.</p>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cells_directory</span><span class="p">()</span>
<span class="go">&#39;.../home/admin/0/cells&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.check_cell">
<tt class="descname">check_cell</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.check_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks the status of a given compute cell.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">id</span></tt> - an integer or a string; the cell&#8217;s ID.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a (string, <a class="reference internal" href="cell.html#sagenb.notebook.cell.Cell" title="sagenb.notebook.cell.Cell"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.Cell</span></tt></a>)-tuple; the
cell&#8217;s status (&#8216;d&#8217; for &#8220;done&#8221; or &#8216;w&#8217; for &#8220;working&#8221;) and the
cell itself.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.check_comp">
<tt class="descname">check_comp</tt><big>(</big><em>wait=0.2</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.check_comp" title="Permalink to this definition">¶</a></dt>
<dd><p>Check on currently computing cells in the queue.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">wait</span></tt> - float (default: 0.2); how long to wait
for output.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">3^20</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>     <span class="c"># random output -- depends on computer speed</span>
<span class="go">(&#39;d&#39;, Cell 0: in=3^20, out=</span>
<span class="go">3486784401</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.check_for_system_switching">
<tt class="descname">check_for_system_switching</tt><big>(</big><em>input</em>, <em>cell</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.check_for_system_switching" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for input cells that start with <tt class="docutils literal"><span class="pre">%foo</span></tt>, where
<tt class="docutils literal"><span class="pre">foo</span></tt> is an object with an eval method.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">s</span></tt> - a string of the code from the cell to be
executed</li>
<li><tt class="docutils literal"><span class="pre">C</span></tt> - the cell object</li>
</ul>
<p>EXAMPLES: First, we set up a new notebook and worksheet.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We first test running a native command in &#8216;sage&#8217; mode and then a
GAP cell within Sage mode.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n\n</span><span class="s">{{{</span><span class="se">\n</span><span class="si">%g</span><span class="s">ap</span><span class="se">\n</span><span class="s">SymmetricGroup(5)</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c0</span><span class="p">,</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_for_system_switching</span><span class="p">(</span><span class="n">c0</span><span class="o">.</span><span class="n">cleaned_input_text</span><span class="p">(),</span> <span class="n">c0</span><span class="p">)</span>
<span class="go">(False, u&#39;2+3&#39;)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_for_system_switching</span><span class="p">(</span><span class="n">c1</span><span class="o">.</span><span class="n">cleaned_input_text</span><span class="p">(),</span> <span class="n">c1</span><span class="p">)</span>
<span class="go">(True, u&quot;print _support_.syseval(gap, u&#39;SymmetricGroup(5)&#39;, __SAGE_TMP_DIR__)&quot;)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">c0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>  <span class="c">#random output -- depends on the computer&#39;s speed</span>
<span class="go">(&#39;d&#39;, Cell 0: in=2+3, out=</span>
<span class="go">5</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">c1</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>  <span class="c">#random output -- depends on the computer&#39;s speed</span>
<span class="go">(&#39;d&#39;, Cell 1: in=%gap</span>
<span class="go">SymmetricGroup(5), out=</span>
<span class="go">Sym( [ 1 .. 5 ] )</span>
<span class="go">)</span>
</pre></div>
</div>
<p>Next, we run the same commands but from &#8216;gap&#8217; mode.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="si">%s</span><span class="s">age</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n\n</span><span class="s">{{{</span><span class="se">\n</span><span class="s">SymmetricGroup(5)</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_system</span><span class="p">(</span><span class="s">&#39;gap&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c0</span><span class="p">,</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_for_system_switching</span><span class="p">(</span><span class="n">c0</span><span class="o">.</span><span class="n">cleaned_input_text</span><span class="p">(),</span> <span class="n">c0</span><span class="p">)</span>
<span class="go">(False, u&#39;2+3&#39;)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_for_system_switching</span><span class="p">(</span><span class="n">c1</span><span class="o">.</span><span class="n">cleaned_input_text</span><span class="p">(),</span> <span class="n">c1</span><span class="p">)</span>
<span class="go">(True, u&quot;print _support_.syseval(gap, u&#39;SymmetricGroup(5)&#39;, __SAGE_TMP_DIR__)&quot;)</span>
<span class="gp">sage: </span><span class="n">c0</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>  <span class="c">#random output -- depends on the computer&#39;s speed</span>
<span class="go">(&#39;d&#39;, Cell 0: in=%sage</span>
<span class="go">2+3, out=</span>
<span class="go">5</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">c1</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>  <span class="c">#random output -- depends on the computer&#39;s speed</span>
<span class="go">(&#39;d&#39;, Cell 1: in=SymmetricGroup(5), out=</span>
<span class="go">Sym( [ 1 .. 5 ] )</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.clear">
<tt class="descname">clear</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.clear_queue">
<tt class="descname">clear_queue</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.clear_queue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.collaborator_names">
<tt class="descname">collaborator_names</tt><big>(</big><em>max=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.collaborator_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string of the non-owner collaborators on this worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">max</span></tt> - an integer. If this is specified, then
only max number of collaborators are shown.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">collaborators</span><span class="p">();</span> <span class="n">C</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;wstein&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">collaborator_names</span><span class="p">()</span>
<span class="go">&#39;sage, wstein&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">collaborator_names</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;sage, ...&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.collaborators">
<tt class="descname">collaborators</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.collaborators" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a (reference to the) list of the collaborators who can also
view and modify this worksheet.</p>
<p>OUTPUT: list</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">collaborators</span><span class="p">();</span> <span class="n">C</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">collaborators</span><span class="p">()</span>
<span class="go">[&#39;sage&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.completions_html">
<tt class="descname">completions_html</tt><big>(</big><em>id</em>, <em>s</em>, <em>cols=3</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.completions_html" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.compute_cell_id_list">
<tt class="descname">compute_cell_id_list</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.compute_cell_id_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of ID&#8217;s of all compute cells in this worksheet.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>a new list of integers and/or strings</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.compute_cell_list">
<tt class="descname">compute_cell_list</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.compute_cell_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of this worksheet&#8217;s compute cells.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>a list of <a class="reference internal" href="cell.html#sagenb.notebook.cell.Cell" title="sagenb.notebook.cell.Cell"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.Cell</span></tt></a> instances</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;foo</span><span class="se">\n</span><span class="s">{{{</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">5</span><span class="se">\n</span><span class="s">}}}bar</span><span class="se">\n</span><span class="s">{{{</span><span class="se">\n</span><span class="s">2+8</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">10</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">compute_cell_list</span><span class="p">();</span> <span class="n">v</span>
<span class="go">[Cell 1: in=2+3, out=</span>
<span class="go">5, Cell 3: in=2+8, out=</span>
<span class="go">10]</span>
<span class="gp">sage: </span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Cell 1: in=2+3, out=</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.compute_process_has_been_started">
<tt class="descname">compute_process_has_been_started</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.compute_process_has_been_started" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True precisely if the compute process has been started,
irregardless of whether or not it is currently churning away on a
computation.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.computing">
<tt class="descname">computing</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.computing" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether or not a cell is currently being run in the
worksheet Sage process.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.create_directories">
<tt class="descname">create_directories</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.create_directories" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.cython_import">
<tt class="descname">cython_import</tt><big>(</big><em>cmd</em>, <em>cell</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.cython_import" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.data_directory">
<tt class="descname">data_directory</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.data_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to directory where worksheet data is stored.</p>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">data_directory</span><span class="p">()</span>
<span class="go">&#39;.../home/admin/0/data&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.date_edited">
<tt class="descname">date_edited</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.date_edited" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the date the worksheet was last edited.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.delete_all_output">
<tt class="descname">delete_all_output</tt><big>(</big><em>username</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.delete_all_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete all the output, files included, in all the worksheet cells.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">username</span></tt> - name of the user requesting the
deletion.</li>
</ul>
<p>EXAMPLES: We create a new notebook, user, and a worksheet:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&quot;{{{</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">5</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n</span><span class="s">{{{</span><span class="se">\n</span><span class="s">open(&#39;afile&#39;, &#39;w&#39;).write(&#39;some text&#39;)</span><span class="se">\n</span><span class="s">print &#39;hello&#39;</span><span class="se">\n</span><span class="s">///</span><span class="se">\n\n</span><span class="s">}}}&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We have two cells:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()</span>
<span class="go">[Cell 0: in=2+3, out=</span>
<span class="go">5, Cell 1: in=open(&#39;afile&#39;, &#39;w&#39;).write(&#39;some text&#39;)</span>
<span class="go">print &#39;hello&#39;, out=</span>
<span class="go">]</span>
<span class="gp">sage: </span><span class="n">C0</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">C0</span><span class="o">.</span><span class="n">directory</span><span class="p">(),</span> <span class="s">&#39;xyz&#39;</span><span class="p">),</span> <span class="s">&#39;w&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;bye&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C0</span><span class="o">.</span><span class="n">files</span><span class="p">()</span>
<span class="go">[&#39;xyz&#39;]</span>
<span class="gp">sage: </span><span class="n">C1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">C1</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>     <span class="c"># random output -- depends on computer speed</span>
<span class="go">(&#39;w&#39;, Cell 1: in=open(&#39;afile&#39;, &#39;w&#39;).write(&#39;some text&#39;)</span>
<span class="go">print &#39;hello&#39;, out=)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>     <span class="c"># random output -- depends on computer speed</span>
<span class="go">(&#39;d&#39;, Cell 1: in=open(&#39;afile&#39;, &#39;w&#39;).write(&#39;some text&#39;)</span>
<span class="go">print &#39;hello&#39;, out=</span>
<span class="go">hello</span>
<span class="go">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>     <span class="c"># random output -- depends on computer speed</span>
<span class="go">(&#39;e&#39;, None)</span>
<span class="gp">sage: </span><span class="n">C1</span><span class="o">.</span><span class="n">files</span><span class="p">()</span>         <span class="c"># random output -- depends on computer speed</span>
<span class="go">[&#39;afile&#39;]</span>
</pre></div>
</div>
<p>We now delete the output, observe that it is gone:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">delete_all_output</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()</span>
<span class="go">[Cell 0: in=2+3, out=, Cell 1: in=open(&#39;afile&#39;, &#39;w&#39;).write(&#39;some text&#39;)</span>
<span class="go">print &#39;hello&#39;, out=]</span>
<span class="gp">sage: </span><span class="n">C0</span><span class="o">.</span><span class="n">files</span><span class="p">(),</span> <span class="n">C1</span><span class="o">.</span><span class="n">files</span><span class="p">()</span>
<span class="go">([], [])</span>
</pre></div>
</div>
<p>If an invalid user tries to delete all output, a ValueError is
raised:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">delete_all_output</span><span class="p">(</span><span class="s">&#39;hacker&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">user &#39;hacker&#39; not allowed to edit this worksheet</span>
</pre></div>
</div>
<p>Clean up:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.delete_cell_with_id">
<tt class="descname">delete_cell_with_id</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.delete_cell_with_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a cell from this worksheet&#8217;s cell list.  This also
deletes the cell&#8217;s output and files.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">id</span></tt> - an integer or string; the cell&#8217;s ID</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>an integer or string; ID of the preceding cell</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test Delete Cell&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{id=foo|</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">5</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n</span><span class="s">{{{id=9|</span><span class="se">\n</span><span class="s">2+8</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">10</span><span class="se">\n</span><span class="s">}}}{{{id=dont_delete_me|</span><span class="se">\n</span><span class="s">2*3</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">6</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n</span><span class="s">&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_id_list</span><span class="p">()</span>
<span class="go">[&#39;foo&#39;, 9, &#39;dont_delete_me&#39;]</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>           <span class="c"># save a reference to the cell</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">output_text</span><span class="p">(</span><span class="n">raw</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">u&#39;\n10&#39;</span>
<span class="gp">sage: </span><span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">directory</span><span class="p">(),</span> <span class="s">&#39;bar&#39;</span><span class="p">),</span> <span class="s">&#39;w&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s">&#39;hello&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">files</span><span class="p">()</span>
<span class="go">[&#39;bar&#39;]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">files_html</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">)</span>
<span class="go">u&#39;&lt;a target=&quot;_new&quot; href=&quot;.../cells/9/bar&quot; class=&quot;file_link&quot;&gt;bar&lt;/a&gt;&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">delete_cell_with_id</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">id</span><span class="p">())</span>
<span class="go">&#39;foo&#39;</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">output_text</span><span class="p">(</span><span class="n">raw</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">u&#39;&#39;</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">files</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_id_list</span><span class="p">()</span>
<span class="go">[&#39;foo&#39;, &#39;dont_delete_me&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.delete_cells_directory">
<tt class="descname">delete_cells_directory</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.delete_cells_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the directory in which all the cell computations occur.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">3^20</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>    <span class="c"># random output -- depends on computer speed</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">directory</span><span class="p">()))</span>
<span class="go">[&#39;cells&#39;, &#39;data&#39;, &#39;worksheet.html&#39;, &#39;worksheet_conf.pickle&#39;]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">save_snapshot</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">directory</span><span class="p">()))</span>
<span class="go">[&#39;cells&#39;, &#39;data&#39;, &#39;snapshots&#39;, &#39;worksheet.html&#39;, &#39;worksheet_conf.pickle&#39;]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">delete_cells_directory</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">directory</span><span class="p">()))</span>
<span class="go">[&#39;data&#39;, &#39;snapshots&#39;, &#39;worksheet.html&#39;, &#39;worksheet_conf.pickle&#39;]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.delete_notebook_specific_data">
<tt class="descname">delete_notebook_specific_data</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.delete_notebook_specific_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete data from this worksheet this is specific to a certain
notebook. This means deleting the attached files, collaborators,
and viewers.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;hilbert&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">add_viewer</span><span class="p">(</span><span class="s">&#39;hilbert&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">delete_notebook_specific_data</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewers</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">add_collaborator</span><span class="p">(</span><span class="s">&#39;hilbert&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">collaborators</span><span class="p">()</span>
<span class="go">[&#39;admin&#39;, &#39;hilbert&#39;]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">delete_notebook_specific_data</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">collaborators</span><span class="p">()</span>
<span class="go">[&#39;admin&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.delete_user">
<tt class="descname">delete_user</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.delete_user" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete a user from having any view or ownership of this worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string; the name of a user</li>
</ul>
<p>EXAMPLES: We create a notebook with 2 users and 1 worksheet that
both view.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;wstein&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;wstein@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">new_worksheet_with_title_from_text</span><span class="p">(</span><span class="s">&#39;Sage&#39;</span><span class="p">,</span> <span class="n">owner</span><span class="o">=</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">add_viewer</span><span class="p">(</span><span class="s">&#39;wstein&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">owner</span><span class="p">()</span>
<span class="go">&#39;sage&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewers</span><span class="p">()</span>
<span class="go">[&#39;wstein&#39;]</span>
</pre></div>
</div>
<p>We delete the sage user from the worksheet W. This makes wstein the
new owner.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">delete_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewers</span><span class="p">()</span>
<span class="go">[&#39;wstein&#39;]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">owner</span><span class="p">()</span>
<span class="go">&#39;wstein&#39;</span>
</pre></div>
</div>
<p>Then we delete wstein from W, which makes the owner None.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">delete_user</span><span class="p">(</span><span class="s">&#39;wstein&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">owner</span><span class="p">()</span> <span class="ow">is</span> <span class="bp">None</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewers</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Finally, we clean up.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.detach">
<tt class="descname">detach</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.detach" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.directory">
<tt class="descname">directory</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full path to the directory where this worksheet is
stored.</p>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">directory</span><span class="p">()</span>
<span class="go">&#39;.../home/admin/0&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.docbrowser">
<tt class="descname">docbrowser</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.docbrowser" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this is a docbrowser worksheet.</p>
<p>OUTPUT: bool</p>
<p>EXAMPLES: We first create a standard worksheet for which docbrowser
is of course False:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">docbrowser</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>We create a worksheet for which docbrowser is True:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;doc_browser_0&#39;</span><span class="p">,</span> <span class="s">&#39;_sage_&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">docbrowser</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.download_name">
<tt class="descname">download_name</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.download_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the download name of this worksheet.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.edit_save">
<tt class="descname">edit_save</tt><big>(</big><em>text</em>, <em>ignore_ids=False</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.edit_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the contents of this worksheet to the worksheet defined by
the plain text string text, which should be a sequence of HTML
and code blocks.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">text</span></tt> - a string</li>
<li><tt class="docutils literal"><span class="pre">ignore_ids</span></tt> - bool (default: False); if True
ignore all the IDs in the {{{}}} code block.</li>
</ul>
<p>EXAMPLES:</p>
<p>We create a new test notebook and a worksheet.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test Edit Save&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>We set the contents of the worksheet using the edit_save command.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">5</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n</span><span class="s">{{{</span><span class="se">\n</span><span class="s">2+8</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">10</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span>
<span class="go">sage/0: [Cell 0: in=2+3, out=</span>
<span class="go">5, Cell 1: in=2+8, out=</span>
<span class="go">10]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="go">u&#39;Test Edit Save&#39;</span>
</pre></div>
</div>
<p>We check that loading a worksheet whose last cell is a
<a class="reference internal" href="cell.html#sagenb.notebook.cell.TextCell" title="sagenb.notebook.cell.TextCell"><tt class="xref py py-class docutils literal"><span class="pre">TextCell</span></tt></a> properly increments
the worksheet&#8217;s cell count (see Sage trac ticket <a class="reference external" href="http://trac.sagemath.org/sage_trac/ticket/8443">#8443</a>).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">,</span> <span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test trac #8443&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">1+1</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_id_list</span><span class="p">()</span>
<span class="go">[0]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">next_id</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&quot;{{{</span><span class="se">\n</span><span class="s">1+1</span><span class="se">\n</span><span class="s">///</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n\n</span><span class="s">&lt;p&gt;a text cell&lt;/p&gt;&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">cell_id_list</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">3</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_id_list</span><span class="p">()</span>
<span class="go">[0, 1, 2]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">next_id</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.edit_save_old_format">
<tt class="descname">edit_save_old_format</tt><big>(</big><em>text</em>, <em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.edit_save_old_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.edit_text">
<tt class="descname">edit_text</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.edit_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a plain-text version of the worksheet with {{{}}}
wiki-formatting, suitable for hand editing.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.enqueue">
<tt class="descname">enqueue</tt><big>(</big><em>C</em>, <em>username=None</em>, <em>next=False</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.enqueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Queue a cell for evaluation in this worksheet.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">C</span></tt> - a <a class="reference internal" href="cell.html#sagenb.notebook.cell.Cell" title="sagenb.notebook.cell.Cell"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.Cell</span></tt></a> instance</p>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">username</span></tt> - a string (default: None); the name of the</dt>
<dd><p class="first last">user evaluating this cell (mainly used for login)</p>
</dd>
</dl>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">next</span></tt> - a boolean (default: False); ignored</p>
</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If <tt class="docutils literal"><span class="pre">C.is_asap()</span></tt> is True, then we put <tt class="docutils literal"><span class="pre">C</span></tt> as close to
the beginning of the queue as possible, but after all
&#8220;asap&#8221; cells.  Otherwise, <tt class="docutils literal"><span class="pre">C</span></tt> goes at the end of the
queue.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.eval_asap_no_output">
<tt class="descname">eval_asap_no_output</tt><big>(</big><em>cmd</em>, <em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.eval_asap_no_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.everyone_has_deleted_this_worksheet">
<tt class="descname">everyone_has_deleted_this_worksheet</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.everyone_has_deleted_this_worksheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if all users have deleted this worksheet, so we know we
can safely purge it from disk.</p>
<p>OUTPUT: bool</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">everyone_has_deleted_this_worksheet</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_trash</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">everyone_has_deleted_this_worksheet</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.filename">
<tt class="descname">filename</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the filename (really directory) where the files associated
to this worksheet are stored.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">filename</span><span class="p">()</span>
<span class="go">&#39;admin/0&#39;</span>
<span class="gp">sage: </span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">nb</span><span class="o">.</span><span class="n">_dir</span><span class="p">,</span> <span class="s">&#39;home&#39;</span><span class="p">,</span> <span class="n">W</span><span class="o">.</span><span class="n">filename</span><span class="p">()))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.filename_without_owner">
<tt class="descname">filename_without_owner</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.filename_without_owner" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the part of the worksheet filename after the last /, i.e.,
without any information about the owner of this worksheet.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">filename_without_owner</span><span class="p">()</span>
<span class="go">&#39;0&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">filename</span><span class="p">()</span>
<span class="go">&#39;admin/0&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.get_cell_system">
<tt class="descname">get_cell_system</tt><big>(</big><em>cell</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.get_cell_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the system that will run the input in cell.  This
defaults to worksheet&#8217;s system if there is not one
specifically given in the cell.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n\n</span><span class="s">{{{</span><span class="se">\n</span><span class="si">%g</span><span class="s">ap</span><span class="se">\n</span><span class="s">SymmetricGroup(5)</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c0</span><span class="p">,</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">get_cell_system</span><span class="p">(</span><span class="n">c0</span><span class="p">)</span>
<span class="go">&#39;sage&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">get_cell_system</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="go">u&#39;gap&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="si">%s</span><span class="s">age</span><span class="se">\n</span><span class="s">2+3</span><span class="se">\n</span><span class="s">}}}</span><span class="se">\n\n</span><span class="s">{{{</span><span class="se">\n</span><span class="s">SymmetricGroup(5)</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_system</span><span class="p">(</span><span class="s">&#39;gap&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c0</span><span class="p">,</span> <span class="n">c1</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">get_cell_system</span><span class="p">(</span><span class="n">c0</span><span class="p">)</span>
<span class="go">u&#39;sage&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">get_cell_system</span><span class="p">(</span><span class="n">c1</span><span class="p">)</span>
<span class="go">&#39;gap&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.get_cell_with_id">
<tt class="descname">get_cell_with_id</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.get_cell_with_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a pre-existing cell with this id, or creates a new one with it.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.get_cell_with_id_or_none">
<tt class="descname">get_cell_with_id_or_none</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.get_cell_with_id_or_none" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a pre-existing cell with this id, or returns None.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.get_snapshot_text_filename">
<tt class="descname">get_snapshot_text_filename</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.get_snapshot_text_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.has_published_version">
<tt class="descname">has_published_version</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.has_published_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if there is a published version of this worksheet.</p>
<p>OUTPUT: bool</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">publish_worksheet</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">has_published_version</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">has_published_version</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.hide_all">
<tt class="descname">hide_all</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.hide_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.html">
<tt class="descname">html</tt><big>(</big><em>do_print=False</em>, <em>publish=False</em>, <em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.html" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li>publish - a boolean stating whether the worksheet is published</li>
<li>do_print - a boolean</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>string &#8211; the HTML for the worksheet</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">html</span><span class="p">()</span>
<span class="go">u&#39;...cell_input_active...worksheet_cell_list...cell_1...cell_output_html_1...&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.html_cell_list">
<tt class="descname">html_cell_list</tt><big>(</big><em>do_print=False</em>, <em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.html_cell_list" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li>do_print - a boolean</li>
</ul>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><ul class="simple">
<li>string &#8211; the HTML for the list of cells</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.html_ratings_info">
<tt class="descname">html_ratings_info</tt><big>(</big><em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.html_ratings_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return html that renders to give a summary of how this worksheet
has been rated.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">string</span></tt> &#8211; a string of HTML as a bunch of table rows.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;this lacks content&#39;</span><span class="p">,</span> <span class="s">&#39;riemann&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;this is great&#39;</span><span class="p">,</span> <span class="s">&#39;hilbert&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">html_ratings_info</span><span class="p">()</span>
<span class="go">u&#39;...hilbert...3...this is great...this lacks content...&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.html_time_last_edited">
<tt class="descname">html_time_last_edited</tt><big>(</big><em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.html_time_last_edited" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.html_time_nice_edited">
<tt class="descname">html_time_nice_edited</tt><big>(</big><em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.html_time_nice_edited" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a &#8220;nice&#8221; html time since last edit.</p>
<p>If the last edit was in the last 24 hours, return a &#8220;x hours ago&#8221;.
Otherwise, return a specific date.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.html_time_since_last_edited">
<tt class="descname">html_time_since_last_edited</tt><big>(</big><em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.html_time_since_last_edited" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.hunt_file">
<tt class="descname">hunt_file</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.hunt_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.id_number">
<tt class="descname">id_number</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.id_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the id number of this worksheet, which is an integer.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sagenb.notebook.worksheet</span> <span class="kn">import</span> <span class="n">Worksheet</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">Worksheet</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">tmp_dir</span><span class="p">(),</span> <span class="n">owner</span><span class="o">=</span><span class="s">&#39;sageuser&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">id_number</span><span class="p">()</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">id_number</span><span class="p">())</span>
<span class="go">&lt;type &#39;int&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.increase_state_number">
<tt class="descname">increase_state_number</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.increase_state_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.initialize_sage">
<tt class="descname">initialize_sage</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.initialize_sage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.input_text">
<tt class="descname">input_text</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.input_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return text version of the input to the worksheet.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.interrupt">
<tt class="descname">interrupt</tt><big>(</big><em>callback=None</em>, <em>timeout=1</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.interrupt" title="Permalink to this definition">¶</a></dt>
<dd><p>Interrupt all currently queued up calculations.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">timeout</span></tt> &#8211; time to wait for interruption to succeed</li>
<li><tt class="docutils literal"><span class="pre">callback</span></tt> &#8211; callback to be called. Called with True if
interrupt succeeds, else called with False.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">deferred</span></tt> - a Deferred object with the given callbacks and errbacks</li>
</ul>
<p>EXAMPLES: We create a worksheet and start a large factorization
going:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">edit_save</span><span class="p">(</span><span class="s">&#39;{{{</span><span class="se">\n</span><span class="s">factor(2^997-1)</span><span class="se">\n</span><span class="s">}}}&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">cell_list</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">evaluate</span><span class="p">()</span>
</pre></div>
</div>
<p>It&#8217;s running still:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>
<span class="go">(&#39;w&#39;, Cell 0: in=factor(2^997-1), out=...)</span>
</pre></div>
</div>
<p>We interrupt it successfully.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">interrupt</span><span class="p">()</span>         <span class="c"># not tested -- needs running reactor</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Now we check and nothing is computing.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">check_comp</span><span class="p">()</span>        <span class="c"># random -- could fail on heavily loaded machine</span>
<span class="go">(&#39;e&#39;, None)</span>
</pre></div>
</div>
<p>Clean up.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_active">
<tt class="descname">is_active</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this worksheet is active for the given user.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string</li>
</ul>
<p>OUTPUT: bool</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Active Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_archive</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_archived">
<tt class="descname">is_archived</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_archived" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this worksheet is archived for the given user.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string</li>
</ul>
<p>OUTPUT: bool</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Archived Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_archived</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_archive</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_archived</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_auto_publish">
<tt class="descname">is_auto_publish</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_auto_publish" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if this worksheet should be automatically published.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_collaborator">
<tt class="descname">is_collaborator</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_collaborator" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_last_id_and_previous_is_nonempty">
<tt class="descname">is_last_id_and_previous_is_nonempty</tt><big>(</big><em>id</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_last_id_and_previous_is_nonempty" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_only_viewer">
<tt class="descname">is_only_viewer</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_only_viewer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_owner">
<tt class="descname">is_owner</tt><big>(</big><em>username</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_owner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_published">
<tt class="descname">is_published</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_published" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this worksheet is a published worksheet.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">bool</span></tt> - whether or not owner is &#8216;pub&#8217;</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_published</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_owner</span><span class="p">(</span><span class="s">&#39;pub&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_published</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_publisher">
<tt class="descname">is_publisher</tt><big>(</big><em>username</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_publisher" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if username is the username of the publisher of this
worksheet, assuming this worksheet was published.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">username</span></tt> - string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">publish_worksheet</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">is_publisher</span><span class="p">(</span><span class="s">&#39;hearst&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">is_publisher</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_rater">
<tt class="descname">is_rater</tt><big>(</big><em>username</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_rater" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True is the user with given username has rated this
worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">username</span></tt> - string</li>
</ul>
<p>OUTPUT: bool</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;this lacks content&#39;</span><span class="p">,</span> <span class="s">&#39;riemann&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_rater</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_rater</span><span class="p">(</span><span class="s">&#39;riemann&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_trashed">
<tt class="descname">is_trashed</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_trashed" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this worksheet is in the trash for the given user.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string</li>
</ul>
<p>OUTPUT: bool</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Trash Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_trashed</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_trash</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_trashed</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.is_viewer">
<tt class="descname">is_viewer</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.is_viewer" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.last_change">
<tt class="descname">last_change</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.last_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Return information about when this worksheet was last changed
and by whom.</p>
<p>OUTPUT:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">username</span></tt> &#8211; string of username who last edited this
worksheet</li>
<li><tt class="docutils literal"><span class="pre">float</span></tt> &#8211; seconds since epoch of the time when this
worksheet was last edited</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.last_compute_walltime">
<tt class="descname">last_compute_walltime</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.last_compute_walltime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.last_edited">
<tt class="descname">last_edited</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.last_edited" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.last_to_edit">
<tt class="descname">last_to_edit</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.last_to_edit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.limit_snapshots">
<tt class="descname">limit_snapshots</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.limit_snapshots" title="Permalink to this definition">¶</a></dt>
<dd><p>This routine will limit the number of snapshots of a worksheet,
as specified by a hard-coded value below.</p>
<p>Prior behavior was to allow unlimited numbers of snapshots and
so this routine will not delete files created prior to this change.</p>
<p>This assumes snapshot names correspond to the <tt class="docutils literal"><span class="pre">time.time()</span></tt>
method used to create base filenames in seconds in UTC time,
and that there are no other extraneous files in the directory.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.live_3D">
<tt class="descname">live_3D</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.live_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the 3-D plots should be loaded live (interactive) by default.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">bool</span></tt> - True of False</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">live_3D</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.load_any_changed_attached_files">
<tt class="descname">load_any_changed_attached_files</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.load_any_changed_attached_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify <tt class="docutils literal"><span class="pre">s</span></tt> by prepending any necessary load commands
corresponding to attached files that have changed.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.load_path">
<tt class="descname">load_path</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.load_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.move_out_of_trash">
<tt class="descname">move_out_of_trash</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.move_out_of_trash" title="Permalink to this definition">¶</a></dt>
<dd><p>Exactly the same as set_active(user).</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Active Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_trash</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_out_of_trash</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.move_to_archive">
<tt class="descname">move_to_archive</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.move_to_archive" title="Permalink to this definition">¶</a></dt>
<dd><p>Move this worksheet to be archived for the given user.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Archive Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_archive</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_archived</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.move_to_trash">
<tt class="descname">move_to_trash</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.move_to_trash" title="Permalink to this definition">¶</a></dt>
<dd><p>Move this worksheet to the trash for the given user.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Trash Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_trash</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_trashed</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.name">
<tt class="descname">name</tt><big>(</big><em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.name" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of this worksheet.</p>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="go">u&#39;A Test Worksheet&#39;</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;ěščřžýáíéďĎ&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="go">u&#39;ěščřž\xfd\xe1\xed\xe9ďĎ&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.new_cell_after">
<tt class="descname">new_cell_after</tt><big>(</big><em>id</em>, <em>input=''</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.new_cell_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a new compute cell into this worksheet&#8217;s cell list
after the cell with the given ID.  If the ID does not match
any cell, it inserts the new cell at the end of the list.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">id</span></tt> - an integer or a string; the ID of the cell to find</li>
<li><tt class="docutils literal"><span class="pre">input</span></tt> - a string (default: &#8216;&#8217;); the new cell&#8217;s input text</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a new <a class="reference internal" href="cell.html#sagenb.notebook.cell.Cell" title="sagenb.notebook.cell.Cell"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.Cell</span></tt></a> instance</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.new_cell_before">
<tt class="descname">new_cell_before</tt><big>(</big><em>id</em>, <em>input=''</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.new_cell_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a new compute cell before a cell with the given ID.
If the ID does not match any cell in this worksheet&#8217;s list, it
inserts a new cell at the end.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">id</span></tt> - an integer or a string; the ID of the cell to find</li>
<li><tt class="docutils literal"><span class="pre">input</span></tt> - a string (default: &#8216;&#8217;); the new cell&#8217;s input text</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a new <a class="reference internal" href="cell.html#sagenb.notebook.cell.Cell" title="sagenb.notebook.cell.Cell"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.Cell</span></tt></a> instance</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.new_text_cell_after">
<tt class="descname">new_text_cell_after</tt><big>(</big><em>id</em>, <em>input=''</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.new_text_cell_after" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a new text cell into this worksheet&#8217;s cell list after
the cell with the given ID.  If the ID does not match any
cell, it inserts the new cell at the end of the list.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">id</span></tt> - an integer or a string; the ID of the cell to find</li>
<li><tt class="docutils literal"><span class="pre">input</span></tt> - a string (default: &#8216;&#8217;); the new cell&#8217;s input text</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a new <a class="reference internal" href="cell.html#sagenb.notebook.cell.TextCell" title="sagenb.notebook.cell.TextCell"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.TextCell</span></tt></a> instance</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.new_text_cell_before">
<tt class="descname">new_text_cell_before</tt><big>(</big><em>id</em>, <em>input=''</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.new_text_cell_before" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a new text cell before the cell with the given ID.  If
the ID does not match any cell in this worksheet&#8217;s list, it
inserts a new cell at the end.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">id</span></tt> - an integer or a string; the ID of the cell to find</li>
<li><tt class="docutils literal"><span class="pre">input</span></tt> - a string (default: &#8216;&#8217;); the new cell&#8217;s input
text</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a new <a class="reference internal" href="cell.html#sagenb.notebook.cell.TextCell" title="sagenb.notebook.cell.TextCell"><tt class="xref py py-class docutils literal"><span class="pre">sagenb.notebook.cell.TextCell</span></tt></a> instance</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.next_block_id">
<tt class="descname">next_block_id</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.next_block_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.next_hidden_id">
<tt class="descname">next_hidden_id</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.next_hidden_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.next_id">
<tt class="descname">next_id</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.next_id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.notebook">
<tt class="descname">notebook</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.notebook" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the notebook that contains this worksheet.</p>
<p>OUTPUT: a Notebook object.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This really returns the Notebook object that is set as a
global variable of the misc module.  This is done <em>even</em>
in the Flask version of the notebook as it is set in
func:<span class="math">\(sagenb.notebook.notebook.load_notebook\)</span>.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">notebook</span><span class="p">()</span>
<span class="go">&lt;...sagenb.notebook.notebook.Notebook...&gt;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">notebook</span><span class="p">()</span> <span class="ow">is</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">misc</span><span class="o">.</span><span class="n">notebook</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.onload_id_list">
<tt class="descname">onload_id_list</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.onload_id_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of ID&#8217;s of cells the remote client should
evaluate after the worksheet loads.  Unlike &#8216;%auto&#8217; cells,
which the server chooses to evaluate, onload cells fire only
after the client sends a request.  Currently, we use onload
cells to set up published interacts.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li>a new list of integer and/or string IDs</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.owner">
<tt class="descname">owner</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.owner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.ping">
<tt class="descname">ping</tt><big>(</big><em>username</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.ping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.plain_text">
<tt class="descname">plain_text</tt><big>(</big><em>prompts=False</em>, <em>banner=True</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.plain_text" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a plain-text version of the worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">prompts</span></tt> - if True format for inclusion in
docstrings.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.postprocess_output">
<tt class="descname">postprocess_output</tt><big>(</big><em>out</em>, <em>C</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.postprocess_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.preparse">
<tt class="descname">preparse</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.preparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Return preparsed version of input code <tt class="docutils literal"><span class="pre">s</span></tt>, ready to be sent
to the Sage process for evaluation.  The output is a &#8220;safe
string&#8221; (no funny characters).</p>
<p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">s</span></tt> &#8211; a string</li>
</ul>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><ul class="simple">
<li>a string</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.preparse_input">
<tt class="descname">preparse_input</tt><big>(</big><em>input</em>, <em>C</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.preparse_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.preparse_introspection_input">
<tt class="descname">preparse_introspection_input</tt><big>(</big><em>input</em>, <em>C</em>, <em>introspect</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.preparse_introspection_input" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.preparse_nonswitched_input">
<tt class="descname">preparse_nonswitched_input</tt><big>(</big><em>input</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.preparse_nonswitched_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Preparse the input to a Sage Notebook cell.</p>
<p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">input</span></tt> &#8211; a string</li>
</ul>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><ul class="simple">
<li>a string</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.pretty_print">
<tt class="descname">pretty_print</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.pretty_print" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if output should be pretty printed by default.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">bool</span></tt> - True of False</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">pretty_print</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_pretty_print</span><span class="p">(</span><span class="s">&#39;true&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">pretty_print</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.published_version">
<tt class="descname">published_version</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.published_version" title="Permalink to this definition">¶</a></dt>
<dd><p>If this worksheet was published, return the published version of
this worksheet. Otherwise, raise a ValueError.</p>
<p>OUTPUT: a worksheet (or raise a ValueError)</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">publish_worksheet</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">published_version</span><span class="p">()</span> <span class="ow">is</span> <span class="n">P</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.publisher">
<tt class="descname">publisher</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.publisher" title="Permalink to this definition">¶</a></dt>
<dd><p>Return username of user that published this worksheet.</p>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">publish_worksheet</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">publisher</span><span class="p">()</span>
<span class="go">&#39;admin&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.queue">
<tt class="descname">queue</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.queue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.queue_id_list">
<tt class="descname">queue_id_list</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.queue_id_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.quit">
<tt class="descname">quit</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.quit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.quit_if_idle">
<tt class="descname">quit_if_idle</tt><big>(</big><em>timeout</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.quit_if_idle" title="Permalink to this definition">¶</a></dt>
<dd><p>Quit the worksheet process if it has been &#8220;idle&#8221; for more than
<tt class="docutils literal"><span class="pre">timeout</span></tt> seconds, where idle is by definition that
the worksheet has not reported back that it is actually computing.
I.e., an ignored worksheet process (since the user closed their
browser) is also considered idle, even if code is running.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.rate">
<tt class="descname">rate</tt><big>(</big><em>x</em>, <em>comment</em>, <em>username</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the rating on this worksheet by the given user to x and also
set the given comment.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x</span></tt> - integer</li>
<li><tt class="docutils literal"><span class="pre">comment</span></tt> - string</li>
<li><tt class="docutils literal"><span class="pre">username</span></tt> - string</li>
</ul>
<p>EXAMPLES: We create a worksheet and rate it, then look at the
ratings.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;this is great&#39;</span><span class="p">,</span> <span class="s">&#39;hilbert&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">ratings</span><span class="p">()</span>
<span class="go">[(&#39;hilbert&#39;, 3, &#39;this is great&#39;)]</span>
</pre></div>
</div>
<p>Note that only the last rating by a user counts:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;this lacks content&#39;</span><span class="p">,</span> <span class="s">&#39;riemann&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;this lacks content&#39;</span><span class="p">,</span> <span class="s">&#39;riemann&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">ratings</span><span class="p">()</span>
<span class="go">[(&#39;hilbert&#39;, 3, &#39;this is great&#39;), (&#39;riemann&#39;, 0, &#39;this lacks content&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.rating">
<tt class="descname">rating</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.rating" title="Permalink to this definition">¶</a></dt>
<dd><p>Return overall average rating of self.</p>
<p>OUTPUT: float or the int -1 to mean &#8220;not rated&#8221;</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rating</span><span class="p">()</span>
<span class="go">-1</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;this lacks content&#39;</span><span class="p">,</span> <span class="s">&#39;riemann&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;this is great&#39;</span><span class="p">,</span> <span class="s">&#39;hilbert&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rating</span><span class="p">()</span>
<span class="go">1.5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.ratings">
<tt class="descname">ratings</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.ratings" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the ratings of this worksheet.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">list</span></tt> - a reference to the list of ratings.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">ratings</span><span class="p">()</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s">&#39;this lacks content&#39;</span><span class="p">,</span> <span class="s">&#39;riemann&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">rate</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;this is great&#39;</span><span class="p">,</span> <span class="s">&#39;hilbert&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">ratings</span><span class="p">()</span>
<span class="go">[(&#39;riemann&#39;, 0, &#39;this lacks content&#39;), (&#39;hilbert&#39;, 3, &#39;this is great&#39;)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.reconstruct_from_basic">
<tt class="descname">reconstruct_from_basic</tt><big>(</big><em>obj</em>, <em>notebook_worksheet_directory=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.reconstruct_from_basic" title="Permalink to this definition">¶</a></dt>
<dd><p>Reconstruct as much of the worksheet&#8217;s configuration as
possible from the properties that happen to be set in the
basic dictionary obj.</p>
<p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">obj</span></tt> &#8211; a dictionary of basic Python objects</li>
<li><tt class="docutils literal"><span class="pre">notebook_worksheet_directory</span></tt> &#8211; must be given if
<tt class="docutils literal"><span class="pre">id_number</span></tt> is a key of obj; otherwise not.</li>
</ul>
</div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sagenb.notebook.worksheet</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">Worksheet</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tmp_dir</span><span class="p">(),</span> <span class="n">system</span><span class="o">=</span><span class="s">&#39;gap&#39;</span><span class="p">,</span> <span class="n">owner</span><span class="o">=</span><span class="s">&#39;sageuser&#39;</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">auto_publish</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">new_cell_after</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">Cell 1: in=, out=</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">basic</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W0</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">Worksheet</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W0</span><span class="o">.</span><span class="n">reconstruct_from_basic</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">tmp_dir</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">W0</span><span class="o">.</span><span class="n">basic</span><span class="p">()</span> <span class="o">==</span> <span class="n">W</span><span class="o">.</span><span class="n">basic</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.record_edit">
<tt class="descname">record_edit</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.record_edit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.reset_interact_state">
<tt class="descname">reset_interact_state</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.reset_interact_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the interact state of this worksheet.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.restart_sage">
<tt class="descname">restart_sage</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.restart_sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Restart Sage kernel.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.revert_to_last_saved_state">
<tt class="descname">revert_to_last_saved_state</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.revert_to_last_saved_state" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.revert_to_snapshot">
<tt class="descname">revert_to_snapshot</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.revert_to_snapshot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.sage">
<tt class="descname">sage</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.sage" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a started up copy of Sage initialized for computations.</p>
<p>If this is a published worksheet, just return None, since published
worksheets must not have any compute functionality.</p>
<p>OUTPUT: a Sage interface</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.satisfies_search">
<tt class="descname">satisfies_search</tt><big>(</big><em>search</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.satisfies_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if all words in search are in the saved text of the
worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">search</span></tt> - a string that describes a search query, i.e., a
space-separated collections of words.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a boolean</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.save">
<tt class="descname">save</tt><big>(</big><em>conf_only=False</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.save" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.save_snapshot">
<tt class="descname">save_snapshot</tt><big>(</big><em>user</em>, <em>E=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.save_snapshot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_active">
<tt class="descname">set_active</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Set his worksheet to be active for the given user.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Active Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_archive</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_active</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">is_active</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_auto_publish">
<tt class="descname">set_auto_publish</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_auto_publish" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_body">
<tt class="descname">set_body</tt><big>(</big><em>body</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_body" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_cell_counter">
<tt class="descname">set_cell_counter</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_cell_counter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_collaborators">
<tt class="descname">set_collaborators</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_collaborators" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the list of collaborators to those listed in the list v of
strings.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">v</span></tt> - a list of strings</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;hilbert&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_collaborators</span><span class="p">([</span><span class="s">&#39;sage&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">,</span> <span class="s">&#39;hilbert&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Note that repeats are not added multiple times and admin - the
owner - isn&#8217;t added:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">collaborators</span><span class="p">()</span>
<span class="go">[&#39;hilbert&#39;, &#39;sage&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_filename">
<tt class="descname">set_filename</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the worksheet filename (actually directory).</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">filename</span></tt> - string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">filename</span><span class="p">()</span>
<span class="go">&#39;admin/0&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_filename</span><span class="p">(</span><span class="s">&#39;admin/10&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">filename</span><span class="p">()</span>
<span class="go">&#39;admin/10&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_filename_without_owner">
<tt class="descname">set_filename_without_owner</tt><big>(</big><em>nm</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_filename_without_owner" title="Permalink to this definition">¶</a></dt>
<dd><p>Set this worksheet filename (actually directory) by getting the
owner from the pre-stored owner via <tt class="docutils literal"><span class="pre">self.owner()</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">nm</span></tt> - string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">filename</span><span class="p">()</span>
<span class="go">&#39;admin/0&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_filename_without_owner</span><span class="p">(</span><span class="s">&#39;5&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">filename</span><span class="p">()</span>
<span class="go">&#39;admin/5&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_last_change">
<tt class="descname">set_last_change</tt><big>(</big><em>username</em>, <em>tm</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_last_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the time and who last changed this worksheet.</p>
<p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">username</span></tt> &#8211; (string) name of a user</li>
<li><tt class="docutils literal"><span class="pre">tm</span></tt> &#8211; (float) seconds since epoch</li>
</ul>
</div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">Worksheet</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tmp_dir</span><span class="p">(),</span> <span class="n">owner</span><span class="o">=</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">last_change</span><span class="p">()</span>
<span class="go">(&#39;sage&#39;, ...)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_last_change</span><span class="p">(</span><span class="s">&#39;john&#39;</span><span class="p">,</span> <span class="mi">1255029800</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">last_change</span><span class="p">()</span>
<span class="go">(&#39;john&#39;, 1255029800.0)</span>
</pre></div>
</div>
<p>We make sure these other functions have been correctly updated:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">last_edited</span><span class="p">()</span>
<span class="go">1255029800.0</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">last_to_edit</span><span class="p">()</span>
<span class="go">&#39;john&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">date_edited</span><span class="p">()</span> <span class="c"># Output depends on timezone</span>
<span class="go">time.struct_time(tm_year=2009, tm_mon=10, ...)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">time_since_last_edited</span><span class="p">()</span> <span class="c"># just test that call works</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_live_3D">
<tt class="descname">set_live_3D</tt><big>(</big><em>check=False</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_live_3D" title="Permalink to this definition">¶</a></dt>
<dd><p>Set whether or not 3-D plots should be live by default.  Not a good idea for
worksheets with more than 1 or 2 3-D plots.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">check</span></tt> - boolean</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_live_3D</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">live_3D</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_live_3D</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">live_3D</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_name">
<tt class="descname">set_name</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the name of this worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> - string</li>
</ul>
<p>EXAMPLES: We create a worksheet and change the name:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_name</span><span class="p">(</span><span class="s">&#39;A renamed worksheet&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">name</span><span class="p">()</span>
<span class="go">u&#39;A renamed worksheet&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_not_computing">
<tt class="descname">set_not_computing</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_not_computing" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_owner">
<tt class="descname">set_owner</tt><big>(</big><em>owner</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_owner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_pretty_print">
<tt class="descname">set_pretty_print</tt><big>(</big><em>check='false'</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_pretty_print" title="Permalink to this definition">¶</a></dt>
<dd><p>Set whether or not output should be pretty printed by default.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">check</span></tt> - string (default: &#8216;false&#8217;); either &#8216;true&#8217;
or &#8216;false&#8217;.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The reason the input is a string and lower case instead of
a Python bool is because this gets called indirectly from
JavaScript. (And, Jason Grout wrote this and didn&#8217;t realize
how unpythonic this design is - it should be redone to use
True/False.)</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_pretty_print</span><span class="p">(</span><span class="s">&#39;false&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">pretty_print</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_pretty_print</span><span class="p">(</span><span class="s">&#39;true&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">pretty_print</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_published_version">
<tt class="descname">set_published_version</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_published_version" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the published version of this worksheet to be the worksheet
with given filename.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">filename</span></tt> - string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">publish_worksheet</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>  <span class="c"># indirect test</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">_Worksheet__published_version</span>
<span class="go">&#39;pub/0&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_published_version</span><span class="p">(</span><span class="s">&#39;pub/1&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">_Worksheet__published_version</span>
<span class="go">&#39;pub/1&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_system">
<tt class="descname">set_system</tt><big>(</big><em>system='sage'</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_system" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the math software system in which input is evaluated by
default.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">system</span></tt> - string (default: &#8216;sage&#8217;)</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_system</span><span class="p">(</span><span class="s">&#39;magma&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>
<span class="go">&#39;magma&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_tags">
<tt class="descname">set_tags</tt><big>(</big><em>tags</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the tags &#8211; for now we ignore everything except ACTIVE,
ARCHIVED, TRASH.</p>
<p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">tags</span></tt> &#8211; dictionary with keys usernames and values a
list of tags, where a tag is a string or ARCHIVED,
ACTIVE, TRASH.</li>
</ul>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_user_view">
<tt class="descname">set_user_view</tt><big>(</big><em>user</em>, <em>x</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_user_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the view on this worksheet for the given user.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - a string</li>
<li><tt class="docutils literal"><span class="pre">x</span></tt> - int, one of the variables ACTIVE, ARCHIVED,
TRASH in worksheet.py</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_user_view</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">,</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">ARCHIVED</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_view</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">ARCHIVED</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.set_worksheet_that_was_published">
<tt class="descname">set_worksheet_that_was_published</tt><big>(</big><em>W</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.set_worksheet_that_was_published" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the owner and id_number of the worksheet that was
published to get self.</p>
<p>INPUT:</p>
<blockquote>
<div><ul class="simple">
<li><tt class="docutils literal"><span class="pre">W</span></tt> &#8211; worksheet or 2-tuple (&#8216;owner&#8217;, id_number)</li>
</ul>
</div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">publish_worksheet</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">worksheet_that_was_published</span><span class="p">()</span> <span class="ow">is</span> <span class="n">W</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We fake things and make it look like P published itself:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">set_worksheet_that_was_published</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">worksheet_that_was_published</span><span class="p">()</span> <span class="ow">is</span> <span class="n">P</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.show_all">
<tt class="descname">show_all</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.show_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.snapshot_data">
<tt class="descname">snapshot_data</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.snapshot_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.snapshot_directory">
<tt class="descname">snapshot_directory</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.snapshot_directory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.start_next_comp">
<tt class="descname">start_next_comp</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.start_next_comp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.state_number">
<tt class="descname">state_number</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.state_number" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.synchro">
<tt class="descname">synchro</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.synchro" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.synchronize">
<tt class="descname">synchronize</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.synchronize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.system">
<tt class="descname">system</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.system" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the math software system in which by default all input to
the notebook is evaluated.</p>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;A Test Worksheet&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>
<span class="go">&#39;sage&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">set_system</span><span class="p">(</span><span class="s">&#39;mathematica&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">system</span><span class="p">()</span>
<span class="go">&#39;mathematica&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.system_index">
<tt class="descname">system_index</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.system_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the index of the current system into the Notebook&#8217;s
list of systems.  If the current system isn&#8217;t in the list,
then change to the default system.  This can happen if, e.g.,
the list changes, e.g., when changing from a notebook with
Sage installed to running a server from the same directory
without Sage installed.   We might as well support this.</p>
<p>OUTPUT: integer</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.tags">
<tt class="descname">tags</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.tags" title="Permalink to this definition">¶</a></dt>
<dd><p>A temporary trivial tags implementation.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.time_idle">
<tt class="descname">time_idle</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.time_idle" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.time_since_last_edited">
<tt class="descname">time_since_last_edited</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.time_since_last_edited" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.truncated_name">
<tt class="descname">truncated_name</tt><big>(</big><em>max=30</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.truncated_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.uncache_snapshot_data">
<tt class="descname">uncache_snapshot_data</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.uncache_snapshot_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.user_autosave_interval">
<tt class="descname">user_autosave_interval</tt><big>(</big><em>username</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.user_autosave_interval" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.user_can_edit">
<tt class="descname">user_can_edit</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.user_can_edit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the user with given name is allowed to edit this
worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - string</li>
</ul>
<p>OUTPUT: bool</p>
<p>EXAMPLES: We create a notebook with one worksheet and two users.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;william&#39;</span><span class="p">,</span> <span class="s">&#39;william&#39;</span><span class="p">,</span> <span class="s">&#39;wstein@sagemath.org&#39;</span><span class="p">,</span> <span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Test&#39;</span><span class="p">,</span> <span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_can_edit</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>At first the user &#8216;william&#8217; can&#8217;t edit this worksheet:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_can_edit</span><span class="p">(</span><span class="s">&#39;william&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p>After adding &#8216;william&#8217; as a collaborator he can edit the
worksheet.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">add_collaborator</span><span class="p">(</span><span class="s">&#39;william&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_can_edit</span><span class="p">(</span><span class="s">&#39;william&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Clean up:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.user_view">
<tt class="descname">user_view</tt><big>(</big><em>user</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.user_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the view that the given user has of this worksheet. If the
user currently doesn&#8217;t have a view set it to ACTIVE and return
ACTIVE.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - a string</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">Python</span> <span class="pre">int</span></tt> - one of ACTIVE, ARCHIVED, TRASH,
which are defined in worksheet.py</li>
</ul>
<p>EXAMPLES: We create a new worksheet and get the view, which is
ACTIVE:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_view</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">ACTIVE</span>
<span class="go">1</span>
</pre></div>
</div>
<p>Now for the admin user we move W to the archive:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">move_to_archive</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The view is now archive.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_view</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">ARCHIVED</span>
<span class="go">0</span>
</pre></div>
</div>
<p>For any other random viewer the view is set by default to ACTIVE.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_view</span><span class="p">(</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.user_view_is">
<tt class="descname">user_view_is</tt><big>(</big><em>user</em>, <em>x</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.user_view_is" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the user view of user is x.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">user</span></tt> - a string</li>
<li><tt class="docutils literal"><span class="pre">x</span></tt> - int, one of the variables ACTIVE, ARCHIVED,
TRASH in worksheet.py</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_view_is</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">,</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">ARCHIVED</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">user_view_is</span><span class="p">(</span><span class="s">&#39;admin&#39;</span><span class="p">,</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">ACTIVE</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.viewer_names">
<tt class="descname">viewer_names</tt><big>(</big><em>max=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.viewer_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string of the non-owner viewers on this worksheet.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">max</span></tt> - an integer. If this is specified, then
only max number of viewers are shown.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">viewers</span><span class="p">();</span> <span class="n">C</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s">&#39;wstein&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewer_names</span><span class="p">()</span>
<span class="go">&#39;sage, wstein&#39;</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewer_names</span><span class="p">(</span><span class="nb">max</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">&#39;sage, ...&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.viewers">
<tt class="descname">viewers</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.viewers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of viewers of this worksheet.</p>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">list</span></tt> - of string</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">Notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">user_manager</span><span class="p">()</span><span class="o">.</span><span class="n">add_user</span><span class="p">(</span><span class="s">&#39;hilbert&#39;</span><span class="p">,</span><span class="s">&#39;sage&#39;</span><span class="p">,</span><span class="s">&#39;sage@sagemath.org&#39;</span><span class="p">,</span><span class="n">force</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;test1&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">add_viewer</span><span class="p">(</span><span class="s">&#39;hilbert&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewers</span><span class="p">()</span>
<span class="go">[&#39;hilbert&#39;]</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">add_viewer</span><span class="p">(</span><span class="s">&#39;sage&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">viewers</span><span class="p">()</span>
<span class="go">[&#39;hilbert&#39;, &#39;sage&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.warn_about_other_person_editing">
<tt class="descname">warn_about_other_person_editing</tt><big>(</big><em>username</em>, <em>threshold=100</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.warn_about_other_person_editing" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if another user besides username was the last to edit
this worksheet during the last <tt class="docutils literal"><span class="pre">threshold</span></tt> seconds.
If so, return True and that user name. If not, return False.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">username</span></tt> - user who would like to edit this
file.</li>
<li><tt class="docutils literal"><span class="pre">threshold</span></tt> - number of seconds, so if there was
no activity on this worksheet for this many seconds, then editing
is considered safe.</li>
</ul>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.worksheet_command">
<tt class="descname">worksheet_command</tt><big>(</big><em>cmd</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.worksheet_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.worksheet_html_filename">
<tt class="descname">worksheet_html_filename</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.worksheet_html_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return path to the underlying plane text file that defines the
worksheet.</p>
</dd></dl>

<dl class="method">
<dt id="sagenb.notebook.worksheet.Worksheet.worksheet_that_was_published">
<tt class="descname">worksheet_that_was_published</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet.worksheet_that_was_published" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a fresh copy of the worksheet that was published
to get this worksheet, if this worksheet was
published. Otherwise just return this worksheet.</p>
<p>OUTPUT: Worksheet</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">nb</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">load_notebook</span><span class="p">(</span><span class="n">tmp_dir</span><span class="p">(</span><span class="n">ext</span><span class="o">=</span><span class="s">&#39;.sagenb&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">nb</span><span class="o">.</span><span class="n">create_default_users</span><span class="p">(</span><span class="s">&#39;password&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">create_new_worksheet</span><span class="p">(</span><span class="s">&#39;Publish Test&#39;</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">W</span><span class="o">.</span><span class="n">worksheet_that_was_published</span><span class="p">()</span> <span class="ow">is</span> <span class="n">W</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">nb</span><span class="o">.</span><span class="n">publish_worksheet</span><span class="p">(</span><span class="n">W</span><span class="p">,</span> <span class="s">&#39;admin&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">worksheet_that_was_published</span><span class="p">()</span> <span class="ow">is</span> <span class="n">S</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">worksheet_that_was_published</span><span class="p">()</span> <span class="ow">is</span> <span class="n">W</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.Worksheet_from_basic">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">Worksheet_from_basic</tt><big>(</big><em>obj</em>, <em>notebook_worksheet_directory</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.Worksheet_from_basic" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<blockquote>
<div><ul>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">obj</span></tt> &#8211; a dictionary (a basic Python objet) from which a</dt>
<dd><p class="first last">worksheet can be reconstructed.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">notebook_worksheet_directory</span></tt> - string; the directory in</dt>
<dd><p class="first last">which the notebook object that contains this worksheet
stores worksheets, i.e., nb.worksheet_directory().</p>
</dd>
</dl>
</li>
</ul>
</div></blockquote>
<p>OUTPUT:</p>
<blockquote>
<div><ul class="simple">
<li>a worksheet</li>
</ul>
</div></blockquote>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sagenb.notebook.worksheet</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">Worksheet</span><span class="p">(</span><span class="s">&#39;test&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">tmp_dir</span><span class="p">(),</span> <span class="n">system</span><span class="o">=</span><span class="s">&#39;gap&#39;</span><span class="p">,</span> <span class="n">owner</span><span class="o">=</span><span class="s">&#39;sageuser&#39;</span><span class="p">,</span> <span class="n">pretty_print</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">auto_publish</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">=</span><span class="n">W</span><span class="o">.</span><span class="n">new_cell_after</span><span class="p">(</span><span class="mi">0</span><span class="p">);</span> <span class="n">B</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">basic</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W0</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">Worksheet_from_basic</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">tmp_dir</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">W0</span><span class="o">.</span><span class="n">basic</span><span class="p">()</span> <span class="o">==</span> <span class="n">B</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.after_first_word">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">after_first_word</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.after_first_word" title="Permalink to this definition">¶</a></dt>
<dd><p>Return everything after the first whitespace in the string s.
Returns the empty string if there is nothing after the first
whitespace.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">s</span></tt> - string</li>
</ul>
<p>OUTPUT: a string</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sagenb.notebook.worksheet</span> <span class="kn">import</span> <span class="n">after_first_word</span>
<span class="gp">sage: </span><span class="n">after_first_word</span><span class="p">(</span><span class="s">&quot;\</span><span class="si">%g</span><span class="s">ap</span><span class="se">\n</span><span class="s">2+2</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="go">&#39;2+2\n&#39;</span>
<span class="gp">sage: </span><span class="n">after_first_word</span><span class="p">(</span><span class="s">&quot;2+2&quot;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.convert_time_to_string">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">convert_time_to_string</tt><big>(</big><em>t</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.convert_time_to_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts <tt class="docutils literal"><span class="pre">t</span></tt> (in Unix time) to a locale-specific string
describing the time and date.</p>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.dictify">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">dictify</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.dictify" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">s</span></tt> - a string like &#8216;in=5, out=7&#8217;</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">dict</span></tt> - such as &#8216;in&#8217;:5, &#8216;out&#8217;:7</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.extract_first_compute_cell">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">extract_first_compute_cell</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.extract_first_compute_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>INPUT: a block of wiki-like marked up text OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">meta</span></tt> - meta information about the cell (as a
dictionary)</li>
<li><tt class="docutils literal"><span class="pre">input</span></tt> - string, the input text</li>
<li><tt class="docutils literal"><span class="pre">output</span></tt> - string, the output text</li>
<li><tt class="docutils literal"><span class="pre">end</span></tt> - integer, first position after }}} in
text.</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.extract_name">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">extract_name</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.extract_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.extract_system">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">extract_system</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.extract_system" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.extract_text_before_first_compute_cell">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">extract_text_before_first_compute_cell</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.extract_text_before_first_compute_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>OUTPUT: Everything in text up to the first {{{.</p>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.first_word">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">first_word</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.first_word" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns everything before the first whitespace in the string s. If
there is no whitespace, then the entire string s is returned.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sagenb.notebook.worksheet</span> <span class="kn">import</span> <span class="n">first_word</span>
<span class="gp">sage: </span><span class="n">first_word</span><span class="p">(</span><span class="s">&quot;\</span><span class="si">%g</span><span class="s">ap</span><span class="se">\n</span><span class="s">2+2</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">)</span>
<span class="go">&#39;\\%gap&#39;</span>
<span class="gp">sage: </span><span class="n">first_word</span><span class="p">(</span><span class="s">&quot;2+2&quot;</span><span class="p">)</span>
<span class="go">&#39;2+2&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.format_completions_as_html">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">format_completions_as_html</tt><big>(</big><em>cell_id</em>, <em>completions</em>, <em>username=None</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.format_completions_as_html" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns tabular HTML code for a list of introspection completions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">cell_id</span></tt> - an integer or a string; the ID of the ambient cell</li>
<li><tt class="docutils literal"><span class="pre">completions</span></tt> - a nested list of completions in row-major
order</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>a string</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.ignore_prompts_and_output">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">ignore_prompts_and_output</tt><big>(</big><em>aString</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.ignore_prompts_and_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a string s that defines an input block of code, if the first
line begins in <tt class="docutils literal"><span class="pre">sage:</span></tt> (or <tt class="docutils literal"><span class="pre">&gt;&gt;&gt;</span></tt>), strip out all lines that
don&#8217;t begin in either <tt class="docutils literal"><span class="pre">sage:</span></tt> (or <tt class="docutils literal"><span class="pre">&gt;&gt;&gt;</span></tt>) or <tt class="docutils literal"><span class="pre">...</span></tt>, and
remove all <tt class="docutils literal"><span class="pre">sage:</span></tt> (or <tt class="docutils literal"><span class="pre">&gt;&gt;&gt;</span></tt>) and <tt class="docutils literal"><span class="pre">...</span></tt> from the beginning
of the remaining lines.</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">test1</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">__internal_test1</span>
<span class="gp">sage: </span><span class="n">test1</span> <span class="o">==</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">ignore_prompts_and_output</span><span class="p">(</span><span class="n">test1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">test2</span> <span class="o">=</span> <span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">__internal_test2</span>
<span class="gp">sage: </span><span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">ignore_prompts_and_output</span><span class="p">(</span><span class="n">test2</span><span class="p">)</span>
<span class="go">&#39;2 + 2\n&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.next_available_id">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">next_available_id</tt><big>(</big><em>v</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.next_available_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Return smallest nonnegative integer not in v.</p>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.split_search_string_into_keywords">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">split_search_string_into_keywords</tt><big>(</big><em>s</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.split_search_string_into_keywords" title="Permalink to this definition">¶</a></dt>
<dd><p>The point of this function is to allow for searches like this:</p>
<div class="highlight-python"><div class="highlight"><pre>&quot;ws 7&quot; foo bar  Modular  &#39;&quot;the&quot; end&#39;
</pre></div>
</div>
<p>i.e., where search terms can be in quotes and the different quote
types can be mixed.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">s</span></tt> - a string</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">list</span></tt> - a list of strings</li>
</ul>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.update_worksheets">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">update_worksheets</tt><big>(</big><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.update_worksheets" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through and &#8220;update&#8221; all the worksheets.  This is needed
for things like wall timeouts.</p>
</dd></dl>

<dl class="function">
<dt id="sagenb.notebook.worksheet.worksheet_filename">
<tt class="descclassname">sagenb.notebook.worksheet.</tt><tt class="descname">worksheet_filename</tt><big>(</big><em>name</em>, <em>owner</em><big>)</big><a class="headerlink" href="#sagenb.notebook.worksheet.worksheet_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the relative directory name of this worksheet with given
name and owner.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">name</span></tt> - string, which may have spaces and funny
characters, which are replaced by underscores.</li>
<li><tt class="docutils literal"><span class="pre">owner</span></tt> - string, with no spaces or funny
characters</li>
</ul>
<p>OUTPUT: string</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">worksheet_filename</span><span class="p">(</span><span class="s">&#39;Example worksheet 3&#39;</span><span class="p">,</span> <span class="s">&#39;sage10&#39;</span><span class="p">)</span>
<span class="go">&#39;sage10/Example_worksheet_3&#39;</span>
<span class="gp">sage: </span><span class="n">sagenb</span><span class="o">.</span><span class="n">notebook</span><span class="o">.</span><span class="n">worksheet</span><span class="o">.</span><span class="n">worksheet_filename</span><span class="p">(</span><span class="s">&#39;Example#%&amp;! work\sheet 3&#39;</span><span class="p">,</span> <span class="s">&#39;sage10&#39;</span><span class="p">)</span>
<span class="go">&#39;sage10/Example_____work_sheet_3&#39;</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="cell.html"
                                  title="previous chapter">A Cell</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="notebook.html"
                                  title="next chapter">The Sage Notebook</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sagenb/notebook/worksheet.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="notebook.html" title="The Sage Notebook"
             >next</a> |</li>
        <li class="right" >
          <a href="cell.html" title="A Cell"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">The Sage Notebook</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>