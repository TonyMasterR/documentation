<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Functional notation &mdash; Sage Reference Manual v7.0: Utilities</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.0: Utilities" href="../../index.html" />
    <link rel="next" title="Random Number States" href="randstate.html" />
    <link rel="prev" title="Default Settings" href="defaults.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="randstate.html" title="Random Number States"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="defaults.html" title="Default Settings"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Utilities</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="functional-notation">
<span id="sage-misc-functional"></span><h1>Functional notation<a class="headerlink" href="#functional-notation" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.misc.functional"></span><p>These are functions so that you can write foo(x) instead of x.foo()
in certain common cases.</p>
<p>AUTHORS:</p>
<ul class="simple">
<li>William Stein: Initial version</li>
<li>David Joyner (2005-12-20): More Examples</li>
</ul>
<dl class="function">
<dt id="sage.misc.functional.N">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">N</tt><big>(</big><em>x</em>, <em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class="headerlink" href="#sage.misc.functional.N" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a numerical approximation of an object <tt class="docutils literal"><span class="pre">x</span></tt> with at
least <tt class="docutils literal"><span class="pre">prec</span></tt> bits (or decimal <tt class="docutils literal"><span class="pre">digits</span></tt>) of precision.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Both upper case <tt class="docutils literal"><span class="pre">N</span></tt> and lower case <tt class="docutils literal"><span class="pre">n</span></tt> are aliases for
<a class="reference internal" href="#sage.misc.functional.numerical_approx" title="sage.misc.functional.numerical_approx"><tt class="xref py py-func docutils literal"><span class="pre">numerical_approx()</span></tt></a>, and all three may be used as
methods.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x</span></tt> - an object that has a numerical_approx
method, or can be coerced into a real or complex field</li>
<li><tt class="docutils literal"><span class="pre">prec</span></tt> (optional) - an integer (bits of
precision)</li>
<li><tt class="docutils literal"><span class="pre">digits</span></tt> (optional) - an integer (digits of
precision)</li>
<li><tt class="docutils literal"><span class="pre">algorithm</span></tt> (optional) - a string specifying
the algorithm to use for functions that implement
more than one</li>
</ul>
<p>If neither the <tt class="docutils literal"><span class="pre">prec</span></tt> or <tt class="docutils literal"><span class="pre">digits</span></tt> are specified,
the default is 53 bits of precision.  If both are
specified, then <tt class="docutils literal"><span class="pre">prec</span></tt> is used.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">3.1</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">3.141592654</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">12.587886229548403854</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="go">12.587886229548403854194778471228813633070946500941</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">CC</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">ComplexField</span><span class="p">(</span><span class="mi">40</span><span class="p">)(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="ow">is</span> <span class="n">parent</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">9.00000000000000</span>
</pre></div>
</div>
<p>You can also usually use method notation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">N</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
</pre></div>
</div>
<p>Vectors and matrices may also have their entries approximated.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">(1.00000000000000, 2.00000000000000, 3.00000000000000)</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">CDF</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">(1.00000000000000, 2.00000000000000, 3.00000000000000)</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Complex Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">(1.0000, 2.0000, 3.0000)</span>

<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="go">(0.5000, 0.3333, 0.2500)</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">(0.50000, 0.33333, 0.25000)</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">],</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">u</span>
<span class="go">(0.5000, 0.0000, 0.0000, 0.3333, 0.0000, 0.0000, 0.0000, 0.2500)</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">[0.000000000000000  1.00000000000000  2.00000000000000]</span>
<span class="go">[ 3.00000000000000  4.00000000000000  5.00000000000000]</span>

<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">srange</span><span class="p">(</span><span class="mi">24</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[0.00  1.0  2.0  3.0  4.0  5.0  6.0  7.0]</span>
<span class="go">[ 8.0  9.0  10.  11. 0.00  1.0  2.0  3.0]</span>
<span class="go">[ 4.0  5.0  6.0  7.0  8.0  9.0  10.  11.]</span>
</pre></div>
</div>
<p>Internally, numerical approximations of real numbers are stored in base-2.
Therefore, numbers which look the same in their decimal expansion might be
different:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span><span class="o">=</span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">x</span>
<span class="go">3.14</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">N</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">y</span>
<span class="go">3.14</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">==</span><span class="n">y</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;11.001001000100&#39;</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;11.001000111101&#39;</span>
</pre></div>
</div>
<p>Increasing the precision of a floating point number is not allowed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">CC</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 100 bits, use at most 53 bits</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="mf">1.3</span><span class="n">r</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 70 bits, use at most 53 bits</span>
<span class="gp">sage: </span><span class="n">RealField</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">pi</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 53 bits, use at most 24 bits</span>
</pre></div>
</div>
<p>As an exceptional case, <tt class="docutils literal"><span class="pre">digits=1</span></tt> usually leads to 2 digits (one
significant) in the decimal output (see <a class="reference external" href="http://trac.sagemath.org/11647">trac ticket #11647</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">3.2</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.1</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">320.</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">310.</span>
</pre></div>
</div>
<p>In the following example, <tt class="docutils literal"><span class="pre">pi</span></tt> and <tt class="docutils literal"><span class="pre">3</span></tt> are both approximated to two
bits of precision and then subtracted, which kills two bits of precision:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.00</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">1.00000000000000*I</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.&lt;</span><span class="n">k</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="n">CC</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="go">1.41421356237309*I</span>

<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">&lt;type &#39;sage.rings.complex_number.ComplexNumber&#39;&gt;</span>
</pre></div>
</div>
<p>The following tests <a class="reference external" href="http://trac.sagemath.org/10761">trac ticket #10761</a>, in which <tt class="docutils literal"><span class="pre">n()</span></tt> would break when
called on complex-valued algebraic numbers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">13</span><span class="p">])</span><span class="o">.</span><span class="n">eigenvalues</span><span class="p">();</span> <span class="n">E</span>
<span class="go">[18.16815365088822?, -0.08407682544410650? - 0.2190261484802906?*I, -0.08407682544410650? + 0.2190261484802906?*I]</span>
<span class="gp">sage: </span><span class="n">E</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Algebraic Field</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">n</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">E</span><span class="p">]</span>
<span class="go">[18.1681536508882, -0.0840768254441065 - 0.219026148480291*I, -0.0840768254441065 + 0.219026148480291*I]</span>
</pre></div>
</div>
<p>Make sure we&#8217;ve rounded up log(10,2) enough to guarantee
sufficient precision (<a class="reference external" href="http://trac.sagemath.org/10164">trac ticket #10164</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">ks</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span>
<span class="gp">sage: </span><span class="n">check_str_length</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">10</span><span class="o">**-</span><span class="n">k</span><span class="p">,</span><span class="n">digits</span><span class="o">=</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">check_precision</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">numerical_approx</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">10</span><span class="o">**-</span><span class="n">k</span><span class="p">,</span><span class="n">digits</span><span class="o">=</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">check_str_length</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="ow">and</span> <span class="n">check_precision</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ks</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Testing we have sufficient precision for the golden ratio (<a class="reference external" href="http://trac.sagemath.org/12163">trac ticket #12163</a>), note
that the decimal point adds 1 to the string length:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5000</span><span class="p">)))</span>
<span class="go">5001</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5000000</span><span class="p">)))</span>  <span class="c"># long time (4s on sage.math, 2012)</span>
<span class="go">5000001</span>
</pre></div>
</div>
<p>Check that <a class="reference external" href="http://trac.sagemath.org/14778">trac ticket #14778</a> is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">0.000000000000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.additive_order">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">additive_order</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.additive_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the additive order of <span class="math">\(x\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">additive_order</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">+Infinity</span>
<span class="gp">sage: </span><span class="n">additive_order</span><span class="p">(</span><span class="n">Mod</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span>
<span class="go">11</span>
<span class="gp">sage: </span><span class="n">additive_order</span><span class="p">(</span><span class="n">Mod</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.base_field">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">base_field</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.base_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the base field over which x is defined.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">base_ring</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">Finite Field of size 7</span>
<span class="gp">sage: </span><span class="n">base_field</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">Finite Field of size 7</span>
</pre></div>
</div>
<p>This catches base rings which are fields as well, but does
not implement a <tt class="docutils literal"><span class="pre">base_field</span></tt> method for objects which do
not have one:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.</span><span class="n">base_field</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">AttributeError</span>: <span class="n">&#39;PolynomialRing_dense_mod_p_with_category&#39; object has no attribute &#39;base_field&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.base_ring">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">base_ring</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.base_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the base ring over which x is defined.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">base_ring</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">Finite Field of size 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.basis">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">basis</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.basis" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fixed basis of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">basis</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<span class="go">[</span>
<span class="go">(1, 0, -1),</span>
<span class="go">(0, 1, 1/2)</span>
<span class="go">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.category">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">category</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.category" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the category of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">category</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="go">Category of finite dimensional vector spaces with basis over</span>
<span class="go"> (quotient fields and metric spaces)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.characteristic_polynomial">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">characteristic_polynomial</tt><big>(</big><em>x</em>, <em>var='x'</em><big>)</big><a class="headerlink" href="#sage.misc.functional.characteristic_polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the characteristic polynomial of x in the given variable.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">charpoly</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">x^3 - 15*x^2 - 18*x</span>
<span class="gp">sage: </span><span class="n">charpoly</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">t^3 - 15*t^2 - 18*t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">k</span><span class="o">.&lt;</span><span class="n">alpha</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="o">^</span><span class="mi">10</span><span class="p">);</span> <span class="n">k</span>
<span class="go">Finite Field in alpha of size 7^10</span>
<span class="gp">sage: </span><span class="n">alpha</span><span class="o">.</span><span class="n">charpoly</span><span class="p">(</span><span class="s">&#39;T&#39;</span><span class="p">)</span>
<span class="go">T^10 + T^6 + T^5 + 4*T^4 + T^3 + 2*T^2 + 3*T + 3</span>
<span class="gp">sage: </span><span class="n">characteristic_polynomial</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="s">&#39;T&#39;</span><span class="p">)</span>
<span class="go">T^10 + T^6 + T^5 + 4*T^4 + T^3 + 2*T^2 + 3*T + 3</span>
</pre></div>
</div>
<p>Ensure the variable name of the polynomial does not conflict with
variables used within the matrix, and that non-integral powers of
variables don&#8217;t confuse the computation (<a class="reference external" href="http://trac.sagemath.org/14403">trac ticket #14403</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">characteristic_polynomial</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[x, -3*x - 1, 3*x + 3, -x - 3, 1]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="n">y</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">charpoly</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[sqrt(y), -3*sqrt(y) - 1, 3*sqrt(y) + 3, -sqrt(y) - 3, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.charpoly">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">charpoly</tt><big>(</big><em>x</em>, <em>var='x'</em><big>)</big><a class="headerlink" href="#sage.misc.functional.charpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the characteristic polynomial of x in the given variable.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">charpoly</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">x^3 - 15*x^2 - 18*x</span>
<span class="gp">sage: </span><span class="n">charpoly</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">t^3 - 15*t^2 - 18*t</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">k</span><span class="o">.&lt;</span><span class="n">alpha</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="o">^</span><span class="mi">10</span><span class="p">);</span> <span class="n">k</span>
<span class="go">Finite Field in alpha of size 7^10</span>
<span class="gp">sage: </span><span class="n">alpha</span><span class="o">.</span><span class="n">charpoly</span><span class="p">(</span><span class="s">&#39;T&#39;</span><span class="p">)</span>
<span class="go">T^10 + T^6 + T^5 + 4*T^4 + T^3 + 2*T^2 + 3*T + 3</span>
<span class="gp">sage: </span><span class="n">characteristic_polynomial</span><span class="p">(</span><span class="n">alpha</span><span class="p">,</span> <span class="s">&#39;T&#39;</span><span class="p">)</span>
<span class="go">T^10 + T^6 + T^5 + 4*T^4 + T^3 + 2*T^2 + 3*T + 3</span>
</pre></div>
</div>
<p>Ensure the variable name of the polynomial does not conflict with
variables used within the matrix, and that non-integral powers of
variables don&#8217;t confuse the computation (<a class="reference external" href="http://trac.sagemath.org/14403">trac ticket #14403</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="n">x</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">characteristic_polynomial</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[x, -3*x - 1, 3*x + 3, -x - 3, 1]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="n">y</span><span class="o">^</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">),</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">charpoly</span><span class="p">(</span><span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">list</span><span class="p">()</span>
<span class="go">[sqrt(y), -3*sqrt(y) - 1, 3*sqrt(y) + 3, -sqrt(y) - 3, 1]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.coerce">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">coerce</tt><big>(</big><em>P</em>, <em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.coerce" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to coerce x to type P if possible.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.rings.integer.Integer&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="nb">coerce</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="go">&lt;type &#39;sage.rings.rational.Rational&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.cyclotomic_polynomial">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">cyclotomic_polynomial</tt><big>(</big><em>n</em>, <em>var='x'</em><big>)</big><a class="headerlink" href="#sage.misc.functional.cyclotomic_polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <span class="math">\(n^{th}\)</span> cyclotomic polynomial.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">cyclotomic_polynomial</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">x^2 + x + 1</span>
<span class="gp">sage: </span><span class="n">cyclotomic_polynomial</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">x^2 + 1</span>
<span class="gp">sage: </span><span class="n">cyclotomic_polynomial</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">x^6 + x^3 + 1</span>
<span class="gp">sage: </span><span class="n">cyclotomic_polynomial</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">x^4 - x^3 + x^2 - x + 1</span>
<span class="gp">sage: </span><span class="n">cyclotomic_polynomial</span><span class="p">(</span><span class="mi">11</span><span class="p">)</span>
<span class="go">x^10 + x^9 + x^8 + x^7 + x^6 + x^5 + x^4 + x^3 + x^2 + x + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.decomposition">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">decomposition</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.decomposition" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the decomposition of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">([[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">decomposition</span><span class="p">()</span>
<span class="go">[</span>
<span class="go">(Ambient free module of rank 2 over the principal ideal domain Integer Ring, True)</span>
<span class="go">]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">G</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">DirichletGroup</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">c</span><span class="o">.</span><span class="n">decomposition</span><span class="p">();</span> <span class="n">d</span>
<span class="go">[Dirichlet character modulo 4 of conductor 4 mapping 3 |--&gt; -1,</span>
<span class="go">Dirichlet character modulo 5 of conductor 5 mapping 2 |--&gt; zeta4]</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Group of Dirichlet characters of modulus 4 over Cyclotomic Field of order 4 and degree 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.denominator">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">denominator</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.denominator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the denominator of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">denominator</span><span class="p">(</span><span class="mi">17</span><span class="o">/</span><span class="mi">11111</span><span class="p">)</span>
<span class="go">11111</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FractionField</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">denominator</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">x - 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.det">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">det</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.det" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the determinant of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">det</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.dim">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">dim</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dimension of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">dimension</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.dimension">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">dimension</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.dimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dimension of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">V</span> <span class="o">=</span> <span class="n">VectorSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">V</span><span class="o">.</span><span class="n">subspace</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">dimension</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.disc">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">disc</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.disc" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the discriminant of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">quotient</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">29</span> <span class="o">-</span> <span class="mi">17</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;alpha&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">number_field</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">discriminant</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="go">-15975100446626038280218213241591829458737190477345113376757479850566957249523</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.discriminant">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">discriminant</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.discriminant" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the discriminant of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">quotient</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">29</span> <span class="o">-</span> <span class="mi">17</span><span class="o">*</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="s">&#39;alpha&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">S</span><span class="o">.</span><span class="n">number_field</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">discriminant</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
<span class="go">-15975100446626038280218213241591829458737190477345113376757479850566957249523</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.eta">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">eta</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.eta" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of the eta function at <span class="math">\(x\)</span>, which must be
in the upper half plane.</p>
<p>The <span class="math">\(\eta\)</span> function is</p>
<div class="math">
\[\eta(z) = e^{\pi i z / 12} \prod_{n=1}^{\infty}(1-e^{2\pi inz})\]</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">eta</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">I</span><span class="p">)</span>
<span class="go">0.7420487758365647 + 0.1988313702299107*I</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.fcp">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">fcp</tt><big>(</big><em>x</em>, <em>var='x'</em><big>)</big><a class="headerlink" href="#sage.misc.functional.fcp" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the factorization of the characteristic polynomial of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">fcp</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="go">x * (x^2 - 15*x - 18)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.gen">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">gen</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.gen" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the generator of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[];</span> <span class="n">R</span>
<span class="go">Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">gen</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">gen</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">AbelianGroup</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">23</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">gen</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">f</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.gens">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">gens</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the generators of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">SR</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">Multivariate Polynomial Ring in x, y over Symbolic Ring</span>
<span class="gp">sage: </span><span class="n">gens</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">(x, y)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">AbelianGroup</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">gens</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">(f0, f1, f2, f3, f4)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.hecke_operator">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">hecke_operator</tt><big>(</big><em>x</em>, <em>n</em><big>)</big><a class="headerlink" href="#sage.misc.functional.hecke_operator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the n-th Hecke operator T_n acting on x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">ModularSymbols</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">hecke_operator</span><span class="p">(</span><span class="n">M</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Hecke operator T_5 on Modular Symbols space of dimension 3 for Gamma_0(1) of weight 12 with sign 0 over Rational Field</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.image">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">image</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the image of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">image</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 2 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1  0 -1]</span>
<span class="go">[ 0  1  2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.integral">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">integral</tt><big>(</big><em>x</em>, <em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.misc.functional.integral" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an indefinite or definite integral of an object x.</p>
<p>First call x.integral() and if that fails make an object and
integrate it using Maxima, maple, etc, as specified by algorithm.</p>
<p>For symbolic expression calls
<tt class="xref py py-func docutils literal"><span class="pre">sage.calculus.calculus.integral()</span></tt> - see this function for
available options.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">cyclotomic_polynomial</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">1/5*x^5 - 1/4*x^4 + 1/3*x^3 - 1/2*x^2 + x</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">x</span><span class="p">)</span>
<span class="go">-cos(x)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">y</span><span class="p">)</span>
<span class="go">y*sin(x)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">))</span>
<span class="go">e^(-1)</span>
</pre></div>
</div>
<p>Numerical approximation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">integral</span><span class="p">(</span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">));</span> <span class="n">h</span>
<span class="go">integrate(tan(x)/x, x, 1, 1/3*pi)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">0.07571599101...</span>
</pre></div>
</div>
<p>Specific algorithm can be used for integration:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;maxima&#39;</span><span class="p">)</span>
<span class="go">1/2*x - 1/4*sin(2*x)</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;sympy&#39;</span><span class="p">)</span>
<span class="go">-1/2*cos(x)*sin(x) + 1/2*x</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>A symbolic integral from <a class="reference external" href="http://trac.sagemath.org/11445">trac ticket #11445</a> that was incorrect in
earlier versions of Maxima:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">Infinity</span><span class="p">,</span> <span class="n">Infinity</span><span class="p">))</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Another symbolic integral, from <a class="reference external" href="http://trac.sagemath.org/11238">trac ticket #11238</a>, that used to return
zero incorrectly; with Maxima 5.26.0 one gets
<tt class="docutils literal"><span class="pre">1/2*sqrt(pi)*e^(1/4)</span></tt>, whereas with 5.29.1, and even more so
with 5.33.0, the expression is less pleasant, but still has the
same value.  Unfortunately, the computation takes a very long time
with the default settings, so we temporarily use the Maxima
setting <tt class="docutils literal"><span class="pre">domain:</span> <span class="pre">real</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">maxima</span><span class="p">(</span><span class="s">&#39;domain: real&#39;</span><span class="p">)</span>
<span class="go">real</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">sinh</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Infinity</span><span class="p">);</span> <span class="n">t</span>            <span class="c"># long time</span>
<span class="go">1/4*sqrt(pi)*(erf(1) - 1)*e^(1/4) - 1/4*(sqrt(pi)*(erf(1) - 1) - sqrt(pi) + 2*e^(-1) - 2)*e^(1/4) + 1/4*sqrt(pi)*e^(1/4) - 1/2*e^(1/4) + 1/2*e^(-3/4)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>  <span class="c"># long time</span>
<span class="go">1/2*sqrt(pi)*e^(1/4)</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">maxima</span><span class="p">(</span><span class="s">&#39;domain: complex&#39;</span><span class="p">)</span>
<span class="go">complex</span>
</pre></div>
</div>
<p>An integral which used to return -1 before maxima 5.28. See <a class="reference external" href="http://trac.sagemath.org/12842">trac ticket #12842</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">infinity</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>This integral would cause a stack overflow in earlier versions of
Maxima, crashing sage. See <a class="reference external" href="http://trac.sagemath.org/12377">trac ticket #12377</a>. We don&#8217;t care about the
result here, just that the computation completes successfully:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">integrate</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.integral_closure">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">integral_closure</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.integral_closure" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the integral closure of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">integral_closure</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QuadraticField</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">O2</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">);</span> <span class="n">O2</span>
<span class="go">Order in Number Field in a with defining polynomial x^2 - 5</span>
<span class="gp">sage: </span><span class="n">integral_closure</span><span class="p">(</span><span class="n">O2</span><span class="p">)</span>
<span class="go">Maximal Order in Number Field in a with defining polynomial x^2 - 5</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.integrate">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">integrate</tt><big>(</big><em>x</em>, <em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.misc.functional.integrate" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an indefinite or definite integral of an object x.</p>
<p>First call x.integral() and if that fails make an object and
integrate it using Maxima, maple, etc, as specified by algorithm.</p>
<p>For symbolic expression calls
<tt class="xref py py-func docutils literal"><span class="pre">sage.calculus.calculus.integral()</span></tt> - see this function for
available options.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">cyclotomic_polynomial</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
<span class="go">1/5*x^5 - 1/4*x^4 + 1/3*x^3 - 1/2*x^2 + x</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">x</span><span class="p">)</span>
<span class="go">-cos(x)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span><span class="n">y</span><span class="p">)</span>
<span class="go">y*sin(x)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">integral</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span><span class="n">pi</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">))</span>
<span class="go">e^(-1)</span>
</pre></div>
</div>
<p>Numerical approximation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">integral</span><span class="p">(</span><span class="n">tan</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">x</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">pi</span><span class="o">/</span><span class="mi">3</span><span class="p">));</span> <span class="n">h</span>
<span class="go">integrate(tan(x)/x, x, 1, 1/3*pi)</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">0.07571599101...</span>
</pre></div>
</div>
<p>Specific algorithm can be used for integration:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;maxima&#39;</span><span class="p">)</span>
<span class="go">1/2*x - 1/4*sin(2*x)</span>
<span class="gp">sage: </span><span class="n">integral</span><span class="p">(</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;sympy&#39;</span><span class="p">)</span>
<span class="go">-1/2*cos(x)*sin(x) + 1/2*x</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>A symbolic integral from <a class="reference external" href="http://trac.sagemath.org/11445">trac ticket #11445</a> that was incorrect in
earlier versions of Maxima:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">abs</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="mi">2</span><span class="o">*</span><span class="nb">abs</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="n">Infinity</span><span class="p">,</span> <span class="n">Infinity</span><span class="p">))</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Another symbolic integral, from <a class="reference external" href="http://trac.sagemath.org/11238">trac ticket #11238</a>, that used to return
zero incorrectly; with Maxima 5.26.0 one gets
<tt class="docutils literal"><span class="pre">1/2*sqrt(pi)*e^(1/4)</span></tt>, whereas with 5.29.1, and even more so
with 5.33.0, the expression is less pleasant, but still has the
same value.  Unfortunately, the computation takes a very long time
with the default settings, so we temporarily use the Maxima
setting <tt class="docutils literal"><span class="pre">domain:</span> <span class="pre">real</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">maxima</span><span class="p">(</span><span class="s">&#39;domain: real&#39;</span><span class="p">)</span>
<span class="go">real</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="o">-</span><span class="n">x</span><span class="p">)</span> <span class="o">*</span> <span class="n">sinh</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Infinity</span><span class="p">);</span> <span class="n">t</span>            <span class="c"># long time</span>
<span class="go">1/4*sqrt(pi)*(erf(1) - 1)*e^(1/4) - 1/4*(sqrt(pi)*(erf(1) - 1) - sqrt(pi) + 2*e^(-1) - 2)*e^(1/4) + 1/4*sqrt(pi)*e^(1/4) - 1/2*e^(1/4) + 1/2*e^(-3/4)</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">canonicalize_radical</span><span class="p">()</span>  <span class="c"># long time</span>
<span class="go">1/2*sqrt(pi)*e^(1/4)</span>
<span class="gp">sage: </span><span class="n">sage</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">calculus</span><span class="o">.</span><span class="n">maxima</span><span class="p">(</span><span class="s">&#39;domain: complex&#39;</span><span class="p">)</span>
<span class="go">complex</span>
</pre></div>
</div>
<p>An integral which used to return -1 before maxima 5.28. See <a class="reference external" href="http://trac.sagemath.org/12842">trac ticket #12842</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">)</span><span class="o">/</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="n">e</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">x</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">integrate</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">infinity</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
<p>This integral would cause a stack overflow in earlier versions of
Maxima, crashing sage. See <a class="reference external" href="http://trac.sagemath.org/12377">trac ticket #12377</a>. We don&#8217;t care about the
result here, just that the computation completes successfully:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">*</span><span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span><span class="mi">1</span> <span class="o">+</span> <span class="n">exp</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">integrate</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="o">-</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.interval">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">interval</tt><big>(</big><em>a</em>, <em>b</em><big>)</big><a class="headerlink" href="#sage.misc.functional.interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Integers between a and b <em>inclusive</em> (a and b integers).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">I</span> <span class="o">=</span> <span class="n">interval</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="mi">2</span> <span class="ow">in</span> <span class="n">I</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="ow">in</span> <span class="n">I</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="mi">4</span> <span class="ow">in</span> <span class="n">I</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.is_commutative">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">is_commutative</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.is_commutative" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not x is commutative.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_commutative</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.is_even">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">is_even</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.is_even" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not an integer x is even, e.g., divisible by 2.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">is_even</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">is_even</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_even</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.is_field">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">is_field</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.is_field" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not x is a field.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FractionField</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_field</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.is_integrally_closed">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">is_integrally_closed</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.is_integrally_closed" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether x is integrally closed.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">is_integrally_closed</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">189</span><span class="o">*</span><span class="n">x</span> <span class="o">+</span> <span class="mi">394</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">order</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_integrally_closed</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.is_odd">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">is_odd</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.is_odd" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns whether or not x is odd. This is by definition the
complement of is_even.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">is_odd</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">is_odd</span><span class="p">(</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_odd</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">is_odd</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.isqrt">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">isqrt</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.isqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an integer square root, i.e., the floor of a square root.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">isqrt</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">isqrt</span><span class="p">(</span><span class="mi">10</span><span class="n">r</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.kernel">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">kernel</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the left kernel of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">kernel</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">Vector space of degree 3 and dimension 1 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[ 1 -2  1]</span>
<span class="gp">sage: </span><span class="n">kernel</span><span class="p">(</span><span class="n">A</span><span class="o">.</span><span class="n">transpose</span><span class="p">())</span>
<span class="go">Vector space of degree 2 and dimension 0 over Rational Field</span>
<span class="go">Basis matrix:</span>
<span class="go">[]</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Here are two corner cases:</dt>
<dd>sage: M=MatrixSpace(QQ,0,3)
sage: A=M([])
sage: kernel(A)
Vector space of degree 0 and dimension 0 over Rational Field
Basis matrix:
[]
sage: kernel(A.transpose()).basis()
[
(1, 0, 0),
(0, 1, 0),
(0, 0, 1)
]</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.krull_dimension">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">krull_dimension</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.krull_dimension" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Krull dimension of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">krull_dimension</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">krull_dimension</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">krull_dimension</span><span class="p">(</span><span class="n">ZZ</span><span class="p">[</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">5</span><span class="p">)])</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">3</span><span class="p">);</span> <span class="n">U</span>
<span class="go">Multivariate Polynomial Ring in x, y, z over Integer Ring</span>
<span class="gp">sage: </span><span class="n">U</span><span class="o">.</span><span class="n">krull_dimension</span><span class="p">()</span>
<span class="go">4</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.lift">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">lift</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.lift" title="Permalink to this definition">¶</a></dt>
<dd><p>Lift an object of a quotient ring <span class="math">\(R/I\)</span> to <span class="math">\(R\)</span>.</p>
<p>EXAMPLES: We lift an integer modulo <span class="math">\(3\)</span>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">Mod</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">lift</span><span class="p">()</span>
<span class="go">2</span>
</pre></div>
</div>
<p>We lift an element of a quotient polynomial ring.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">xmod</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">quo</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">lift</span><span class="p">(</span><span class="n">xmod</span><span class="o">-</span><span class="mi">7</span><span class="p">)</span>
<span class="go">x - 7</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.log">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">log</tt><big>(</big><em>x</em>, <em>b=None</em><big>)</big><a class="headerlink" href="#sage.misc.functional.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log of x to the base b. The default base is e.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x</span></tt> - number</li>
<li><tt class="docutils literal"><span class="pre">b</span></tt> - base (default: None, which means natural
log)</li>
</ul>
<p>OUTPUT: number</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In Magma, the order of arguments is reversed from in Sage,
i.e., the base is given first. We use the opposite ordering, so
the base can be viewed as an optional second argument.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="n">e</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="go">4</span>
<span class="gp">sage: </span><span class="n">log</span><span class="p">(</span><span class="mf">3.</span><span class="p">)</span>
<span class="go">1.09861228866811</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.minimal_polynomial">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">minimal_polynomial</tt><big>(</big><em>x</em>, <em>var='x'</em><big>)</big><a class="headerlink" href="#sage.misc.functional.minimal_polynomial" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimal polynomial of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">minpoly</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x^2 - 5*x - 2</span>
<span class="gp">sage: </span><span class="n">minpoly</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">t^2 - 5*t - 2</span>
<span class="gp">sage: </span><span class="n">minimal_polynomial</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x^2 - 5*x - 2</span>
<span class="gp">sage: </span><span class="n">minimal_polynomial</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="s">&#39;theta&#39;</span><span class="p">)</span>
<span class="go">theta^2 - 5*theta - 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.minpoly">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">minpoly</tt><big>(</big><em>x</em>, <em>var='x'</em><big>)</big><a class="headerlink" href="#sage.misc.functional.minpoly" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the minimal polynomial of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="p">[</span><span class="mf">1.</span><span class="o">.</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">minpoly</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x^2 - 5*x - 2</span>
<span class="gp">sage: </span><span class="n">minpoly</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="s">&#39;t&#39;</span><span class="p">)</span>
<span class="go">t^2 - 5*t - 2</span>
<span class="gp">sage: </span><span class="n">minimal_polynomial</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">x^2 - 5*x - 2</span>
<span class="gp">sage: </span><span class="n">minimal_polynomial</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="s">&#39;theta&#39;</span><span class="p">)</span>
<span class="go">theta^2 - 5*theta - 2</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.multiplicative_order">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">multiplicative_order</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.multiplicative_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the multiplicative order of self, if self is a unit, or
raise <tt class="docutils literal"><span class="pre">ArithmeticError</span></tt> otherwise.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">mod</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">11</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">multiplicative_order</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">multiplicative_order</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">11</span><span class="p">))</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">multiplicative_order</span><span class="p">(</span><span class="n">mod</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">12</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ArithmeticError</span>: <span class="n">multiplicative order of 2 not defined since it is not a unit modulo 12</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.n">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">n</tt><big>(</big><em>x</em>, <em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class="headerlink" href="#sage.misc.functional.n" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a numerical approximation of an object <tt class="docutils literal"><span class="pre">x</span></tt> with at
least <tt class="docutils literal"><span class="pre">prec</span></tt> bits (or decimal <tt class="docutils literal"><span class="pre">digits</span></tt>) of precision.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Both upper case <tt class="docutils literal"><span class="pre">N</span></tt> and lower case <tt class="docutils literal"><span class="pre">n</span></tt> are aliases for
<a class="reference internal" href="#sage.misc.functional.numerical_approx" title="sage.misc.functional.numerical_approx"><tt class="xref py py-func docutils literal"><span class="pre">numerical_approx()</span></tt></a>, and all three may be used as
methods.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x</span></tt> - an object that has a numerical_approx
method, or can be coerced into a real or complex field</li>
<li><tt class="docutils literal"><span class="pre">prec</span></tt> (optional) - an integer (bits of
precision)</li>
<li><tt class="docutils literal"><span class="pre">digits</span></tt> (optional) - an integer (digits of
precision)</li>
<li><tt class="docutils literal"><span class="pre">algorithm</span></tt> (optional) - a string specifying
the algorithm to use for functions that implement
more than one</li>
</ul>
<p>If neither the <tt class="docutils literal"><span class="pre">prec</span></tt> or <tt class="docutils literal"><span class="pre">digits</span></tt> are specified,
the default is 53 bits of precision.  If both are
specified, then <tt class="docutils literal"><span class="pre">prec</span></tt> is used.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">3.1</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">3.141592654</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">12.587886229548403854</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="go">12.587886229548403854194778471228813633070946500941</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">CC</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">ComplexField</span><span class="p">(</span><span class="mi">40</span><span class="p">)(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="ow">is</span> <span class="n">parent</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">9.00000000000000</span>
</pre></div>
</div>
<p>You can also usually use method notation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">N</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
</pre></div>
</div>
<p>Vectors and matrices may also have their entries approximated.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">(1.00000000000000, 2.00000000000000, 3.00000000000000)</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">CDF</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">(1.00000000000000, 2.00000000000000, 3.00000000000000)</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Complex Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">(1.0000, 2.0000, 3.0000)</span>

<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="go">(0.5000, 0.3333, 0.2500)</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">(0.50000, 0.33333, 0.25000)</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">],</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">u</span>
<span class="go">(0.5000, 0.0000, 0.0000, 0.3333, 0.0000, 0.0000, 0.0000, 0.2500)</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">[0.000000000000000  1.00000000000000  2.00000000000000]</span>
<span class="go">[ 3.00000000000000  4.00000000000000  5.00000000000000]</span>

<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">srange</span><span class="p">(</span><span class="mi">24</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[0.00  1.0  2.0  3.0  4.0  5.0  6.0  7.0]</span>
<span class="go">[ 8.0  9.0  10.  11. 0.00  1.0  2.0  3.0]</span>
<span class="go">[ 4.0  5.0  6.0  7.0  8.0  9.0  10.  11.]</span>
</pre></div>
</div>
<p>Internally, numerical approximations of real numbers are stored in base-2.
Therefore, numbers which look the same in their decimal expansion might be
different:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span><span class="o">=</span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">x</span>
<span class="go">3.14</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">N</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">y</span>
<span class="go">3.14</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">==</span><span class="n">y</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;11.001001000100&#39;</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;11.001000111101&#39;</span>
</pre></div>
</div>
<p>Increasing the precision of a floating point number is not allowed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">CC</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 100 bits, use at most 53 bits</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="mf">1.3</span><span class="n">r</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 70 bits, use at most 53 bits</span>
<span class="gp">sage: </span><span class="n">RealField</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">pi</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 53 bits, use at most 24 bits</span>
</pre></div>
</div>
<p>As an exceptional case, <tt class="docutils literal"><span class="pre">digits=1</span></tt> usually leads to 2 digits (one
significant) in the decimal output (see <a class="reference external" href="http://trac.sagemath.org/11647">trac ticket #11647</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">3.2</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.1</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">320.</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">310.</span>
</pre></div>
</div>
<p>In the following example, <tt class="docutils literal"><span class="pre">pi</span></tt> and <tt class="docutils literal"><span class="pre">3</span></tt> are both approximated to two
bits of precision and then subtracted, which kills two bits of precision:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.00</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">1.00000000000000*I</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.&lt;</span><span class="n">k</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="n">CC</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="go">1.41421356237309*I</span>

<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">&lt;type &#39;sage.rings.complex_number.ComplexNumber&#39;&gt;</span>
</pre></div>
</div>
<p>The following tests <a class="reference external" href="http://trac.sagemath.org/10761">trac ticket #10761</a>, in which <tt class="docutils literal"><span class="pre">n()</span></tt> would break when
called on complex-valued algebraic numbers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">13</span><span class="p">])</span><span class="o">.</span><span class="n">eigenvalues</span><span class="p">();</span> <span class="n">E</span>
<span class="go">[18.16815365088822?, -0.08407682544410650? - 0.2190261484802906?*I, -0.08407682544410650? + 0.2190261484802906?*I]</span>
<span class="gp">sage: </span><span class="n">E</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Algebraic Field</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">n</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">E</span><span class="p">]</span>
<span class="go">[18.1681536508882, -0.0840768254441065 - 0.219026148480291*I, -0.0840768254441065 + 0.219026148480291*I]</span>
</pre></div>
</div>
<p>Make sure we&#8217;ve rounded up log(10,2) enough to guarantee
sufficient precision (<a class="reference external" href="http://trac.sagemath.org/10164">trac ticket #10164</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">ks</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span>
<span class="gp">sage: </span><span class="n">check_str_length</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">10</span><span class="o">**-</span><span class="n">k</span><span class="p">,</span><span class="n">digits</span><span class="o">=</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">check_precision</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">numerical_approx</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">10</span><span class="o">**-</span><span class="n">k</span><span class="p">,</span><span class="n">digits</span><span class="o">=</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">check_str_length</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="ow">and</span> <span class="n">check_precision</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ks</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Testing we have sufficient precision for the golden ratio (<a class="reference external" href="http://trac.sagemath.org/12163">trac ticket #12163</a>), note
that the decimal point adds 1 to the string length:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5000</span><span class="p">)))</span>
<span class="go">5001</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5000000</span><span class="p">)))</span>  <span class="c"># long time (4s on sage.math, 2012)</span>
<span class="go">5000001</span>
</pre></div>
</div>
<p>Check that <a class="reference external" href="http://trac.sagemath.org/14778">trac ticket #14778</a> is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">0.000000000000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.ngens">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">ngens</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.ngens" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the number of generators of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">SR</span><span class="p">[];</span> <span class="n">R</span>
<span class="go">Multivariate Polynomial Ring in x, y over Symbolic Ring</span>
<span class="gp">sage: </span><span class="n">ngens</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">AbelianGroup</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">ngens</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">5</span>
<span class="gp">sage: </span><span class="n">ngens</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.norm">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">norm</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.norm" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the norm of <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
<p>For matrices and vectors, this returns the L2-norm. The L2-norm of a
vector <span class="math">\(\textbf{v} = (v_1, v_2, \dots, v_n)\)</span>, also called the Euclidean
norm, is defined as</p>
<div class="math">
\[|\textbf{v}|
=
\sqrt{\sum_{i=1}^n |v_i|^2}\]</div>
<p>where <span class="math">\(|v_i|\)</span> is the complex modulus of <span class="math">\(v_i\)</span>. The Euclidean norm is often
used for determining the distance between two points in two- or
three-dimensional space.</p>
<p>For complex numbers, the function returns the field norm. If
<span class="math">\(c = a + bi\)</span> is a complex number, then the norm of <span class="math">\(c\)</span> is defined as the
product of <span class="math">\(c\)</span> and its complex conjugate</p>
<div class="math">
\[\text{norm}(c)
=
\text{norm}(a + bi)
=
c \cdot \overline{c}
=
a^2 + b^2.\]</div>
<p>The norm of a complex number is different from its absolute value.
The absolute value of a complex number is defined to be the square
root of its norm. A typical use of the complex norm is in the
integral domain <span class="math">\(\ZZ[i]\)</span> of Gaussian integers, where the norm of
each Gaussian integer <span class="math">\(c = a + bi\)</span> is defined as its complex norm.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference external" href="../../../matrices/sage/matrix/matrix2.html#sage.matrix.matrix2.Matrix.norm" title="(in Sage Reference Manual: Matrices and Spaces of Matrices v7.0)"><tt class="xref py py-meth docutils literal"><span class="pre">sage.matrix.matrix2.Matrix.norm()</span></tt></a></li>
<li><a class="reference external" href="../../../modules/sage/modules/free_module_element.html#sage.modules.free_module_element.FreeModuleElement.norm" title="(in Sage Reference Manual: Modules v7.0)"><tt class="xref py py-meth docutils literal"><span class="pre">sage.modules.free_module_element.FreeModuleElement.norm()</span></tt></a></li>
<li><a class="reference external" href="../../../rings_numerical/sage/rings/complex_double.html#sage.rings.complex_double.ComplexDoubleElement.norm" title="(in Sage Reference Manual: Fixed and Arbitrary Precision Numerical Fields v7.0)"><tt class="xref py py-meth docutils literal"><span class="pre">sage.rings.complex_double.ComplexDoubleElement.norm()</span></tt></a></li>
<li><a class="reference external" href="../../../rings_numerical/sage/rings/complex_number.html#sage.rings.complex_number.ComplexNumber.norm" title="(in Sage Reference Manual: Fixed and Arbitrary Precision Numerical Fields v7.0)"><tt class="xref py py-meth docutils literal"><span class="pre">sage.rings.complex_number.ComplexNumber.norm()</span></tt></a></li>
<li><a class="reference external" href="../../../calculus/sage/symbolic/expression.html#sage.symbolic.expression.Expression.norm" title="(in Sage Reference Manual: Symbolic Calculus v7.0)"><tt class="xref py py-meth docutils literal"><span class="pre">sage.symbolic.expression.Expression.norm()</span></tt></a></li>
</ul>
</div>
<p>EXAMPLES:</p>
<p>The norm of vectors:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">I</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">vector</span><span class="p">([</span><span class="n">z</span><span class="p">]))</span>
<span class="go">sqrt(5)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">sqrt(14)</span>
<span class="gp">sage: </span><span class="n">_</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&quot;a b c d&quot;</span><span class="p">,</span> <span class="n">domain</span><span class="o">=</span><span class="s">&#39;real&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">sqrt(a^2 + b^2 + c^2 + d^2)</span>
</pre></div>
</div>
<p>The norm of matrices:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span><span class="o">*</span><span class="n">I</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">matrix</span><span class="p">([[</span><span class="n">z</span><span class="p">]]))</span>
<span class="go">2.23606797749979</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">M</span><span class="p">)</span>  <span class="c"># abs tol 1e-14</span>
<span class="go">10.690331129154467</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">CDF</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
<span class="go">5.0</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="n">z</span><span class="p">))</span>
<span class="go">5.00000000000000</span>
</pre></div>
</div>
<p>The norm of complex numbers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">3</span><span class="o">*</span><span class="n">I</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">z</span><span class="p">)</span>
<span class="go">13</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="o">^</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">randint</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="o">^</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="o">^</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">I</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">norm</span><span class="p">(</span><span class="n">z</span><span class="p">)</span> <span class="o">==</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The complex norm of symbolic expressions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&quot;a, b, c&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">((</span><span class="n">a</span><span class="p">,</span> <span class="s">&#39;real&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="s">&#39;real&#39;</span><span class="p">),</span> <span class="p">(</span><span class="n">c</span><span class="p">,</span> <span class="s">&#39;real&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">z</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="o">*</span><span class="n">I</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">norm</span><span class="p">(</span><span class="n">z</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span> <span class="o">==</span> <span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">norm</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span>
<span class="go">a^2 + 2*a*b + b^2</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">([</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="n">norm</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">simplify</span><span class="p">()</span> <span class="o">==</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">a</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">b</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">c</span><span class="o">^</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.numerator">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">numerator</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.numerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the numerator of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">FractionField</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">r</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">numerator</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="go">x + 1</span>
<span class="gp">sage: </span><span class="n">numerator</span><span class="p">(</span><span class="mi">17</span><span class="o">/</span><span class="mi">11111</span><span class="p">)</span>
<span class="go">17</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.numerical_approx">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">numerical_approx</tt><big>(</big><em>x</em>, <em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class="headerlink" href="#sage.misc.functional.numerical_approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a numerical approximation of an object <tt class="docutils literal"><span class="pre">x</span></tt> with at
least <tt class="docutils literal"><span class="pre">prec</span></tt> bits (or decimal <tt class="docutils literal"><span class="pre">digits</span></tt>) of precision.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Both upper case <tt class="docutils literal"><span class="pre">N</span></tt> and lower case <tt class="docutils literal"><span class="pre">n</span></tt> are aliases for
<a class="reference internal" href="#sage.misc.functional.numerical_approx" title="sage.misc.functional.numerical_approx"><tt class="xref py py-func docutils literal"><span class="pre">numerical_approx()</span></tt></a>, and all three may be used as
methods.</p>
</div>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x</span></tt> - an object that has a numerical_approx
method, or can be coerced into a real or complex field</li>
<li><tt class="docutils literal"><span class="pre">prec</span></tt> (optional) - an integer (bits of
precision)</li>
<li><tt class="docutils literal"><span class="pre">digits</span></tt> (optional) - an integer (digits of
precision)</li>
<li><tt class="docutils literal"><span class="pre">algorithm</span></tt> (optional) - a string specifying
the algorithm to use for functions that implement
more than one</li>
</ul>
<p>If neither the <tt class="docutils literal"><span class="pre">prec</span></tt> or <tt class="docutils literal"><span class="pre">digits</span></tt> are specified,
the default is 53 bits of precision.  If both are
specified, then <tt class="docutils literal"><span class="pre">prec</span></tt> is used.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="go">3.1</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">3.141592654</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">12.587886229548403854</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="go">12.587886229548403854194778471228813633070946500941</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">CC</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">ComplexField</span><span class="p">(</span><span class="mi">40</span><span class="p">)(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">==</span> <span class="n">b</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span> <span class="ow">is</span> <span class="n">parent</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span>
<span class="go">9.00000000000000</span>
</pre></div>
</div>
<p>You can also usually use method notation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">N</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">pi</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">e</span><span class="p">)</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">()</span>
<span class="go">12.5878862295484</span>
</pre></div>
</div>
<p>Vectors and matrices may also have their entries approximated.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">(1.00000000000000, 2.00000000000000, 3.00000000000000)</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">CDF</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">(1.00000000000000, 2.00000000000000, 3.00000000000000)</span>
<span class="gp">sage: </span><span class="n">_</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Vector space of dimension 3 over Complex Field with 53 bits of precision</span>
<span class="gp">sage: </span><span class="n">v</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="go">(1.0000, 2.0000, 3.0000)</span>

<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="go">(0.5000, 0.3333, 0.2500)</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">(0.50000, 0.33333, 0.25000)</span>

<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">4</span><span class="p">],</span> <span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">is_sparse</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">u</span>
<span class="go">(0.5000, 0.0000, 0.0000, 0.3333, 0.0000, 0.0000, 0.0000, 0.2500)</span>

<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="mi">6</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">[0.000000000000000  1.00000000000000  2.00000000000000]</span>
<span class="go">[ 3.00000000000000  4.00000000000000  5.00000000000000]</span>

<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">Integers</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="n">srange</span><span class="p">(</span><span class="mi">24</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[0.00  1.0  2.0  3.0  4.0  5.0  6.0  7.0]</span>
<span class="go">[ 8.0  9.0  10.  11. 0.00  1.0  2.0  3.0]</span>
<span class="go">[ 4.0  5.0  6.0  7.0  8.0  9.0  10.  11.]</span>
</pre></div>
</div>
<p>Internally, numerical approximations of real numbers are stored in base-2.
Therefore, numbers which look the same in their decimal expansion might be
different:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span><span class="o">=</span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">x</span>
<span class="go">3.14</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">=</span><span class="n">N</span><span class="p">(</span><span class="mf">3.14</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">3</span><span class="p">);</span> <span class="n">y</span>
<span class="go">3.14</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">==</span><span class="n">y</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;11.001001000100&#39;</span>
<span class="gp">sage: </span><span class="n">y</span><span class="o">.</span><span class="n">str</span><span class="p">(</span><span class="n">base</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">&#39;11.001000111101&#39;</span>
</pre></div>
</div>
<p>Increasing the precision of a floating point number is not allowed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">CC</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 100 bits, use at most 53 bits</span>
<span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="mf">1.3</span><span class="n">r</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 70 bits, use at most 53 bits</span>
<span class="gp">sage: </span><span class="n">RealField</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span><span class="o">.</span><span class="n">pi</span><span class="p">()</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot approximate to a precision of 53 bits, use at most 24 bits</span>
</pre></div>
</div>
<p>As an exceptional case, <tt class="docutils literal"><span class="pre">digits=1</span></tt> usually leads to 2 digits (one
significant) in the decimal output (see <a class="reference external" href="http://trac.sagemath.org/11647">trac ticket #11647</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">3.2</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.1</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">320.</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">pi</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">310.</span>
</pre></div>
</div>
<p>In the following example, <tt class="docutils literal"><span class="pre">pi</span></tt> and <tt class="docutils literal"><span class="pre">3</span></tt> are both approximated to two
bits of precision and then subtracted, which kills two bits of precision:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">3.0</span>
<span class="gp">sage: </span><span class="n">N</span><span class="p">(</span><span class="n">pi</span> <span class="o">-</span> <span class="mi">3</span><span class="p">,</span> <span class="n">prec</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="go">0.00</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="go">1.00000000000000*I</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">F</span><span class="o">.&lt;</span><span class="n">k</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="n">embedding</span><span class="o">=</span><span class="n">sqrt</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span><span class="o">*</span><span class="n">CC</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
<span class="go">1.41421356237309*I</span>

<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">numerical_approx</span><span class="p">(</span><span class="n">CC</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)))</span>
<span class="go">&lt;type &#39;sage.rings.complex_number.ComplexNumber&#39;&gt;</span>
</pre></div>
</div>
<p>The following tests <a class="reference external" href="http://trac.sagemath.org/10761">trac ticket #10761</a>, in which <tt class="docutils literal"><span class="pre">n()</span></tt> would break when
called on complex-valued algebraic numbers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">13</span><span class="p">])</span><span class="o">.</span><span class="n">eigenvalues</span><span class="p">();</span> <span class="n">E</span>
<span class="go">[18.16815365088822?, -0.08407682544410650? - 0.2190261484802906?*I, -0.08407682544410650? + 0.2190261484802906?*I]</span>
<span class="gp">sage: </span><span class="n">E</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
<span class="go">Algebraic Field</span>
<span class="gp">sage: </span><span class="p">[</span><span class="n">a</span><span class="o">.</span><span class="n">n</span><span class="p">()</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">E</span><span class="p">]</span>
<span class="go">[18.1681536508882, -0.0840768254441065 - 0.219026148480291*I, -0.0840768254441065 + 0.219026148480291*I]</span>
</pre></div>
</div>
<p>Make sure we&#8217;ve rounded up log(10,2) enough to guarantee
sufficient precision (<a class="reference external" href="http://trac.sagemath.org/10164">trac ticket #10164</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">ks</span> <span class="o">=</span> <span class="mi">4</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="o">**</span><span class="mi">6</span>
<span class="gp">sage: </span><span class="n">check_str_length</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">numerical_approx</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">10</span><span class="o">**-</span><span class="n">k</span><span class="p">,</span><span class="n">digits</span><span class="o">=</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)))</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">check_precision</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">k</span><span class="p">:</span> <span class="n">numerical_approx</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">10</span><span class="o">**-</span><span class="n">k</span><span class="p">,</span><span class="n">digits</span><span class="o">=</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">check_str_length</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="ow">and</span> <span class="n">check_precision</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">ks</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Testing we have sufficient precision for the golden ratio (<a class="reference external" href="http://trac.sagemath.org/12163">trac ticket #12163</a>), note
that the decimal point adds 1 to the string length:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5000</span><span class="p">)))</span>
<span class="go">5001</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">(</span><span class="n">golden_ratio</span><span class="p">,</span> <span class="n">digits</span><span class="o">=</span><span class="mi">5000000</span><span class="p">)))</span>  <span class="c"># long time (4s on sage.math, 2012)</span>
<span class="go">5000001</span>
</pre></div>
</div>
<p>Check that <a class="reference external" href="http://trac.sagemath.org/14778">trac ticket #14778</a> is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">n</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">0.000000000000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.objgen">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">objgen</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.objgen" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">objgen</span><span class="p">(</span><span class="n">FractionField</span><span class="p">(</span><span class="n">QQ</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">Fraction Field of Univariate Polynomial Ring in x over Rational Field</span>
<span class="gp">sage: </span><span class="n">x</span>
<span class="go">x</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.objgens">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">objgens</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.objgens" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="p">,</span> <span class="n">x</span> <span class="o">=</span> <span class="n">objgens</span><span class="p">(</span><span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">R</span>
<span class="go">Multivariate Polynomial Ring in x0, x1, x2 over Rational Field</span>
<span class="gp">sage: </span><span class="n">x</span>
<span class="go">(x0, x1, x2)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.one">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">one</tt><big>(</big><em>R</em><big>)</big><a class="headerlink" href="#sage.misc.functional.one" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the one element of the ring R.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">one</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">doctest:...: DeprecationWarning: one(R) is deprecated, use R.one() or R(1) instead</span>
<span class="go">See http://trac.sagemath.org/17158 for details.</span>
<span class="go">1.00000000000000</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">one</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">*</span><span class="n">x</span> <span class="o">==</span> <span class="n">x</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">one</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="ow">in</span> <span class="n">R</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.order">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">order</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the order of x. If x is a ring or module element, this is
the additive order of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">CyclicPermutationGroup</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">order</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">order</span><span class="p">(</span><span class="n">F</span><span class="p">)</span>
<span class="go">7</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.quo">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">quo</tt><big>(</big><em>x</em>, <em>y</em>, <em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.misc.functional.quo" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the quotient object x/y, e.g., a quotient of numbers or of a
polynomial ring x by the ideal generated by y, etc.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">quotient</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="go">5/6</span>
<span class="gp">sage: </span><span class="n">quotient</span><span class="p">(</span><span class="mf">5.</span><span class="p">,</span><span class="mf">6.</span><span class="p">)</span>
<span class="go">0.833333333333333</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[];</span> <span class="n">R</span>
<span class="go">Univariate Polynomial Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">I</span> <span class="o">=</span> <span class="n">Ideal</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">quotient</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">I</span><span class="p">)</span>
<span class="go">Univariate Quotient Polynomial Ring in xbar over Integer Ring with modulus x^2 + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.quotient">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">quotient</tt><big>(</big><em>x</em>, <em>y</em>, <em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.misc.functional.quotient" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the quotient object x/y, e.g., a quotient of numbers or of a
polynomial ring x by the ideal generated by y, etc.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">quotient</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
<span class="go">5/6</span>
<span class="gp">sage: </span><span class="n">quotient</span><span class="p">(</span><span class="mf">5.</span><span class="p">,</span><span class="mf">6.</span><span class="p">)</span>
<span class="go">0.833333333333333</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[];</span> <span class="n">R</span>
<span class="go">Univariate Polynomial Ring in x over Integer Ring</span>
<span class="gp">sage: </span><span class="n">I</span> <span class="o">=</span> <span class="n">Ideal</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">quotient</span><span class="p">(</span><span class="n">R</span><span class="p">,</span> <span class="n">I</span><span class="p">)</span>
<span class="go">Univariate Quotient Polynomial Ring in xbar over Integer Ring with modulus x^2 + 1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.rank">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">rank</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.rank" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the rank of x.</p>
<p>EXAMPLES: We compute the rank of a matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">rank</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>We compute the rank of an elliptic curve:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">E</span> <span class="o">=</span> <span class="n">EllipticCurve</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">rank</span><span class="p">(</span><span class="n">E</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.regulator">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">regulator</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.regulator" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the regulator of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">regulator</span><span class="p">(</span><span class="n">NumberField</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="s">&#39;a&#39;</span><span class="p">))</span>
<span class="go">0.881373587019543</span>
<span class="gp">sage: </span><span class="n">regulator</span><span class="p">(</span><span class="n">EllipticCurve</span><span class="p">(</span><span class="s">&#39;11a&#39;</span><span class="p">))</span>
<span class="go">1.00000000000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.round">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">round</tt><big>(</big><em>x</em>, <em>ndigits=0</em><big>)</big><a class="headerlink" href="#sage.misc.functional.round" title="Permalink to this definition">¶</a></dt>
<dd><p>round(number[, ndigits]) - double-precision real number</p>
<p>Round a number to a given precision in decimal digits (default 0
digits). If no precision is specified this just calls the element&#8217;s
.round() method.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
<span class="go">1.41</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">5</span><span class="p">);</span> <span class="n">q</span>
<span class="go">1.41421</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.rings.real_double.RealDoubleElement&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">q</span> <span class="o">=</span> <span class="nb">round</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span> <span class="n">q</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">q</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.rings.integer.Integer&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="mf">5.4999999999999999</span>
<span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Since we use floating-point with a limited range, some roundings can&#8217;t
be performed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">round</span><span class="p">(</span><span class="n">sqrt</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="s">&#39;1&#39;</span><span class="o">*</span><span class="mi">1000</span><span class="p">)),</span><span class="mi">2</span><span class="p">)</span>
<span class="go">+infinity</span>
</pre></div>
</div>
<p>IMPLEMENTATION: If ndigits is specified, it calls Python&#8217;s builtin
round function, and converts the result to a real double field
element. Otherwise, it tries the argument&#8217;s .round() method; if
that fails, it reverts to the builtin round function, converted to
a real double field element.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is currently slower than the builtin round function, since
it does more work - i.e., allocating an RDF element and
initializing it. To access the builtin version do
<tt class="docutils literal"><span class="pre">import</span> <span class="pre">__builtin__;</span> <span class="pre">__builtin__.round</span></tt>.</p>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.squarefree_part">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">squarefree_part</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.squarefree_part" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the square free part of <span class="math">\(x\)</span>, i.e., a divisor
<span class="math">\(z\)</span> such that <span class="math">\(x = z y^2\)</span>, for a perfect square
<span class="math">\(y^2\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">squarefree_part</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">squarefree_part</span><span class="p">(</span><span class="mi">12</span><span class="p">)</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">squarefree_part</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="n">squarefree_part</span><span class="p">(</span><span class="mi">216</span><span class="n">r</span><span class="p">)</span> <span class="c"># see #8976</span>
<span class="go">6</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="s">&#39;x&#39;</span><span class="p">]</span><span class="o">.</span><span class="mi">0</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">squarefree_part</span><span class="p">(</span><span class="o">-</span><span class="mi">9</span><span class="o">*</span><span class="n">x</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">6</span><span class="p">)</span><span class="o">^</span><span class="mi">7</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">S</span>
<span class="go">-9*x^2 + 54*x</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">(-9) * (x - 6) * x</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">3</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="n">f</span>
<span class="go">x^10 - x^9 + 3*x^8 + 3*x^5 - 2*x^4 - x^3 - 2*x - 1</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">squarefree_part</span><span class="p">(</span><span class="n">f</span><span class="p">);</span> <span class="n">g</span>
<span class="go">x^4 - x^3 + x^2 - 1</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">(x - 1) * (x^3 + x + 1)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.symbolic_sum">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">symbolic_sum</tt><big>(</big><em>expression</em>, <em>*args</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.misc.functional.symbolic_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the symbolic sum <span class="math">\(\sum_{v = a}^b expression\)</span> with respect
to the variable <span class="math">\(v\)</span> with endpoints <span class="math">\(a\)</span> and <span class="math">\(b\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">expression</span></tt> - a symbolic expression</li>
<li><tt class="docutils literal"><span class="pre">v</span></tt> - a variable or variable name</li>
<li><tt class="docutils literal"><span class="pre">a</span></tt> - lower endpoint of the sum</li>
<li><tt class="docutils literal"><span class="pre">b</span></tt> - upper endpoint of the sum</li>
<li><tt class="docutils literal"><span class="pre">algorithm</span></tt> - (default: <tt class="docutils literal"><span class="pre">'maxima'</span></tt>)  one of<ul>
<li><tt class="docutils literal"><span class="pre">'maxima'</span></tt> - use Maxima (the default)</li>
<li><tt class="docutils literal"><span class="pre">'maple'</span></tt> - (optional) use Maple</li>
<li><tt class="docutils literal"><span class="pre">'mathematica'</span></tt> - (optional) use Mathematica</li>
<li><tt class="docutils literal"><span class="pre">'giac'</span></tt> - (optional) use Giac</li>
</ul>
</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">k</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;k,n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span><span class="o">.</span><span class="n">factor</span><span class="p">()</span>
<span class="go">1/2*(n + 1)*n</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="o">^</span><span class="mi">4</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">1/90*pi^4</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">k</span><span class="o">^</span><span class="mi">5</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">zeta(5)</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>This function only works with symbolic expressions. To sum any
other objects like list elements or function return values,
please use python summation, see
<a class="reference external" href="http://docs.python.org/library/functions.html#sum">http://docs.python.org/library/functions.html#sum</a></p>
<p>In particular, this does not work:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;n&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">]</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">[</span><span class="n">n</span><span class="p">],</span><span class="n">n</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">unable to convert n to an integer</span>
</pre></div>
</div>
<p>Use python <tt class="docutils literal"><span class="pre">sum()</span></tt> instead:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="nb">list</span><span class="p">[</span><span class="n">n</span><span class="p">]</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="go">10</span>
</pre></div>
</div>
<p>Also, only a limited number of functions are recognized in symbolic sums:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">valuation</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">n</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">unable to convert n to an integer</span>
</pre></div>
</div>
<p>Again, use python <tt class="docutils literal"><span class="pre">sum()</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">valuation</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>
<span class="go">3</span>
</pre></div>
</div>
<p class="last">(now back to the Sage <tt class="docutils literal"><span class="pre">sum</span></tt> examples)</p>
</div>
<p>A well known binomial identity:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">2^n</span>
</pre></div>
</div>
<p>The binomial theorem:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;x, y&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span> <span class="o">*</span> <span class="n">x</span><span class="o">^</span><span class="n">k</span> <span class="o">*</span> <span class="n">y</span><span class="o">^</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">(x + y)^n</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">k</span> <span class="o">*</span> <span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">2^(n - 1)*n</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">((</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="n">k</span><span class="o">*</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="p">(</span><span class="o">-</span><span class="n">k</span><span class="p">)</span><span class="o">/</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)),</span> <span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">-log(2) + 1</span>
</pre></div>
</div>
<p>Another binomial identity (<a class="reference external" href="http://trac.sagemath.org/7952">trac ticket #7952</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">t</span><span class="p">,</span><span class="n">k</span><span class="p">,</span><span class="n">i</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;t,k,i&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="n">t</span><span class="p">,</span><span class="n">t</span><span class="p">),</span><span class="n">i</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
<span class="go">binomial(k + t + 1, t + 1)</span>
</pre></div>
</div>
<p>Summing a hypergeometric term:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">)</span> <span class="o">*</span> <span class="n">factorial</span><span class="p">(</span><span class="n">k</span><span class="p">)</span> <span class="o">/</span> <span class="n">factorial</span><span class="p">(</span><span class="n">n</span><span class="o">+</span><span class="mi">1</span><span class="o">+</span><span class="n">k</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">1/2*sqrt(pi)/factorial(n + 1/2)</span>
</pre></div>
</div>
<p>We check a well known identity:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">bool</span><span class="p">(</span><span class="nb">sum</span><span class="p">(</span><span class="n">k</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="o">==</span> <span class="nb">sum</span><span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>A geometric sum:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span><span class="p">,</span> <span class="n">q</span> <span class="o">=</span> <span class="n">var</span><span class="p">(</span><span class="s">&#39;a, q&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span>
<span class="go">(a*q^(n + 1) - a)/(q - 1)</span>
</pre></div>
</div>
<p>The geometric series:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="go">-a/(q - 1)</span>
</pre></div>
</div>
<p>A divergent geometric series.  Don&#8217;t forget
to forget your assumptions:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">forget</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">assume</span><span class="p">(</span><span class="n">q</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">a</span><span class="o">*</span><span class="n">q</span><span class="o">^</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">oo</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">Sum is divergent.</span>
</pre></div>
</div>
<p>This summation only Mathematica can perform:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">k</span><span class="o">^</span><span class="mi">2</span><span class="p">),</span> <span class="n">k</span><span class="p">,</span> <span class="o">-</span><span class="n">oo</span><span class="p">,</span> <span class="n">oo</span><span class="p">,</span> <span class="n">algorithm</span> <span class="o">=</span> <span class="s">&#39;mathematica&#39;</span><span class="p">)</span>     <span class="c"># optional - mathematica</span>
<span class="go">pi*coth(pi)</span>
</pre></div>
</div>
<p>Use Maple as a backend for summation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">binomial</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="o">^</span><span class="n">k</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">n</span><span class="p">,</span> <span class="n">algorithm</span> <span class="o">=</span> <span class="s">&#39;maple&#39;</span><span class="p">)</span>      <span class="c"># optional - maple</span>
<span class="go">(x + 1)^n</span>
</pre></div>
</div>
<p>Python ints should work as limits of summation (<a class="reference external" href="http://trac.sagemath.org/9393">trac ticket #9393</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="nb">sum</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="mi">1</span><span class="n">r</span><span class="p">,</span> <span class="mi">5</span><span class="n">r</span><span class="p">)</span>
<span class="go">15</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ol class="last arabic simple">
<li>Sage can currently only understand a subset of the output of Maxima, Maple and
Mathematica, so even if the chosen backend can perform the summation the
result might not be convertable into a Sage expression.</li>
</ol>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.transpose">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">transpose</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.misc.functional.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the transpose of x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixSpace</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">M</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">transpose</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="go">[1 4 7]</span>
<span class="go">[2 5 8]</span>
<span class="go">[3 6 9]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.xinterval">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">xinterval</tt><big>(</big><em>a</em>, <em>b</em><big>)</big><a class="headerlink" href="#sage.misc.functional.xinterval" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over the integers between a and b, <em>inclusive</em>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">I</span> <span class="o">=</span> <span class="n">xinterval</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">);</span> <span class="n">I</span>
<span class="go">xrange(2, 6)</span>
<span class="gp">sage: </span><span class="mi">5</span> <span class="ow">in</span> <span class="n">I</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="mi">6</span> <span class="ow">in</span> <span class="n">I</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.misc.functional.zero">
<tt class="descclassname">sage.misc.functional.</tt><tt class="descname">zero</tt><big>(</big><em>R</em><big>)</big><a class="headerlink" href="#sage.misc.functional.zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the zero element of the ring R.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">zero</span><span class="p">(</span><span class="n">RR</span><span class="p">)</span>
<span class="go">doctest:...: DeprecationWarning: zero(R) is deprecated, use R.zero() or R(0) instead</span>
<span class="go">See http://trac.sagemath.org/17158 for details.</span>
<span class="go">0.000000000000000</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">zero</span><span class="p">(</span><span class="n">R</span><span class="p">)</span> <span class="ow">in</span> <span class="n">R</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">zero</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">*</span><span class="n">x</span> <span class="o">==</span> <span class="n">zero</span><span class="p">(</span><span class="n">R</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="defaults.html"
                                  title="previous chapter">Default Settings</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="randstate.html"
                                  title="next chapter">Random Number States</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/misc/functional.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="randstate.html" title="Random Number States"
             >next</a> |</li>
        <li class="right" >
          <a href="defaults.html" title="Default Settings"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Utilities</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>