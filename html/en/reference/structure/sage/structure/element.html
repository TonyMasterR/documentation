<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Elements &mdash; Sage Reference Manual v6.7: Basic Structures</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.7',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.7: Basic Structures" href="../../index.html" />
    <link rel="next" title="Element Wrapper" href="element_wrapper.html" />
    <link rel="prev" title="Pure python code for abstract base class for objects with generators" href="gens_py.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="element_wrapper.html" title="Element Wrapper"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="gens_py.html" title="Pure python code for abstract base class for objects with generators"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Basic Structures</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="elements">
<span id="sage-structure-element"></span><h1>Elements<a class="headerlink" href="#elements" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.structure.element"></span><p>AUTHORS:</p>
<ul class="simple">
<li>David Harvey (2006-10-16): changed CommutativeAlgebraElement to
derive from CommutativeRingElement instead of AlgebraElement</li>
<li>David Harvey (2006-10-29): implementation and documentation of new
arithmetic architecture</li>
<li>William Stein (2006-11): arithmetic architecture &#8211; pushing it
through to completion.</li>
<li>Gonzalo Tornaria (2007-06): recursive base extend for coercion &#8211;
lots of tests</li>
<li>Robert Bradshaw (2007-2010): arithmetic operators and coercion</li>
<li>Maarten Derickx (2010-07): added architecture for is_square and sqrt</li>
</ul>
<div class="section" id="the-abstract-element-class-hierarchy">
<h2>The Abstract Element Class Hierarchy<a class="headerlink" href="#the-abstract-element-class-hierarchy" title="Permalink to this headline">¶</a></h2>
<p>This is the abstract class hierarchy, i.e., these are all
abstract base classes.</p>
<div class="highlight-python"><div class="highlight"><pre>SageObject
    Element
        ModuleElement
            RingElement
                CommutativeRingElement
                    IntegralDomainElement
                        DedekindDomainElement
                            PrincipalIdealDomainElement
                                EuclideanDomainElement
                    FieldElement
                        FiniteFieldElement
                    CommutativeAlgebraElement
                AlgebraElement   (note -- can&#39;t derive from module, since no multiple inheritance)
                    CommutativeAlgebra ??? (should be removed from element.pxd)
                    Matrix
                InfinityElement
                    PlusInfinityElement
                    MinusInfinityElement
            AdditiveGroupElement
            Vector

        MonoidElement
            MultiplicativeGroupElement
    ElementWithCachedMethod
</pre></div>
</div>
</div>
<div class="section" id="how-to-define-a-new-element-class">
<h2>How to Define a New Element Class<a class="headerlink" href="#how-to-define-a-new-element-class" title="Permalink to this headline">¶</a></h2>
<p>Elements typically define a method <tt class="docutils literal"><span class="pre">_new_c</span></tt>, e.g.,</p>
<div class="highlight-python"><div class="highlight"><pre>cdef _new_c(self, defining data):
    cdef FreeModuleElement_generic_dense x
    x = FreeModuleElement_generic_dense.__new__(FreeModuleElement_generic_dense)
    x._parent = self._parent
    x._entries = v
</pre></div>
</div>
<p>that creates a new sibling very quickly from defining data
with assumed properties.</p>
<p>Sage has a special system in place for handling arithmetic operations
for all Element subclasses. There are various rules that must be
followed by both arithmetic implementers and callers.</p>
<p>A quick summary for the impatient:</p>
<ul class="simple">
<li>To implement addition for any Element class, override <tt class="docutils literal"><span class="pre">def</span> <span class="pre">_add_()</span></tt>.</li>
<li>If you want to add <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">y</span></tt>, whose parents you know are <strong>identical</strong>,
you may call <tt class="docutils literal"><span class="pre">_add_(x,</span> <span class="pre">y)</span></tt>. This will be the fastest way to guarantee
that the correct implementation gets called. Of course you can still
always use <tt class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></tt>.</li>
</ul>
<p>Now in more detail. The aims of this system are to provide (1) an efficient
calling protocol from both Python and Cython, (2) uniform coercion semantics
across Sage, (3) ease of use, (4) readability of code.</p>
<p>We will take addition of RingElements as an example; all other
operators and classes are similar. There are three relevant functions,
with subtly differing names (<tt class="docutils literal"><span class="pre">add</span></tt> vs.  <tt class="docutils literal"><span class="pre">iadd</span></tt>, single vs. double
underscores).</p>
<ul>
<li><p class="first"><strong>def RingElement.__add__</strong></p>
<p>This function is called by Python or Cython when the binary &#8220;+&#8221; operator
is encountered. It <strong>assumes</strong> that at least one of its arguments is a
RingElement; only a really twisted programmer would violate this
condition. It has a fast pathway to deal with the most common case
where the arguments have the same parent. Otherwise, it uses the coercion
module to work out how to make them have the same parent. After any
necessary coercions have been performed, it calls <tt class="docutils literal"><span class="pre">_add_</span></tt> to dispatch to
the correct underlying addition implementation.</p>
<p>Note that although this function is declared as <tt class="docutils literal"><span class="pre">def</span></tt>, it doesn&#8217;t have the
usual overheads associated with Python functions (either for the caller or
for <tt class="docutils literal"><span class="pre">__add__</span></tt> itself). This is because Python has optimised calling
protocols for such special functions.</p>
</li>
<li><p class="first"><strong>def RingElement._add_</strong></p>
<p>This is the function you should override to implement addition in a
subclass of <tt class="docutils literal"><span class="pre">RingElement</span></tt>.</p>
<p>The two arguments to this function are guaranteed to have the <strong>same
parent</strong>. Its return value <strong>must</strong> have the <strong>same parent</strong> as its
arguments.</p>
<p>If you want to add two objects and you know that their parents are
the same object, you are encouraged to call this function directly,
instead of using <tt class="docutils literal"><span class="pre">x</span> <span class="pre">+</span> <span class="pre">y</span></tt>.</p>
<p>When implementing <tt class="docutils literal"><span class="pre">_add_</span></tt> in a Cython extension class, use
<tt class="docutils literal"><span class="pre">cpdef</span> <span class="pre">_add_</span></tt> instead of <tt class="docutils literal"><span class="pre">def</span> <span class="pre">_add_</span></tt>.</p>
</li>
</ul>
<p>For speed, there are also <em>inplace</em> versions of the arithmetic commands.
<strong>Do not</strong> call them directly, they may mutate the object and will be called
when and only when it has been determined that the old object will no longer
be accessible from the calling function after this operation.</p>
<ul>
<li><p class="first"><strong>def RingElement._iadd_</strong></p>
<p>This is the function you should override to implement inplace
addition in a Python subclass of RingElement.</p>
<p>The two arguments to this function are guaranteed to have the <strong>same
parent</strong>. Its return value <strong>must</strong> have the <strong>same parent</strong> as its
arguments.</p>
<p>The default implementation of this function is to call <tt class="docutils literal"><span class="pre">_add_</span></tt>,
so if no one has defined a Python implementation, the correct Cython
implementation will get called.</p>
</li>
</ul>
<dl class="class">
<dt id="sage.structure.element.AdditiveGroupElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">AdditiveGroupElement</tt><a class="headerlink" href="#sage.structure.element.AdditiveGroupElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.ModuleElement</span></tt></a></p>
<p>Generic element of an additive group.</p>
<dl class="method">
<dt id="sage.structure.element.AdditiveGroupElement.order">
<tt class="descname">order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.AdditiveGroupElement.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return additive order of element</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.AlgebraElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">AlgebraElement</tt><a class="headerlink" href="#sage.structure.element.AlgebraElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.RingElement" title="sage.structure.element.RingElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.RingElement</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.CoercionModel">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">CoercionModel</tt><a class="headerlink" href="#sage.structure.element.CoercionModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>Most basic coercion scheme. If it doesn&#8217;t already match, throw an error.</p>
<dl class="method">
<dt id="sage.structure.element.CoercionModel.bin_op">
<tt class="descname">bin_op</tt><big>(</big><em>x</em>, <em>y</em>, <em>op</em><big>)</big><a class="headerlink" href="#sage.structure.element.CoercionModel.bin_op" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.structure.element.CoercionModel.canonical_coercion">
<tt class="descname">canonical_coercion</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#sage.structure.element.CoercionModel.canonical_coercion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.CommutativeAlgebra">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">CommutativeAlgebra</tt><a class="headerlink" href="#sage.structure.element.CommutativeAlgebra" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.AlgebraElement" title="sage.structure.element.AlgebraElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.AlgebraElement</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.CommutativeAlgebraElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">CommutativeAlgebraElement</tt><a class="headerlink" href="#sage.structure.element.CommutativeAlgebraElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.CommutativeRingElement" title="sage.structure.element.CommutativeRingElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.CommutativeRingElement</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.CommutativeRingElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">CommutativeRingElement</tt><a class="headerlink" href="#sage.structure.element.CommutativeRingElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.RingElement" title="sage.structure.element.RingElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.RingElement</span></tt></a></p>
<p>Base class for elements of commutative rings.</p>
<dl class="method">
<dt id="sage.structure.element.CommutativeRingElement.divides">
<tt class="descname">divides</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.divides" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> divides x.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">+</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
<p><a class="reference external" href="http://trac.sagemath.org/5347">trac ticket #5347</a> has been fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span> <span class="o">=</span> <span class="n">Integers</span><span class="p">(</span><span class="mi">128</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">121</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">120</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">120</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">R</span><span class="p">(</span><span class="mi">121</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ZeroDivisionError</span>: <span class="n-Identifier">reduction modulo right not defined.</span>
</pre></div>
</div>
<p>If <tt class="docutils literal"><span class="pre">x</span></tt> has different parent than <tt class="docutils literal"><span class="pre">self</span></tt>, they are first coerced to a
common parent if possible. If this coercion fails, it returns a
TypeError. This fixes <a class="reference external" href="http://trac.sagemath.org/5759">trac ticket #5759</a>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">5</span><span class="p">)(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">2</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError: no common canonical parent for objects with parents</span>: <span class="n-Identifier">&#39;Ring of integers modulo 5&#39; and &#39;Ring of integers modulo 2&#39;</span>
<span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">35</span><span class="p">)(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">7</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Zmod</span><span class="p">(</span><span class="mi">35</span><span class="p">)(</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">Zmod</span><span class="p">(</span><span class="mi">7</span><span class="p">)(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.CommutativeRingElement.inverse_mod">
<tt class="descname">inverse_mod</tt><big>(</big><em>I</em><big>)</big><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.inverse_mod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an inverse of <tt class="docutils literal"><span class="pre">self</span></tt> modulo the ideal <span class="math">\(I\)</span>, if defined,
i.e., if <span class="math">\(I\)</span> and <tt class="docutils literal"><span class="pre">self</span></tt> together generate the unit ideal.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.CommutativeRingElement.is_square">
<tt class="descname">is_square</tt><big>(</big><em>root=False</em><big>)</big><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.is_square" title="Permalink to this definition">¶</a></dt>
<dd><p>Return whether or not the ring element <tt class="docutils literal"><span class="pre">self</span></tt> is a square.</p>
<p>If the optional argument root is <tt class="docutils literal"><span class="pre">True</span></tt>, then also return
the square root (or <tt class="docutils literal"><span class="pre">None</span></tt>, if it is not a square).</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">root</span></tt> - whether or not to also return a square
root (default: <tt class="docutils literal"><span class="pre">False</span></tt>)</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">bool</span></tt> &#8211; whether or not a square</li>
<li><tt class="docutils literal"><span class="pre">object</span></tt> &#8211; (optional) an actual square root if
found, and <tt class="docutils literal"><span class="pre">None</span></tt> otherwise.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">12</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">*</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">is_square</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">is_square</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(False, None)</span>
<span class="gp">sage: </span><span class="n">h</span> <span class="o">=</span> <span class="n">f</span><span class="o">/</span><span class="mi">3</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">is_square</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">h</span><span class="o">.</span><span class="n">is_square</span><span class="p">(</span><span class="n">root</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(True, 2*x^2 + 8*x + 6)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is the is_square implementation for general
commutative ring elements. It&#8217;s implementation is to raise
a NotImplementedError. The function definition is here to
show what functionality is expected and provide a general
framework.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.CommutativeRingElement.mod">
<tt class="descname">mod</tt><big>(</big><em>I</em><big>)</big><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.mod" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a representative for <tt class="docutils literal"><span class="pre">self</span></tt> modulo the ideal I (or the ideal
generated by the elements of I if I is not an ideal.)</p>
<p>EXAMPLE:  Integers
Reduction of 5 modulo an ideal:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">n</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="mi">3</span><span class="o">*</span><span class="n">ZZ</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Reduction of 5 modulo the ideal generated by 3:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">2</span>
</pre></div>
</div>
<p>Reduction of 5 modulo the ideal generated by 15 and 6, which is <span class="math">\((3)\)</span>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">n</span><span class="o">.</span><span class="n">mod</span><span class="p">([</span><span class="mi">15</span><span class="p">,</span><span class="mi">6</span><span class="p">])</span>
<span class="go">2</span>
</pre></div>
</div>
<p>EXAMPLE: Univariate polynomials</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>Reduction for <span class="math">\(\ZZ[x]\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">3</span> <span class="o">+</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="n">x</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">-1</span>
</pre></div>
</div>
<p>When little is implemented about a given ring, then mod may
return simply return <span class="math">\(f\)</span>.</p>
<p>EXAMPLE: Multivariate polynomials
We reduce a polynomial in two variables modulo a polynomial
and an ideal:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="p">)</span>
<span class="go">2*y^2 + 2*y*z + 2*z^2</span>
</pre></div>
</div>
<p>Notice above that <span class="math">\(x\)</span> is eliminated.  In the next example,
both <span class="math">\(y\)</span> and <span class="math">\(z\)</span> are eliminated:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="p">)</span>
<span class="go">3*z^2</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span>
<span class="go">x^4 + 2*x^2*y^2 + y^4 + 2*x^2*z^2 + 2*y^2*z^2 + z^4</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="p">)</span>
<span class="go">9*z^4</span>
</pre></div>
</div>
<p>In this example <span class="math">\(y\)</span> is eliminated:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">z</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">mod</span><span class="p">(</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">3</span><span class="p">,</span> <span class="n">y</span> <span class="o">-</span> <span class="n">z</span><span class="p">)</span> <span class="p">)</span>
<span class="go">x^2 + 2*z^2</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.CommutativeRingElement.sqrt">
<tt class="descname">sqrt</tt><big>(</big><em>extend=True</em>, <em>all=False</em>, <em>name=None</em><big>)</big><a class="headerlink" href="#sage.structure.element.CommutativeRingElement.sqrt" title="Permalink to this definition">¶</a></dt>
<dd><p>It computes the square root.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">extend</span></tt> - Whether to make a ring extension containing a square root if <tt class="docutils literal"><span class="pre">self</span></tt> is not a square (default: <tt class="docutils literal"><span class="pre">True</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">all</span></tt> - Whether to return a list of all square roots or just a square root (default: False)</li>
<li><tt class="docutils literal"><span class="pre">name</span></tt> - Required when <tt class="docutils literal"><span class="pre">extend=True</span></tt> and <tt class="docutils literal"><span class="pre">self</span></tt> is not a square. This will be the name of the generator extension.</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>if <tt class="docutils literal"><span class="pre">all=False</span></tt> it returns a square root. (throws an error if <tt class="docutils literal"><span class="pre">extend=False</span></tt> and <tt class="docutils literal"><span class="pre">self</span></tt> is not a square)</li>
<li>if <tt class="docutils literal"><span class="pre">all=True</span></tt> it returns a list of all the square roots (could be empty if <tt class="docutils literal"><span class="pre">extend=False</span></tt> and <tt class="docutils literal"><span class="pre">self</span></tt> is not a square)</li>
</ul>
<p>ALGORITHM:</p>
<p>It uses <tt class="docutils literal"><span class="pre">is_square(root=true)</span></tt> for the hard part of the work, the rest is just wrapper code.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ZZ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">=</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">4</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="mi">4</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[x - 2, -x + 2]</span>
<span class="gp">sage: </span><span class="n">sqrtx</span><span class="o">=</span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;y&quot;</span><span class="p">);</span> <span class="n">sqrtx</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">sqrtx</span><span class="o">^</span><span class="mi">2</span>
<span class="go">x</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="n">true</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;y&quot;</span><span class="p">)</span>
<span class="go">[y, -y]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">extend</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">Polynomial is not a square. You must specify the name of the square root when using the default extend = True</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">extend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">trying to take square root of non-square x with extend = False</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">x + 3</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[x + 3, -x - 3]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">x^2 - x + 3</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">x</span> <span class="o">+</span> <span class="mi">3</span><span class="p">)</span><span class="o">^</span><span class="mi">6</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">x^6 - 3*x^5 + 12*x^4 - 19*x^3 + 36*x^2 - 27*x + 27</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="p">(</span><span class="n">R</span><span class="o">.</span><span class="n">random_element</span><span class="p">(</span><span class="mi">15</span><span class="p">))</span><span class="o">^</span><span class="mi">2</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span><span class="o">^</span><span class="mi">2</span> <span class="o">==</span> <span class="n">g</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">GF</span><span class="p">(</span><span class="mi">250037</span><span class="p">)[]</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">x/(x + 1)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">9</span> <span class="o">*</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">3*x^2/(x + 1)</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="mi">9</span> <span class="o">*</span> <span class="n">x</span><span class="o">^</span><span class="mi">4</span> <span class="o">/</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">;</span> <span class="n">f</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[3*x^2/(x + 1), 250034*x^2/(x + 1)]</span>

<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">^</span><span class="mi">2</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="go">(2*x + 2)/(2*x - 2)</span>
<span class="gp">sage: </span><span class="n">sqrtx</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;y&quot;</span><span class="p">);</span> <span class="n">sqrtx</span>
<span class="go">y</span>
<span class="gp">sage: </span><span class="n">sqrtx</span><span class="o">^</span><span class="mi">2</span>
<span class="go">1/x</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="nb">all</span><span class="o">=</span><span class="n">true</span><span class="p">,</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;y&quot;</span><span class="p">)</span>
<span class="go">[y, -y]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">extend</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span><span class="nb">all</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">[]</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span><span class="o">.</span><span class="n">sqrt</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError</span>: <span class="n-Identifier">Polynomial is not a square. You must specify the name of the square root when using the default extend = True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">-</span><span class="mi">3</span><span class="p">))</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">extend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ValueError</span>: <span class="n-Identifier">trying to take square root of non-square 1/(x^2 - 3) with extend = False</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.DedekindDomainElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">DedekindDomainElement</tt><a class="headerlink" href="#sage.structure.element.DedekindDomainElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.IntegralDomainElement" title="sage.structure.element.IntegralDomainElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.IntegralDomainElement</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.Element">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">Element</tt><a class="headerlink" href="#sage.structure.element.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="sage_object.html#sage.structure.sage_object.SageObject" title="sage.structure.sage_object.SageObject"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.sage_object.SageObject</span></tt></a></p>
<p>Generic element of a structure. All other types of elements
(RingElement, ModuleElement, etc) derive from this type.</p>
<p>Subtypes must either call <tt class="docutils literal"><span class="pre">__init__()</span></tt> to set <tt class="docutils literal"><span class="pre">_parent</span></tt>, or may
set <tt class="docutils literal"><span class="pre">_parent</span></tt> themselves if that would be more efficient.</p>
<dl class="method">
<dt id="sage.structure.element.Element._cmp_">
<tt class="descname">_cmp_</tt><big>(</big><em>left</em>, <em>right</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element._cmp_" title="Permalink to this definition">¶</a></dt>
<dd><p>Default three-way comparison method which only checks for a
Python class defining <tt class="docutils literal"><span class="pre">__cmp__</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element._richcmp_">
<tt class="descname">_richcmp_</tt><big>(</big><em>left</em>, <em>right</em>, <em>op</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element._richcmp_" title="Permalink to this definition">¶</a></dt>
<dd><p>Default implementation of rich comparisons for elements with
equal parents.</p>
<p>It tries to see if <tt class="docutils literal"><span class="pre">_cmp_</span></tt> is implemented. Otherwise it does a
comparison by id for <tt class="docutils literal"><span class="pre">==</span></tt> and <tt class="docutils literal"><span class="pre">!=</span></tt>. Calling this default method
with <tt class="docutils literal"><span class="pre">&lt;</span></tt>, <tt class="docutils literal"><span class="pre">&lt;=</span></tt>, <tt class="docutils literal"><span class="pre">&gt;</span></tt> or <tt class="docutils literal"><span class="pre">&gt;=</span></tt> will raise a
<tt class="docutils literal"><span class="pre">NotImplementedError</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.parent</span> <span class="kn">import</span> <span class="n">Parent</span>
<span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">Element</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">Parent</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="n">P</span><span class="p">);</span> <span class="n">e2</span> <span class="o">=</span> <span class="n">Element</span><span class="p">(</span><span class="n">P</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e1</span>    <span class="c"># indirect doctest</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">==</span> <span class="n">e2</span>    <span class="c"># indirect doctest</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">e1</span> <span class="o">&lt;</span> <span class="n">e2</span>     <span class="c"># indirect doctest</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">NotImplementedError</span>: <span class="n-Identifier">comparison not implemented for &lt;type &#39;sage.structure.element.Element&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.N">
<tt class="descname">N</tt><big>(</big><em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element.N" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numerical approximation of x with at least prec bits of
precision.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">0.666666666666667</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c"># indirect doctest</span>
<span class="go">3.141592654</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>   <span class="c"># indirect doctest</span>
<span class="go">3.1416</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Check that <a class="reference external" href="http://trac.sagemath.org/14778">trac ticket #14778</a> is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">0.000000000000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.base_extend">
<tt class="descname">base_extend</tt><big>(</big><em>R</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element.base_extend" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.base_ring">
<tt class="descname">base_ring</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.Element.base_ring" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the base ring of this element&#8217;s parent (if that makes sense).</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">QQ</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">base_ring</span><span class="p">()</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.category">
<tt class="descname">category</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.Element.category" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.is_zero">
<tt class="descname">is_zero</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.Element.is_zero" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> equals <tt class="docutils literal"><span class="pre">self.parent()(0)</span></tt>.</p>
<p>The default implementation is to fall back to <tt class="docutils literal"><span class="pre">not</span>
<span class="pre">self.__nonzero__</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Do not re-implement this method in your subclass but
implement <tt class="docutils literal"><span class="pre">__nonzero__</span></tt> instead.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.n">
<tt class="descname">n</tt><big>(</big><em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element.n" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numerical approximation of x with at least prec bits of
precision.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">0.666666666666667</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c"># indirect doctest</span>
<span class="go">3.141592654</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>   <span class="c"># indirect doctest</span>
<span class="go">3.1416</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Check that <a class="reference external" href="http://trac.sagemath.org/14778">trac ticket #14778</a> is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">0.000000000000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.numerical_approx">
<tt class="descname">numerical_approx</tt><big>(</big><em>prec=None</em>, <em>digits=None</em>, <em>algorithm=None</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element.numerical_approx" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a numerical approximation of x with at least prec bits of
precision.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">()</span>
<span class="go">0.666666666666667</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">digits</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>  <span class="c"># indirect doctest</span>
<span class="go">3.141592654</span>
<span class="gp">sage: </span><span class="n">pi</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">prec</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>   <span class="c"># indirect doctest</span>
<span class="go">3.1416</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>Check that <a class="reference external" href="http://trac.sagemath.org/14778">trac ticket #14778</a> is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">n</span><span class="p">(</span><span class="n">algorithm</span><span class="o">=</span><span class="s">&#39;foo&#39;</span><span class="p">)</span>
<span class="go">0.000000000000000</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.parent">
<tt class="descname">parent</tt><big>(</big><em>x=None</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the parent of this element; or, if the optional argument x is
supplied, the result of coercing x into the parent of this element.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.subs">
<tt class="descname">subs</tt><big>(</big><em>in_dict=None</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element.subs" title="Permalink to this definition">¶</a></dt>
<dd><p>Substitutes given generators with given values while not touching
other generators. This is a generic wrapper around <tt class="docutils literal"><span class="pre">__call__</span></tt>.
The syntax is meant to be compatible with the corresponding method
for symbolic expressions.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">in_dict</span></tt> - (optional) dictionary of inputs</li>
<li><tt class="docutils literal"><span class="pre">**kwds</span></tt> - named parameters</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>new object if substitution is possible, otherwise self.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;xy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="mi">5</span><span class="p">})</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">1/(25*y^2 + y + 30)</span>
<span class="gp">sage: </span><span class="n">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">subs</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.Element.substitute">
<tt class="descname">substitute</tt><big>(</big><em>in_dict=None</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.structure.element.Element.substitute" title="Permalink to this definition">¶</a></dt>
<dd><p>This is an alias for self.subs().</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">in_dict</span></tt> - (optional) dictionary of inputs</li>
<li><tt class="docutils literal"><span class="pre">**kwds</span></tt>  - named parameters</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>new object if substitution is possible, otherwise self.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">PolynomialRing</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="s">&#39;xy&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">gens</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">f</span> <span class="o">=</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span> <span class="o">+</span> <span class="n">x</span><span class="o">^</span><span class="mi">2</span><span class="o">*</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">5</span>
<span class="gp">sage: </span><span class="n">f</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="n">y</span><span class="p">))</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">substitute</span><span class="p">({</span><span class="n">x</span><span class="p">:</span><span class="mi">5</span><span class="p">})</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="n">f</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">25*y^2 + y + 30</span>
<span class="gp">sage: </span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="n">f</span><span class="p">)</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">1/(25*y^2 + y + 30)</span>
<span class="gp">sage: </span><span class="n">Integer</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">substitute</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="go">5</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.ElementWithCachedMethod">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">ElementWithCachedMethod</tt><a class="headerlink" href="#sage.structure.element.ElementWithCachedMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.Element</span></tt></a></p>
<p>An element class that fully supports cached methods.</p>
<p>NOTE:</p>
<p>The <tt class="xref py py-class docutils literal"><span class="pre">cached_method</span></tt> decorator provides
a convenient way to automatically cache the result of a computation.
Since <a class="reference external" href="http://trac.sagemath.org/11115">trac ticket #11115</a>, the cached method decorator applied to a
method without optional arguments is faster than a hand-written cache
in Python, and a cached method without any arguments (except <tt class="docutils literal"><span class="pre">self</span></tt>)
is actually faster than a Python method that does nothing more but
to return <tt class="docutils literal"><span class="pre">1</span></tt>. A cached method can also be inherited from the parent
or element class of a category.</p>
<p>However, this holds true only if attribute assignment is supported.
If you write an extension class in Cython that does not accept attribute
assignment then a cached method inherited from the category will be
slower (for <a class="reference internal" href="parent.html#sage.structure.parent.Parent" title="sage.structure.parent.Parent"><tt class="xref py py-class docutils literal"><span class="pre">Parent</span></tt></a>) or the cache would
even break (for <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a>).</p>
<p>This class should be used if you write an element class, can not provide
it with attribute assignment, but want that it inherits a cached method
from the category. Under these conditions, your class should inherit
from this class rather than <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a>. Then, the cache will work,
but certainly slower than with attribute assignment. Lazy attributes
work as well.</p>
<p>EXAMPLE:</p>
<p>We define three element extension classes. The first inherits from
<a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a>, the second from this class, and the third simply
is a Python class. We also define a parent class and, in Python, a
category whose element and parent classes define cached methods.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">cython_code</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;from sage.structure.element cimport Element, ElementWithCachedMethod&quot;</span><span class="p">,</span>
<span class="go">....:     &quot;cdef class MyBrokenElement(Element):&quot;,</span>
<span class="go">....:     &quot;    cdef public object x&quot;,</span>
<span class="go">....:     &quot;    def __init__(self,P,x):&quot;,</span>
<span class="go">....:     &quot;        self.x=x&quot;,</span>
<span class="go">....:     &quot;        Element.__init__(self,P)&quot;,</span>
<span class="go">....:     &quot;    def __neg__(self):&quot;,</span>
<span class="go">....:     &quot;        return MyBrokenElement(self.parent(),-self.x)&quot;,</span>
<span class="go">....:     &quot;    def _repr_(self):&quot;,</span>
<span class="go">....:     &quot;        return &#39;&lt;%s&gt;&#39;%self.x&quot;,</span>
<span class="go">....:     &quot;    def __hash__(self):&quot;,</span>
<span class="go">....:     &quot;        return hash(self.x)&quot;,</span>
<span class="go">....:     &quot;    def __cmp__(left, right):&quot;,</span>
<span class="go">....:     &quot;        return (&lt;Element&gt;left)._cmp(right)&quot;,</span>
<span class="go">....:     &quot;    def __richcmp__(left, right, op):&quot;,</span>
<span class="go">....:     &quot;        return (&lt;Element&gt;left)._richcmp(right,op)&quot;,</span>
<span class="go">....:     &quot;    cpdef int _cmp_(left, Element right) except -2:&quot;,</span>
<span class="go">....:     &quot;        return cmp(left.x,right.x)&quot;,</span>
<span class="go">....:     &quot;    def raw_test(self):&quot;,</span>
<span class="go">....:     &quot;        return -self&quot;,</span>
<span class="go">....:     &quot;cdef class MyElement(ElementWithCachedMethod):&quot;,</span>
<span class="go">....:     &quot;    cdef public object x&quot;,</span>
<span class="go">....:     &quot;    def __init__(self,P,x):&quot;,</span>
<span class="go">....:     &quot;        self.x=x&quot;,</span>
<span class="go">....:     &quot;        Element.__init__(self,P)&quot;,</span>
<span class="go">....:     &quot;    def __neg__(self):&quot;,</span>
<span class="go">....:     &quot;        return MyElement(self.parent(),-self.x)&quot;,</span>
<span class="go">....:     &quot;    def _repr_(self):&quot;,</span>
<span class="go">....:     &quot;        return &#39;&lt;%s&gt;&#39;%self.x&quot;,</span>
<span class="go">....:     &quot;    def __hash__(self):&quot;,</span>
<span class="go">....:     &quot;        return hash(self.x)&quot;,</span>
<span class="go">....:     &quot;    def __cmp__(left, right):&quot;,</span>
<span class="go">....:     &quot;        return (&lt;Element&gt;left)._cmp(right)&quot;,</span>
<span class="go">....:     &quot;    def __richcmp__(left, right, op):&quot;,</span>
<span class="go">....:     &quot;        return (&lt;Element&gt;left)._richcmp(right,op)&quot;,</span>
<span class="go">....:     &quot;    cpdef int _cmp_(left, Element right) except -2:&quot;,</span>
<span class="go">....:     &quot;        return cmp(left.x,right.x)&quot;,</span>
<span class="go">....:     &quot;    def raw_test(self):&quot;,</span>
<span class="go">....:     &quot;        return -self&quot;,</span>
<span class="go">....:     &quot;class MyPythonElement(MyBrokenElement): pass&quot;,</span>
<span class="go">....:     &quot;from sage.structure.parent cimport Parent&quot;,</span>
<span class="go">....:     &quot;cdef class MyParent(Parent):&quot;,</span>
<span class="go">....:     &quot;    Element = MyElement&quot;]</span>
<span class="gp">sage: </span><span class="n">cython</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cython_code</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">cython_code</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;from sage.all import cached_method, cached_in_parent_method, Category, Objects&quot;</span><span class="p">,</span>
<span class="go">....:     &quot;class MyCategory(Category):&quot;,</span>
<span class="go">....:     &quot;    @cached_method&quot;,</span>
<span class="go">....:     &quot;    def super_categories(self):&quot;,</span>
<span class="go">....:     &quot;        return [Objects()]&quot;,</span>
<span class="go">....:     &quot;    class ElementMethods:&quot;,</span>
<span class="go">....:     &quot;        @cached_method&quot;,</span>
<span class="go">....:     &quot;        def element_cache_test(self):&quot;,</span>
<span class="go">....:     &quot;            return -self&quot;,</span>
<span class="go">....:     &quot;        @cached_in_parent_method&quot;,</span>
<span class="go">....:     &quot;        def element_via_parent_test(self):&quot;,</span>
<span class="go">....:     &quot;            return -self&quot;,</span>
<span class="go">....:     &quot;    class ParentMethods:&quot;,</span>
<span class="go">....:     &quot;        @cached_method&quot;,</span>
<span class="go">....:     &quot;        def one(self):&quot;,</span>
<span class="go">....:     &quot;            return self.element_class(self,1)&quot;,</span>
<span class="go">....:     &quot;        @cached_method&quot;,</span>
<span class="go">....:     &quot;        def invert(self, x):&quot;,</span>
<span class="go">....:     &quot;            return -x&quot;]</span>
<span class="gp">sage: </span><span class="n">cython</span><span class="p">(</span><span class="s">&#39;</span><span class="se">\n</span><span class="s">&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">cython_code</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">MyCategory</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">MyParent</span><span class="p">(</span><span class="n">category</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ebroken</span> <span class="o">=</span> <span class="n">MyBrokenElement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">e</span> <span class="o">=</span> <span class="n">MyElement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>The cached methods inherited by <tt class="docutils literal"><span class="pre">MyElement</span></tt> works:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>
<span class="go">&lt;-5&gt;</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">e</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>
<span class="go">&lt;-5&gt;</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The other element class can only inherit a
<tt class="docutils literal"><span class="pre">cached_in_parent_method</span></tt>, since the cache is stored in the
parent. In fact, equal elements share the cache, even if they are
of different types:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">e</span> <span class="o">==</span> <span class="n">ebroken</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">e</span><span class="p">)</span> <span class="o">==</span> <span class="nb">type</span><span class="p">(</span><span class="n">ebroken</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">ebroken</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>However, the cache of the other inherited method breaks, although the method
as such works:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">ebroken</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>
<span class="go">&lt;-5&gt;</span>
<span class="gp">sage: </span><span class="n">ebroken</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">ebroken</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Since <tt class="docutils literal"><span class="pre">e</span></tt> and <tt class="docutils literal"><span class="pre">ebroken</span></tt> share the cache, when we empty it for one element
it is empty for the other as well:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">ebroken</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">e</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="o">.</span><span class="n">clear_cache</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="ow">is</span> <span class="n">ebroken</span><span class="o">.</span><span class="n">element_via_parent_test</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>Note that the cache only breaks for elements that do no allow attribute assignment.
A Python version of <tt class="docutils literal"><span class="pre">MyBrokenElement</span></tt> therefore allows for cached methods:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">epython</span> <span class="o">=</span> <span class="n">MyPythonElement</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">epython</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>
<span class="go">&lt;-5&gt;</span>
<span class="gp">sage: </span><span class="n">epython</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span> <span class="ow">is</span> <span class="n">epython</span><span class="o">.</span><span class="n">element_cache_test</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.EuclideanDomainElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">EuclideanDomainElement</tt><a class="headerlink" href="#sage.structure.element.EuclideanDomainElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.PrincipalIdealDomainElement" title="sage.structure.element.PrincipalIdealDomainElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.PrincipalIdealDomainElement</span></tt></a></p>
<dl class="method">
<dt id="sage.structure.element.EuclideanDomainElement.degree">
<tt class="descname">degree</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.EuclideanDomainElement.degree" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.structure.element.EuclideanDomainElement.leading_coefficient">
<tt class="descname">leading_coefficient</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.EuclideanDomainElement.leading_coefficient" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.structure.element.EuclideanDomainElement.quo_rem">
<tt class="descname">quo_rem</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#sage.structure.element.EuclideanDomainElement.quo_rem" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.FieldElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">FieldElement</tt><a class="headerlink" href="#sage.structure.element.FieldElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.CommutativeRingElement" title="sage.structure.element.CommutativeRingElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.CommutativeRingElement</span></tt></a></p>
<dl class="method">
<dt id="sage.structure.element.FieldElement.divides">
<tt class="descname">divides</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#sage.structure.element.FieldElement.divides" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether <tt class="docutils literal"><span class="pre">self</span></tt> divides other, for field elements.</p>
<p>Since this is a field, all values divide all other values,
except that zero does not divide any non-zero values.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">rt3</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[</span><span class="n">sqrt</span><span class="p">(</span><span class="mi">3</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">rt3</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">rt3</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">17</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">rt3</span><span class="o">.</span><span class="n">divides</span><span class="p">(</span><span class="n">K</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.FieldElement.is_unit">
<tt class="descname">is_unit</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.FieldElement.is_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> is a unit in its parent ring.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">;</span> <span class="n">a</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>On the other hand, 2 is not a unit, since its parent is <span class="math">\(\ZZ\)</span>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span> <span class="n">a</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Integer Ring</span>
</pre></div>
</div>
<p>However, a is a unit when viewed as an element of QQ:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span> <span class="n">a</span><span class="o">.</span><span class="n">is_unit</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.FieldElement.quo_rem">
<tt class="descname">quo_rem</tt><big>(</big><em>right</em><big>)</big><a class="headerlink" href="#sage.structure.element.FieldElement.quo_rem" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the quotient and remainder obtained by dividing <tt class="docutils literal"><span class="pre">self</span></tt> by
<tt class="docutils literal"><span class="pre">right</span></tt>. Since this element lives in a field, the remainder is always
zero and the quotient is <tt class="docutils literal"><span class="pre">self/right</span></tt>.</p>
<p>TESTS:</p>
<p>Test if <a class="reference external" href="http://trac.sagemath.org/8671">trac ticket #8671</a> is fixed:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.&lt;</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">R</span><span class="o">.</span><span class="n">quo</span><span class="p">(</span><span class="n">y</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">is_field</span> <span class="o">=</span> <span class="k">lambda</span> <span class="p">:</span> <span class="bp">False</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">Frac</span><span class="p">(</span><span class="n">S</span><span class="p">);</span> <span class="n">u</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">one</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">u</span><span class="o">.</span><span class="n">quo_rem</span><span class="p">(</span><span class="n">u</span><span class="p">)</span>
<span class="go">(1, 0)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.InfinityElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">InfinityElement</tt><a class="headerlink" href="#sage.structure.element.InfinityElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.RingElement" title="sage.structure.element.RingElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.RingElement</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.IntegralDomainElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">IntegralDomainElement</tt><a class="headerlink" href="#sage.structure.element.IntegralDomainElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.CommutativeRingElement" title="sage.structure.element.CommutativeRingElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.CommutativeRingElement</span></tt></a></p>
<dl class="method">
<dt id="sage.structure.element.IntegralDomainElement.is_nilpotent">
<tt class="descname">is_nilpotent</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.IntegralDomainElement.is_nilpotent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.Matrix">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">Matrix</tt><a class="headerlink" href="#sage.structure.element.Matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.ModuleElement</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.MinusInfinityElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">MinusInfinityElement</tt><a class="headerlink" href="#sage.structure.element.MinusInfinityElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.InfinityElement" title="sage.structure.element.InfinityElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.InfinityElement</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.ModuleElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">ModuleElement</tt><a class="headerlink" href="#sage.structure.element.ModuleElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.Element</span></tt></a></p>
<p>Generic element of a module.</p>
<dl class="method">
<dt id="sage.structure.element.ModuleElement.additive_order">
<tt class="descname">additive_order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.ModuleElement.additive_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the additive order of self.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.ModuleElement.order">
<tt class="descname">order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.ModuleElement.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the additive order of self.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.MonoidElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">MonoidElement</tt><a class="headerlink" href="#sage.structure.element.MonoidElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.Element</span></tt></a></p>
<p>Generic element of a monoid.</p>
<dl class="method">
<dt id="sage.structure.element.MonoidElement.multiplicative_order">
<tt class="descname">multiplicative_order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.MonoidElement.multiplicative_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the multiplicative order of self.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.MonoidElement.order">
<tt class="descname">order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.MonoidElement.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the multiplicative order of self.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.MonoidElement.powers">
<tt class="descname">powers</tt><big>(</big><em>n</em><big>)</big><a class="headerlink" href="#sage.structure.element.MonoidElement.powers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list <span class="math">\([x^0, x^1, \ldots, x^{n-1}]\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">SymmetricGroup</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">g</span> <span class="o">=</span> <span class="n">G</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">g</span><span class="o">.</span><span class="n">powers</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">[(), (1,2,3,4), (1,3)(2,4), (1,4,3,2)]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.MultiplicativeGroupElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">MultiplicativeGroupElement</tt><a class="headerlink" href="#sage.structure.element.MultiplicativeGroupElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.MonoidElement" title="sage.structure.element.MonoidElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.MonoidElement</span></tt></a></p>
<p>Generic element of a multiplicative group.</p>
<dl class="method">
<dt id="sage.structure.element.MultiplicativeGroupElement.order">
<tt class="descname">order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.MultiplicativeGroupElement.order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the multiplicative order of self.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.NamedBinopMethod">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">NamedBinopMethod</tt><a class="headerlink" href="#sage.structure.element.NamedBinopMethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><tt class="xref py py-class docutils literal"><span class="pre">object</span></tt></a></p>
<p>A decorator to be used on binary operation methods that should operate
on elements of the same parent. If the parents of the arguments differ,
coercion is performed, then the method is re-looked up by name on the
first argument.</p>
<p>In short, using the <tt class="docutils literal"><span class="pre">NamedBinopMethod</span></tt> (alias <tt class="docutils literal"><span class="pre">coerce_binop</span></tt>) decorator
on a method gives it the exact same semantics of the basic arithmetic
operations like <tt class="docutils literal"><span class="pre">_add_</span></tt>, <tt class="docutils literal"><span class="pre">_sub_</span></tt>, etc. in that both operands are
guaranteed to have exactly the same parent.</p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.PlusInfinityElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">PlusInfinityElement</tt><a class="headerlink" href="#sage.structure.element.PlusInfinityElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.InfinityElement" title="sage.structure.element.InfinityElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.InfinityElement</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.structure.element.PrincipalIdealDomainElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">PrincipalIdealDomainElement</tt><a class="headerlink" href="#sage.structure.element.PrincipalIdealDomainElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.DedekindDomainElement" title="sage.structure.element.DedekindDomainElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.DedekindDomainElement</span></tt></a></p>
<dl class="method">
<dt id="sage.structure.element.PrincipalIdealDomainElement.lcm">
<tt class="descname">lcm</tt><big>(</big><em>right</em><big>)</big><a class="headerlink" href="#sage.structure.element.PrincipalIdealDomainElement.lcm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the least common multiple of <tt class="docutils literal"><span class="pre">self</span></tt> and <tt class="docutils literal"><span class="pre">right</span></tt>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.RingElement">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">RingElement</tt><a class="headerlink" href="#sage.structure.element.RingElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.ModuleElement</span></tt></a></p>
<dl class="method">
<dt id="sage.structure.element.RingElement.abs">
<tt class="descname">abs</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.RingElement.abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the absolute value of <tt class="docutils literal"><span class="pre">self</span></tt>.  (This just calls the <tt class="docutils literal"><span class="pre">__abs__</span></tt>
method, so it is equivalent to the <tt class="docutils literal"><span class="pre">abs()</span></tt> built-in function.)</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">RR</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="go">1.00000000000000</span>
<span class="gp">sage: </span><span class="n">ZZ</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">CC</span><span class="p">(</span><span class="n">I</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="go">1.00000000000000</span>
<span class="gp">sage: </span><span class="n">Mod</span><span class="p">(</span><span class="o">-</span><span class="mi">15</span><span class="p">,</span> <span class="mi">37</span><span class="p">)</span><span class="o">.</span><span class="n">abs</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">ArithmeticError</span>: <span class="n-Identifier">absolute valued not defined on integers modulo n.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.RingElement.additive_order">
<tt class="descname">additive_order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.RingElement.additive_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the additive order of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.RingElement.is_nilpotent">
<tt class="descname">is_nilpotent</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.RingElement.is_nilpotent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> is nilpotent, i.e., some power of <tt class="docutils literal"><span class="pre">self</span></tt>
is 0.</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">is_nilpotent</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">is_nilpotent</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">3</span><span class="p">,[[</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">is_nilpotent</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">AttributeError</span>: <span class="n-Identifier">... object has no attribute &#39;is_nilpotent&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.RingElement.is_one">
<tt class="descname">is_one</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.RingElement.is_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="sage.structure.element.RingElement.is_prime">
<tt class="descname">is_prime</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.RingElement.is_prime" title="Permalink to this definition">¶</a></dt>
<dd><p>Is <tt class="docutils literal"><span class="pre">self</span></tt> a prime element?</p>
<p>A <em>prime</em> element is a non-zero, non-unit element <span class="math">\(p\)</span> such that,
whenever <span class="math">\(p\)</span> divides <span class="math">\(ab\)</span> for some <span class="math">\(a\)</span> and <span class="math">\(b\)</span>, then <span class="math">\(p\)</span>
divides <span class="math">\(a\)</span> or <span class="math">\(p\)</span> divides <span class="math">\(b\)</span>.</p>
<p>EXAMPLES:</p>
<p>For polynomial rings, prime is the same as irreducible:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QQ</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">+</span> <span class="n">y</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="p">(</span><span class="n">x</span><span class="o">^</span><span class="mi">2</span> <span class="o">-</span> <span class="n">y</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">R</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>For the Gaussian integers:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">K</span><span class="o">.&lt;</span><span class="n">i</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">QuadraticField</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">ZI</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">ring_of_integers</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">2</span><span class="o">+</span><span class="n">i</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">ZI</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>In fields, an element is never prime:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">RR</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">RR</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_prime</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
<p>For integers, prime numbers are redefined to be positive:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">RingElement</span><span class="o">.</span><span class="n">is_prime</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">Integer</span><span class="o">.</span><span class="n">is_prime</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.RingElement.multiplicative_order">
<tt class="descname">multiplicative_order</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.RingElement.multiplicative_order" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the multiplicative order of <tt class="docutils literal"><span class="pre">self</span></tt>, if <tt class="docutils literal"><span class="pre">self</span></tt> is a unit,
or raise <tt class="docutils literal"><span class="pre">ArithmeticError</span></tt> otherwise.</p>
</dd></dl>

<dl class="method">
<dt id="sage.structure.element.RingElement.powers">
<tt class="descname">powers</tt><big>(</big><em>n</em><big>)</big><a class="headerlink" href="#sage.structure.element.RingElement.powers" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the list <span class="math">\([x^0, x^1, \ldots, x^{n-1}]\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="mf">5.</span><span class="n">powers</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[1, 5, 25]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.structure.element.Vector">
<em class="property">class </em><tt class="descclassname">sage.structure.element.</tt><tt class="descname">Vector</tt><a class="headerlink" href="#sage.structure.element.Vector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.structure.element.ModuleElement" title="sage.structure.element.ModuleElement"><tt class="xref py py-class docutils literal"><span class="pre">sage.structure.element.ModuleElement</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.bin_op">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">bin_op</tt><big>(</big><em>x</em>, <em>y</em>, <em>op</em><big>)</big><a class="headerlink" href="#sage.structure.element.bin_op" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sage.structure.element.canonical_coercion">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">canonical_coercion</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#sage.structure.element.canonical_coercion" title="Permalink to this definition">¶</a></dt>
<dd><p><tt class="docutils literal"><span class="pre">canonical_coercion(x,y)</span></tt> is what is called before doing an
arithmetic operation between <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">y</span></tt>.  It returns a pair <tt class="docutils literal"><span class="pre">(z,w)</span></tt>
such that <tt class="docutils literal"><span class="pre">z</span></tt> is got from <tt class="docutils literal"><span class="pre">x</span></tt> and <tt class="docutils literal"><span class="pre">w</span></tt> from <tt class="docutils literal"><span class="pre">y</span></tt> via canonical coercion and
the parents of <tt class="docutils literal"><span class="pre">z</span></tt> and <tt class="docutils literal"><span class="pre">w</span></tt> are identical.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">Matrix</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">canonical_coercion</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">(</span>
<span class="go">[0 1]  [1 0]</span>
<span class="go">[1 0], [0 1]</span>
<span class="go">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="sage.structure.element.coerce_binop">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">coerce_binop</tt><a class="headerlink" href="#sage.structure.element.coerce_binop" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.structure.element.NamedBinopMethod" title="sage.structure.element.NamedBinopMethod"><tt class="xref py py-class docutils literal"><span class="pre">NamedBinopMethod</span></tt></a></p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.coerce_cmp">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">coerce_cmp</tt><big>(</big><em>x</em>, <em>y</em><big>)</big><a class="headerlink" href="#sage.structure.element.coerce_cmp" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sage.structure.element.coercion_traceback">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">coercion_traceback</tt><big>(</big><em>dump=True</em><big>)</big><a class="headerlink" href="#sage.structure.element.coercion_traceback" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is very helpful in debugging coercion errors. It prints
the tracebacks of all the errors caught in the coercion detection. Note
that failure is cached, so some errors may be omitted the second time
around (as it remembers not to retry failed paths for speed reasons.</p>
<p>For performance and caching reasons, exception recording must be
explicitly enabled before using this function.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">cm</span> <span class="o">=</span> <span class="n">sage</span><span class="o">.</span><span class="n">structure</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">get_coercion_model</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">cm</span><span class="o">.</span><span class="n">record_exceptions</span><span class="p">()</span>
<span class="gp">sage: </span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span>
<span class="go">6/5</span>
<span class="gp">sage: </span><span class="n">coercion_traceback</span><span class="p">()</span>  <span class="c"># Should be empty, as all went well.</span>
<span class="gp">sage: </span><span class="mi">1</span><span class="o">/</span><span class="mi">5</span> <span class="o">+</span> <span class="n">GF</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">gen</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError: unsupported operand parent(s) for &#39;+&#39;</span>: <span class="n-Identifier">&#39;Rational Field&#39; and &#39;Finite Field of size 5&#39;</span>
<span class="gp">sage: </span><span class="n">coercion_traceback</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="nc">TypeError: no common canonical parent for objects with parents</span>: <span class="n-Identifier">&#39;Rational Field&#39; and &#39;Finite Field of size 5&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.generic_power">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">generic_power</tt><big>(</big><em>a</em>, <em>n</em>, <em>one=None</em><big>)</big><a class="headerlink" href="#sage.structure.element.generic_power" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes <span class="math">\(a^n\)</span>, where <span class="math">\(n\)</span> is an integer, and <span class="math">\(a\)</span> is an object which
supports multiplication.  Optionally an additional argument,
which is used in the case that <tt class="docutils literal"><span class="pre">n</span> <span class="pre">==</span> <span class="pre">0</span></tt>:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">one</span></tt> - the &#8220;unit&#8221; element, returned directly (can be anything)</li>
</ul>
<p>If this is not supplied, <tt class="docutils literal"><span class="pre">int(1)</span></tt> is returned.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">generic_power</span>
<span class="gp">sage: </span><span class="n">generic_power</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">12</span><span class="p">),</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">generic_power</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="nb">int</span><span class="p">(</span><span class="mi">100</span><span class="p">))</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">generic_power</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">generic_power</span><span class="p">(</span><span class="n">Integer</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span><span class="n">Integer</span><span class="p">(</span><span class="mi">23</span><span class="p">))</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="nb">sum</span><span class="p">([</span><span class="n">generic_power</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">17</span><span class="p">)])</span> <span class="c">#test all 4-bit combinations</span>
<span class="go">131071</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">Zmod</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">generic_power</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="mi">5</span><span class="p">);</span> <span class="n">a</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">F</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">generic_power</span><span class="p">(</span><span class="n">F</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">a</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="ow">is</span> <span class="n">F</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">generic_power</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.get_coercion_model">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">get_coercion_model</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.structure.element.get_coercion_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the global coercion model.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">sage.structure.element</span> <span class="kn">as</span> <span class="nn">e</span>
<span class="gp">sage: </span><span class="n">cm</span> <span class="o">=</span> <span class="n">e</span><span class="o">.</span><span class="n">get_coercion_model</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">cm</span>
<span class="go">&lt;sage.structure.coerce.CoercionModel_cache_maps object at ...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.have_same_parent">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">have_same_parent</tt><big>(</big><em>left</em>, <em>right</em><big>)</big><a class="headerlink" href="#sage.structure.element.have_same_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if and only if <tt class="docutils literal"><span class="pre">left</span></tt> and <tt class="docutils literal"><span class="pre">right</span></tt> have the
same parent.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This function assumes that at least one of the arguments is a
Sage <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a>. When in doubt, use the slower
<tt class="docutils literal"><span class="pre">parent(left)</span> <span class="pre">is</span> <span class="pre">parent(right)</span></tt> instead.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">have_same_parent</span>
<span class="gp">sage: </span><span class="n">have_same_parent</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">have_same_parent</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">have_same_parent</span><span class="p">(</span><span class="n">gap</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">gap</span><span class="p">(</span><span class="mi">1</span><span class="o">/</span><span class="mi">2</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<p>These have different types but the same parent:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="n">RLF</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">exp</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.rings.real_lazy.LazyWrapper&#39;&gt;</span>
<span class="gp">sage: </span><span class="nb">type</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">&lt;type &#39;sage.rings.real_lazy.LazyNamedUnop&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">have_same_parent</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_AdditiveGroupElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_AdditiveGroupElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_AdditiveGroupElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type AdditiveGroupElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_AlgebraElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_AlgebraElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_AlgebraElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type AlgebraElement.</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">is_AlgebraElement</span>
<span class="gp">sage: </span><span class="n">R</span><span class="o">.&lt;</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">FreeAlgebra</span><span class="p">(</span><span class="n">QQ</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">is_AlgebraElement</span><span class="p">(</span><span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="p">)</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">is_AlgebraElement</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_CommutativeAlgebraElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_CommutativeAlgebraElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_CommutativeAlgebraElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type CommutativeAlgebraElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_CommutativeRingElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_CommutativeRingElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_CommutativeRingElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type CommutativeRingElement.</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.rings.commutative_ring_element</span> <span class="kn">import</span> <span class="n">is_CommutativeRingElement</span>
<span class="gp">sage: </span><span class="n">is_CommutativeRingElement</span><span class="p">(</span><span class="n">oo</span><span class="p">)</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">is_CommutativeRingElement</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_DedekindDomainElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_DedekindDomainElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_DedekindDomainElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type DedekindDomainElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_Element">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_Element</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_Element" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type Element.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">is_Element</span>
<span class="gp">sage: </span><span class="n">is_Element</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_Element</span><span class="p">(</span><span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_EuclideanDomainElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_EuclideanDomainElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_EuclideanDomainElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type EuclideanDomainElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_FieldElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_FieldElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_FieldElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type FieldElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_InfinityElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_InfinityElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_InfinityElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type InfinityElement.</p>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">is_InfinityElement</span>
<span class="gp">sage: </span><span class="n">is_InfinityElement</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">False</span>

<span class="gp">sage: </span><span class="n">is_InfinityElement</span><span class="p">(</span><span class="n">oo</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_IntegralDomainElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_IntegralDomainElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_IntegralDomainElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type IntegralDomainElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_Matrix">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_Matrix</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_Matrix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_ModuleElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_ModuleElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_ModuleElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type ModuleElement.</p>
<p>This is even faster than using isinstance inline.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.structure.element</span> <span class="kn">import</span> <span class="n">is_ModuleElement</span>
<span class="gp">sage: </span><span class="n">is_ModuleElement</span><span class="p">(</span><span class="mi">2</span><span class="o">/</span><span class="mi">3</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_ModuleElement</span><span class="p">((</span><span class="n">QQ</span><span class="o">^</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="mi">0</span><span class="p">)</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">is_ModuleElement</span><span class="p">(</span><span class="s">&#39;a&#39;</span><span class="p">)</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_MonoidElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_MonoidElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_MonoidElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type MonoidElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_MultiplicativeGroupElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_MultiplicativeGroupElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_MultiplicativeGroupElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type MultiplicativeGroupElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_PrincipalIdealDomainElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_PrincipalIdealDomainElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_PrincipalIdealDomainElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type PrincipalIdealDomainElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_RingElement">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_RingElement</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_RingElement" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if x is of type RingElement.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.is_Vector">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">is_Vector</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.is_Vector" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="sage.structure.element.make_element">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">make_element</tt><big>(</big><em>_class</em>, <em>_dict</em>, <em>parent</em><big>)</big><a class="headerlink" href="#sage.structure.element.make_element" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is only here to support old pickles.</p>
<p>Pickling functionality is moved to Element.{__getstate__,__setstate__}
functions.</p>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.parent">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">parent</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.structure.element.parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the parent of the element <tt class="docutils literal"><span class="pre">x</span></tt>.</p>
<p>Usually, this means the mathematical object of which <tt class="docutils literal"><span class="pre">x</span></tt> is an
element.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x</span></tt> &#8211; an element</li>
</ul>
<p>OUTPUT:</p>
<ul class="simple">
<li>if <tt class="docutils literal"><span class="pre">x</span></tt> is a Sage <a class="reference internal" href="#sage.structure.element.Element" title="sage.structure.element.Element"><tt class="xref py py-class docutils literal"><span class="pre">Element</span></tt></a>, return <tt class="docutils literal"><span class="pre">x.parent()</span></tt>.</li>
<li>if <tt class="docutils literal"><span class="pre">x</span></tt> has a <tt class="docutils literal"><span class="pre">parent</span></tt> method and <tt class="docutils literal"><span class="pre">x</span></tt> does not have an
<tt class="docutils literal"><span class="pre">__int__</span></tt> or <tt class="docutils literal"><span class="pre">__float__</span></tt> method, return <tt class="docutils literal"><span class="pre">x.parent()</span></tt>.</li>
<li>otherwise, return <tt class="docutils literal"><span class="pre">type(x)</span></tt>.</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<dl class="last docutils">
<dt><a class="reference external" href="http://www.sagemath.org/doc/tutorial/tour_coercion.html">Parents, Conversion and Coercion</a></dt>
<dd>Section in the Sage Tutorial</dd>
</dl>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">a</span> <span class="o">=</span> <span class="mi">42</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">Integer Ring</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="mi">42</span><span class="o">/</span><span class="mi">1</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">Rational Field</span>
<span class="gp">sage: </span><span class="n">c</span> <span class="o">=</span> <span class="mf">42.0</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
<span class="go">Real Field with 53 bits of precision</span>
</pre></div>
</div>
<p>Some more complicated examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">Partition</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">Partitions</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">vector</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
<span class="go">Vector space of dimension 3 over Real Double Field</span>
</pre></div>
</div>
<p>The following are not considered to be elements, so the type is
returned:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>  <span class="c"># Python int</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
<span class="go">&lt;type &#39;int&#39;&gt;</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">parent</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">&lt;type &#39;list&#39;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="sage.structure.element.set_coercion_model">
<tt class="descclassname">sage.structure.element.</tt><tt class="descname">set_coercion_model</tt><big>(</big><em>cm</em><big>)</big><a class="headerlink" href="#sage.structure.element.set_coercion_model" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../../index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference internal" href="#">Elements</a><ul>
<li><a class="reference internal" href="#the-abstract-element-class-hierarchy">The Abstract Element Class Hierarchy</a></li>
<li><a class="reference internal" href="#how-to-define-a-new-element-class">How to Define a New Element Class</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="gens_py.html"
                                  title="previous chapter">Pure python code for abstract base class for objects with generators</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="element_wrapper.html"
                                  title="next chapter">Element Wrapper</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/structure/element.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="element_wrapper.html" title="Element Wrapper"
             >next</a> |</li>
        <li class="right" >
          <a href="gens_py.html" title="Pure python code for abstract base class for objects with generators"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Basic Structures</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>