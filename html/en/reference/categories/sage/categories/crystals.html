<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Crystals &mdash; Sage Reference Manual v7.1: Category Framework</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.1: Category Framework" href="../../index.html" />
    <link rel="next" title="CW Complexes" href="cw_complexes.html" />
    <link rel="prev" title="Coxeter Groups" href="coxeter_groups.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cw_complexes.html" title="CW Complexes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="coxeter_groups.html" title="Coxeter Groups"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Category Framework</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="crystals">
<span id="sage-categories-crystals"></span><h1>Crystals<a class="headerlink" href="#crystals" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.categories.crystals"></span><dl class="class">
<dt id="sage.categories.crystals.CrystalHomset">
<em class="property">class </em><tt class="descclassname">sage.categories.crystals.</tt><tt class="descname">CrystalHomset</tt><big>(</big><em>X</em>, <em>Y</em>, <em>category=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalHomset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="homset.html#sage.categories.homset.Homset" title="sage.categories.homset.Homset"><tt class="xref py py-class docutils literal"><span class="pre">sage.categories.homset.Homset</span></tt></a></p>
<p>The set of crystal morphisms from one crystal to another.</p>
<p>An <span class="math">\(U_q(\mathfrak{g})\)</span> <span class="math">\(I\)</span>-crystal morphism <span class="math">\(\Psi : B \to C\)</span> is a map
<span class="math">\(\Psi : B \cup \{ 0 \} \to C \cup \{ 0 \}\)</span> such that:</p>
<ul class="simple">
<li><span class="math">\(\Psi(0) = 0\)</span>.</li>
<li>If <span class="math">\(b \in B\)</span> and <span class="math">\(\Psi(b) \in C\)</span>, then
<span class="math">\(\mathrm{wt}(\Psi(b)) = \mathrm{wt}(b)\)</span>,
<span class="math">\(\varepsilon_i(\Psi(b)) = \varepsilon_i(b)\)</span>, and
<span class="math">\(\varphi_i(\Psi(b)) = \varphi_i(b)\)</span> for all <span class="math">\(i \in I\)</span>.</li>
<li>If <span class="math">\(b, b^{\prime} \in B\)</span>, <span class="math">\(\Psi(b), \Psi(b^{\prime}) \in C\)</span> and
<span class="math">\(f_i b = b^{\prime}\)</span>, then <span class="math">\(f_i \Psi(b) = \Psi(b^{\prime})\)</span> and
<span class="math">\(\Psi(b) = e_i \Psi(b^{\prime})\)</span> for all <span class="math">\(i \in I\)</span>.</li>
</ul>
<p>If the Cartan type is unambiguous, it is surpressed from the notation.</p>
<p>We can also generalize the definition of a crystal morphism by considering
a map of <span class="math">\(\sigma\)</span> of the (now possibly different) Dynkin diagrams
corresponding to <span class="math">\(B\)</span> and <span class="math">\(C\)</span> along with scaling factors
<span class="math">\(\gamma_i \in \ZZ\)</span> for <span class="math">\(i \in I\)</span>. Let <span class="math">\(\sigma_i\)</span> denote the orbit of
<span class="math">\(i\)</span> under <span class="math">\(\sigma\)</span>. We write objects for <span class="math">\(B\)</span> as <span class="math">\(X\)</span> with
corresponding objects of <span class="math">\(C\)</span> as <span class="math">\(\widehat{X}\)</span>.
Then a <em>virtual</em> crystal morphism <span class="math">\(\Psi\)</span> is a map such that
the following holds:</p>
<ul class="simple">
<li><span class="math">\(\Psi(0) = 0\)</span>.</li>
<li>If <span class="math">\(b \in B\)</span> and <span class="math">\(\Psi(b) \in C\)</span>, then for all <span class="math">\(j \in \sigma_i\)</span>:</li>
</ul>
<div class="math">
\[\varepsilon_i(b) = \frac{1}{\gamma_j} \widehat{\varepsilon}_j(\Psi(b)),
\quad \varphi_i(b) = \frac{1}{\gamma_j} \widehat{\varphi}_j(\Psi(b)),
\quad \mathrm{wt}(\Psi(b)) = \sum_i c_i \sum_{j \in \sigma_i} \gamma_j
\widehat{\Lambda}_j,\]</div>
<p>where <span class="math">\(\mathrm{wt}(b) = \sum_i c_i \Lambda_i\)</span>.</p>
<ul>
<li><p class="first">If <span class="math">\(b, b^{\prime} \in B\)</span>, <span class="math">\(\Psi(b), \Psi(b^{\prime}) \in C\)</span> and
<span class="math">\(f_i b = b^{\prime}\)</span>, then independent of the ordering of <span class="math">\(\sigma_i\)</span>
we have:</p>
<div class="math">
\[\Psi(b^{\prime}) = e_i \Psi(b) =
    \prod_{j \in \sigma_i} \widehat{e}_j^{\gamma_i} \Psi(b), \quad
\Psi(b^{\prime}) = f_i \Psi(b) =
    \prod_{j \in \sigma_i} \widehat{f}_j^{\gamma_i} \Psi(b).\]</div>
</li>
</ul>
<p>If <span class="math">\(\gamma_i = 1\)</span> for all <span class="math">\(i \in I\)</span> and the Dynkin diagrams are
the same, then we call <span class="math">\(\Psi\)</span> a <em>twisted</em> crystal morphism.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">X</span></tt> &#8211; the domain</li>
<li><tt class="docutils literal"><span class="pre">Y</span></tt> &#8211; the codomain</li>
<li><tt class="docutils literal"><span class="pre">category</span></tt> &#8211; (optional) the category of the crystal morphisms</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">For the construction of an element of the homset, see
<a class="reference internal" href="#sage.categories.crystals.CrystalMorphismByGenerators" title="sage.categories.crystals.CrystalMorphismByGenerators"><tt class="xref py py-class docutils literal"><span class="pre">CrystalMorphismByGenerators</span></tt></a> and
<a class="reference internal" href="#sage.categories.crystals.Crystals.ParentMethods.crystal_morphism" title="sage.categories.crystals.Crystals.ParentMethods.crystal_morphism"><tt class="xref py py-meth docutils literal"><span class="pre">crystal_morphism()</span></tt></a>.</p>
</div>
<p>EXAMPLES:</p>
<p>We begin with the natural embedding of <span class="math">\(B(2\Lambda_1)\)</span> into
<span class="math">\(B(\Lambda_1) \otimes B(\Lambda_1)\)</span> in type <span class="math">\(A_1\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">highest_weight_vectors</span><span class="p">()[</span><span class="mi">0</span><span class="p">];</span> <span class="n">v</span>
<span class="go">[[[1]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">T</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">H</span><span class="p">([</span><span class="n">v</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">();</span> <span class="n">b</span>
<span class="go">[[1, 1]]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">[[[1]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[[1, 2]]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[[[1]], [[2]]]</span>
</pre></div>
</div>
<p>We now look at the decomposition of <span class="math">\(B(\Lambda_1) \otimes B(\Lambda_1)\)</span>
into <span class="math">\(B(2\Lambda_1) \oplus B(0)\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B0</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[])</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">DirectSum</span><span class="p">([</span><span class="n">B</span><span class="p">,</span> <span class="n">B0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">D</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">H</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">module_generators</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span>
<span class="go">[&#39;A&#39;, 1] Crystal morphism:</span>
<span class="go">  From: Full tensor product of the crystals</span>
<span class="go">   [The crystal of tableaux of type [&#39;A&#39;, 1] and shape(s) [[1]],</span>
<span class="go">    The crystal of tableaux of type [&#39;A&#39;, 1] and shape(s) [[1]]]</span>
<span class="go">  To:   Direct sum of the crystals Family</span>
<span class="go">   (The crystal of tableaux of type [&#39;A&#39;, 1] and shape(s) [[2]],</span>
<span class="go">    The crystal of tableaux of type [&#39;A&#39;, 1] and shape(s) [[]])</span>
<span class="go">  Defn: [[[1]], [[1]]] |--&gt; [1, 1]</span>
<span class="go">        [[[2]], [[1]]] |--&gt; []</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_isomorphism</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We can always construct the trivial morphism which sends
everything to <span class="math">\(0\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Binf</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">Binf</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">H</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="bp">None</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">Binf</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">())</span>
</pre></div>
</div>
<p>For Kirillov-Reshetikhin crystals, we consider the map to the
corresponding classical crystal:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">classical_decomposition</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">H</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">.</span><span class="n">lift</span><span class="p">(),</span> <span class="n">cartan_type</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="p">[</span><span class="n">psi</span><span class="p">(</span><span class="n">mg</span><span class="p">)</span> <span class="k">for</span> <span class="n">mg</span> <span class="ow">in</span> <span class="n">K</span><span class="o">.</span><span class="n">module_generators</span><span class="p">];</span> <span class="n">L</span>
<span class="go">[[], [[1], [2]]]</span>
<span class="gp">sage: </span><span class="nb">all</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">B</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">L</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Next we consider a type <span class="math">\(D_4\)</span> crystal morphism where we twist by
<span class="math">\(3 \leftrightarrow 4\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="mi">3</span><span class="p">}</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">H</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">module_generators</span><span class="p">,</span> <span class="n">automorphism</span><span class="o">=</span><span class="n">d</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[[4]]</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="go">[[-4]]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="go">[[-4]]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]))</span>
<span class="go">[[4]]</span>
</pre></div>
</div>
<p>We construct the natural virtual embedding of a type <span class="math">\(B_3\)</span> into a type
<span class="math">\(D_4\)</span> crystal:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">H</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span>
<span class="go">[&#39;B&#39;, 3] -&gt; [&#39;D&#39;, 4] Virtual Crystal morphism:</span>
<span class="go">  From: The crystal of tableaux of type [&#39;B&#39;, 3] and shape(s) [[1]]</span>
<span class="go">  To:   The crystal of tableaux of type [&#39;D&#39;, 4] and shape(s) [[2]]</span>
<span class="go">  Defn: [1] |--&gt; [1, 1]</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">B</span><span class="p">:</span> <span class="k">print</span> <span class="s2">&quot;{} |--&gt; {}&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="p">))</span>
<span class="go">[1] |--&gt; [1, 1]</span>
<span class="go">[2] |--&gt; [2, 2]</span>
<span class="go">[3] |--&gt; [3, 3]</span>
<span class="go">[0] |--&gt; [3, -3]</span>
<span class="go">[-3] |--&gt; [-3, -3]</span>
<span class="go">[-2] |--&gt; [-2, -2]</span>
<span class="go">[-1] |--&gt; [-1, -1]</span>
</pre></div>
</div>
<dl class="attribute">
<dt id="sage.categories.crystals.CrystalHomset.Element">
<tt class="descname">Element</tt><a class="headerlink" href="#sage.categories.crystals.CrystalHomset.Element" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#sage.categories.crystals.CrystalMorphismByGenerators" title="sage.categories.crystals.CrystalMorphismByGenerators"><tt class="xref py py-class docutils literal"><span class="pre">CrystalMorphismByGenerators</span></tt></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.categories.crystals.CrystalMorphism">
<em class="property">class </em><tt class="descclassname">sage.categories.crystals.</tt><tt class="descname">CrystalMorphism</tt><big>(</big><em>parent</em>, <em>cartan_type=None</em>, <em>virtualization=None</em>, <em>scaling_factors=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphism" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="morphism.html#sage.categories.morphism.Morphism" title="sage.categories.morphism.Morphism"><tt class="xref py py-class docutils literal"><span class="pre">sage.categories.morphism.Morphism</span></tt></a></p>
<p>A crystal morphism.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">parent</span></tt> &#8211; a homset</li>
<li><tt class="docutils literal"><span class="pre">cartan_type</span></tt> &#8211; (optional) a Cartan type; the default is the
Cartan type of the domain</li>
<li><tt class="docutils literal"><span class="pre">virtualization</span></tt> &#8211; (optional) a dictionary whose keys are in
the index set of the domain and whose values are lists of entries
in the index set of the codomain</li>
<li><tt class="docutils literal"><span class="pre">scaling_factors</span></tt> &#8211; (optional) a dictionary whose keys are in
the index set of the domain and whose values are scaling factors
for the weight, <span class="math">\(\varepsilon\)</span> and <span class="math">\(\varphi\)</span></li>
</ul>
<dl class="method">
<dt id="sage.categories.crystals.CrystalMorphism.cartan_type">
<tt class="descname">cartan_type</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphism.cartan_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the Cartan type of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span><span class="o">.</span><span class="n">an_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">cartan_type</span><span class="p">()</span>
<span class="go">[&#39;A&#39;, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.CrystalMorphism.is_injective">
<tt class="descname">is_injective</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphism.is_injective" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if <tt class="docutils literal"><span class="pre">self</span></tt> is an injective crystal morphism.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span><span class="o">.</span><span class="n">an_element</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_injective</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.CrystalMorphism.is_surjective">
<tt class="descname">is_surjective</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphism.is_surjective" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> is a surjective crystal morphism.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">codomain</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_surjective</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">im_gens</span> <span class="o">=</span> <span class="p">[</span><span class="bp">None</span><span class="p">,</span> <span class="n">B</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">im_gens</span><span class="p">,</span> <span class="n">codomain</span><span class="o">=</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_surjective</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">weight_lattice</span><span class="p">()</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">elementary</span><span class="o">.</span><span class="n">T</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">La</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">La</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">mg</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">B</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">T</span><span class="p">)([</span><span class="n">mg</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_surjective</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.CrystalMorphism.scaling_factors">
<tt class="descname">scaling_factors</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphism.scaling_factors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the scaling factors <span class="math">\(\gamma_i\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">scaling_factors</span><span class="p">()</span>
<span class="go">Finite family {1: 2, 2: 2, 3: 1}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.CrystalMorphism.virtualization">
<tt class="descname">virtualization</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphism.virtualization" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the virtualization sets <span class="math">\(\sigma_i\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">virtualization</span><span class="p">()</span>
<span class="go">Finite family {1: (1,), 2: (2,), 3: (3, 4)}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.categories.crystals.CrystalMorphismByGenerators">
<em class="property">class </em><tt class="descclassname">sage.categories.crystals.</tt><tt class="descname">CrystalMorphismByGenerators</tt><big>(</big><em>parent</em>, <em>on_gens</em>, <em>cartan_type=None</em>, <em>virtualization=None</em>, <em>scaling_factors=None</em>, <em>gens=None</em>, <em>check=True</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphismByGenerators" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#sage.categories.crystals.CrystalMorphism" title="sage.categories.crystals.CrystalMorphism"><tt class="xref py py-class docutils literal"><span class="pre">sage.categories.crystals.CrystalMorphism</span></tt></a></p>
<p>A crystal morphism defined by a set of generators which create a virtual
crystal inside the codomain.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">parent</span></tt> &#8211; a homset</li>
<li><tt class="docutils literal"><span class="pre">on_gens</span></tt> &#8211; a function or list that determines the image of the
generators (if given a list, then this uses the order of the
generators of the domain) of the domain under <tt class="docutils literal"><span class="pre">self</span></tt></li>
<li><tt class="docutils literal"><span class="pre">cartan_type</span></tt> &#8211; (optional) a Cartan type; the default is the
Cartan type of the domain</li>
<li><tt class="docutils literal"><span class="pre">virtualization</span></tt> &#8211; (optional) a dictionary whose keys are in
the index set of the domain and whose values are lists of entries
in the index set of the codomain</li>
<li><tt class="docutils literal"><span class="pre">scaling_factors</span></tt> &#8211; (optional) a dictionary whose keys are in
the index set of the domain and whose values are scaling factors
for the weight, <span class="math">\(\varepsilon\)</span> and <span class="math">\(\varphi\)</span></li>
<li><tt class="docutils literal"><span class="pre">gens</span></tt> &#8211; (optional) a finite list of generators to define the
morphism; the default is to use the highest weight vectors of the crystal</li>
<li><tt class="docutils literal"><span class="pre">check</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">True</span></tt>) check if the crystal morphism is valid</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last"><a class="reference internal" href="#sage.categories.crystals.Crystals.ParentMethods.crystal_morphism" title="sage.categories.crystals.Crystals.ParentMethods.crystal_morphism"><tt class="xref py py-meth docutils literal"><span class="pre">sage.categories.crystals.Crystals.ParentMethods.crystal_morphism()</span></tt></a></p>
</div>
<dl class="method">
<dt id="sage.categories.crystals.CrystalMorphismByGenerators.im_gens">
<tt class="descname">im_gens</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphismByGenerators.im_gens" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the image of the generators of <tt class="docutils literal"><span class="pre">self</span></tt> as a tuple.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">H</span><span class="p">((</span><span class="bp">None</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="bp">None</span><span class="p">),</span> <span class="n">generators</span><span class="o">=</span><span class="n">T</span><span class="o">.</span><span class="n">highest_weight_vectors</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">im_gens</span><span class="p">()</span>
<span class="go">(None, [[1, 1], [2]], [[1, 1], [2]], None)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.CrystalMorphismByGenerators.image">
<tt class="descname">image</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphismByGenerators.image" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the image of <tt class="docutils literal"><span class="pre">self</span></tt> in the codomain as a
<tt class="xref py py-class docutils literal"><span class="pre">Subcrystal</span></tt>.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This assumes that <tt class="docutils literal"><span class="pre">self</span></tt> is a strict crystal morphism.</p>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">H</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">H</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">image</span><span class="p">()</span>
<span class="go">Virtual crystal of The crystal of tableaux of type [&#39;D&#39;, 4] and shape(s) [[2]] of type [&#39;B&#39;, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.CrystalMorphismByGenerators.to_module_generator">
<tt class="descname">to_module_generator</tt><big>(</big><em>x</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.CrystalMorphismByGenerators.to_module_generator" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a generator <tt class="docutils literal"><span class="pre">mg</span></tt> and a path of <span class="math">\(e_i\)</span> and <span class="math">\(f_i\)</span> operations
to <tt class="docutils literal"><span class="pre">mg</span></tt>.</p>
<p>OUTPUT:</p>
<p>A tuple consisting of:</p>
<ul class="simple">
<li>a module generator,</li>
<li>a list of <tt class="docutils literal"><span class="pre">'e'</span></tt> and <tt class="docutils literal"><span class="pre">'f'</span></tt> to denote which operation, and</li>
<li>a list of matching indices.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">elementary</span><span class="o">.</span><span class="n">Elementary</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">module_generators</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">to_module_generator</span><span class="p">(</span><span class="n">B</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
<span class="go">(0, [&#39;f&#39;, &#39;f&#39;, &#39;f&#39;, &#39;f&#39;], [2, 2, 2, 2])</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">to_module_generator</span><span class="p">(</span><span class="n">B</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">))</span>
<span class="go">(0, [&#39;e&#39;, &#39;e&#39;], [2, 2])</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.categories.crystals.Crystals">
<em class="property">class </em><tt class="descclassname">sage.categories.crystals.</tt><tt class="descname">Crystals</tt><big>(</big><em>s=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="category_singleton.html#sage.categories.category_singleton.Category_singleton" title="sage.categories.category_singleton.Category_singleton"><tt class="xref py py-class docutils literal"><span class="pre">sage.categories.category_singleton.Category_singleton</span></tt></a></p>
<p>The category of crystals.</p>
<p>See <a class="reference external" href="../../../combinat/sage/combinat/crystals/crystals.html#module-sage.combinat.crystals.crystals" title="(in Sage Reference Manual: Combinatorics v7.1)"><tt class="xref py py-mod docutils literal"><span class="pre">sage.combinat.crystals.crystals</span></tt></a> for an introduction to crystals.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">Crystals</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">C</span>
<span class="go">Category of crystals</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">super_categories</span><span class="p">()</span>
<span class="go">[Category of... enumerated sets]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">example</span><span class="p">()</span>
<span class="go">Highest weight crystal of type A_3 of highest weight omega_1</span>
</pre></div>
</div>
<p>Parents in this category should implement the following methods:</p>
<ul class="simple">
<li>either an attribute <tt class="docutils literal"><span class="pre">_cartan_type</span></tt> or a method <tt class="docutils literal"><span class="pre">cartan_type</span></tt></li>
<li><tt class="docutils literal"><span class="pre">module_generators</span></tt>: a list (or container) of distinct elements
which generate the crystal using <span class="math">\(f_i\)</span></li>
</ul>
<p>Furthermore, their elements <tt class="docutils literal"><span class="pre">x</span></tt> should implement the following
methods:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">x.e(i)</span></tt> (returning <span class="math">\(e_i(x)\)</span>)</li>
<li><tt class="docutils literal"><span class="pre">x.f(i)</span></tt> (returning <span class="math">\(f_i(x)\)</span>)</li>
<li><tt class="docutils literal"><span class="pre">x.epsilon(i)</span></tt> (returning <span class="math">\(\varepsilon_i(x)\)</span>)</li>
<li><tt class="docutils literal"><span class="pre">x.phi(i)</span></tt> (returning <span class="math">\(\varphi_i(x)\)</span>)</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.misc.abstract_method</span> <span class="kn">import</span> <span class="n">abstract_methods_of_class</span>
<span class="gp">sage: </span><span class="n">abstract_methods_of_class</span><span class="p">(</span><span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">element_class</span><span class="p">)</span>
<span class="go">{&#39;optional&#39;: [], &#39;required&#39;: [&#39;e&#39;, &#39;epsilon&#39;, &#39;f&#39;, &#39;phi&#39;, &#39;weight&#39;]}</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">C</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">TestSuite</span><span class="p">(</span><span class="n">B</span><span class="p">)</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">verbose</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">running ._test_an_element() . . . pass</span>
<span class="go">running ._test_cardinality() . . . pass</span>
<span class="go">running ._test_category() . . . pass</span>
<span class="go">running ._test_elements() . . .</span>
<span class="go">  Running the test suite of self.an_element()</span>
<span class="go">  running ._test_category() . . . pass</span>
<span class="go">  running ._test_eq() . . . pass</span>
<span class="go">  running ._test_not_implemented_methods() . . . pass</span>
<span class="go">  running ._test_pickling() . . . pass</span>
<span class="go">  running ._test_stembridge_local_axioms() . . . pass</span>
<span class="go">  pass</span>
<span class="go">running ._test_elements_eq_reflexive() . . . pass</span>
<span class="go">running ._test_elements_eq_symmetric() . . . pass</span>
<span class="go">running ._test_elements_eq_transitive() . . . pass</span>
<span class="go">running ._test_elements_neq() . . . pass</span>
<span class="go">running ._test_enumerated_set_contains() . . . pass</span>
<span class="go">running ._test_enumerated_set_iter_cardinality() . . . pass</span>
<span class="go">running ._test_enumerated_set_iter_list() . . . pass</span>
<span class="go">running ._test_eq() . . . pass</span>
<span class="go">running ._test_fast_iter() . . . pass</span>
<span class="go">running ._test_not_implemented_methods() . . . pass</span>
<span class="go">running ._test_pickling() . . . pass</span>
<span class="go">running ._test_some_elements() . . . pass</span>
<span class="go">running ._test_stembridge_local_axioms() . . . pass</span>
</pre></div>
</div>
<dl class="class">
<dt id="sage.categories.crystals.Crystals.ElementMethods">
<em class="property">class </em><tt class="descname">ElementMethods</tt><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.Epsilon">
<tt class="descname">Epsilon</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.Epsilon" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">Epsilon</span><span class="p">()</span>
<span class="go">(0, 0, 0, 0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">Epsilon</span><span class="p">()</span>
<span class="go">(0, 0, 0, 0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">Epsilon</span><span class="p">()</span>
<span class="go">(1, 0, 0, 0, 0, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.Phi">
<tt class="descname">Phi</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.Phi" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">Phi</span><span class="p">()</span>
<span class="go">(0, 0, 0, 0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">Phi</span><span class="p">()</span>
<span class="go">(1, 0, 0, 0, 0, 0)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">Phi</span><span class="p">()</span>
<span class="go">(1, 1, 0, 0, 0, 0)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.all_paths_to_highest_weight">
<tt class="descname">all_paths_to_highest_weight</tt><big>(</big><em>index_set=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.all_paths_to_highest_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over all paths to the highest weight from <tt class="docutils literal"><span class="pre">self</span></tt>
with respect to <span class="math">\(index_set\)</span>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">index_set</span></tt> &#8211; (optional) a subset of the index set of <tt class="docutils literal"><span class="pre">self</span></tt></li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">(</span><span class="s2">&quot;A2&quot;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b0</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">b0</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">L</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">all_paths_to_highest_weight</span><span class="p">()</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">L</span><span class="p">)</span>
<span class="go">[[2, 1, 2, 1], [2, 2, 1, 1]]</span>

<span class="gp">sage: </span><span class="n">Y</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">y0</span> <span class="o">=</span> <span class="n">Y</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">y</span> <span class="o">=</span> <span class="n">y0</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">y</span><span class="o">.</span><span class="n">all_paths_to_highest_weight</span><span class="p">())</span>
<span class="go">[[0, 1, 2, 3, 2, 1, 0],</span>
<span class="go"> [0, 1, 3, 2, 2, 1, 0],</span>
<span class="go"> [0, 3, 1, 2, 2, 1, 0],</span>
<span class="go"> [0, 3, 2, 1, 1, 0, 2],</span>
<span class="go"> [0, 3, 2, 1, 1, 2, 0]]</span>

<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">(</span><span class="s2">&quot;A3&quot;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b0</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">b0</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">all_paths_to_highest_weight</span><span class="p">())</span>
<span class="go">[[1, 3, 2, 1], [3, 1, 2, 1], [3, 2, 1, 1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.cartan_type">
<tt class="descname">cartan_type</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.cartan_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Cartan type associated to <tt class="docutils literal"><span class="pre">self</span></tt></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cartan_type</span><span class="p">()</span>
<span class="go">[&#39;A&#39;, 5]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.e">
<tt class="descname">e</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.e" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <span class="math">\(e_i\)</span> of <tt class="docutils literal"><span class="pre">self</span></tt> if it exists or <tt class="docutils literal"><span class="pre">None</span></tt> otherwise.</p>
<p>This method should be implemented by the element class of
the crystal.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">C</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span> <span class="n">x</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(None, 2, None)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.e_string">
<tt class="descname">e_string</tt><big>(</big><em>list</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.e_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies <span class="math">\(e_{i_r} \cdots e_{i_1}\)</span> to self for <tt class="docutils literal"><span class="pre">list</span></tt> as
<span class="math">\([i_1, ..., i_r]\)</span></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">e_string</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">e_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.epsilon">
<tt class="descname">epsilon</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.epsilon" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.f">
<tt class="descname">f</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.f" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <span class="math">\(f_i\)</span> of <tt class="docutils literal"><span class="pre">self</span></tt> if it exists or <tt class="docutils literal"><span class="pre">None</span></tt> otherwise.</p>
<p>This method should be implemented by the element class of
the crystal.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">C</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="n">x</span>
<span class="go">2</span>
<span class="gp">sage: </span><span class="n">x</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="n">x</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">x</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">(None, 3, None)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.f_string">
<tt class="descname">f_string</tt><big>(</big><em>list</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.f_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies <span class="math">\(f_{i_r} \cdots f_{i_1}\)</span> to self for <tt class="docutils literal"><span class="pre">list</span></tt> as
<span class="math">\([i_1, ..., i_r]\)</span></p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="go">3</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.index_set">
<tt class="descname">index_set</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.index_set" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">index_set</span><span class="p">()</span>
<span class="go">(1, 2, 3, 4, 5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.is_highest_weight">
<tt class="descname">is_highest_weight</tt><big>(</big><em>index_set=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.is_highest_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> is a highest weight.
Specifying the option <tt class="docutils literal"><span class="pre">index_set</span></tt> to be a subset <span class="math">\(I\)</span> of the
index set of the underlying crystal, finds all highest
weight vectors for arrows in <span class="math">\(I\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_highest_weight</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_highest_weight</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">is_highest_weight</span><span class="p">(</span><span class="n">index_set</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.is_lowest_weight">
<tt class="descname">is_lowest_weight</tt><big>(</big><em>index_set=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.is_lowest_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> is a lowest weight.
Specifying the option <tt class="docutils literal"><span class="pre">index_set</span></tt> to be a subset <span class="math">\(I\)</span> of the
index set of the underlying crystal, finds all lowest
weight vectors for arrows in <span class="math">\(I\)</span>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">is_lowest_weight</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">is_lowest_weight</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">is_lowest_weight</span><span class="p">(</span><span class="n">index_set</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.phi">
<tt class="descname">phi</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.phi" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.phi_minus_epsilon">
<tt class="descname">phi_minus_epsilon</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.phi_minus_epsilon" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <span class="math">\(\varphi_i - \varepsilon_i\)</span> of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>There are sometimes better implementations using the
weight for this. It is used for reflections along a string.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">phi_minus_epsilon</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.s">
<tt class="descname">s</tt><big>(</big><em>i</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.s" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the reflection of <tt class="docutils literal"><span class="pre">self</span></tt> along its <span class="math">\(i\)</span>-string.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[[2, 2], [3]]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">[[1, 2], [3]]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">s</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[[1, 1, 1, 2]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.subcrystal">
<tt class="descname">subcrystal</tt><big>(</big><em>index_set=None</em>, <em>max_depth=inf</em>, <em>direction='both'</em>, <em>contained=None</em>, <em>cartan_type=None</em>, <em>category=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.subcrystal" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the subcrystal generated by <tt class="docutils literal"><span class="pre">self</span></tt> using <span class="math">\(e_i\)</span> and/or
<span class="math">\(f_i\)</span> for all <span class="math">\(i\)</span> in <tt class="docutils literal"><span class="pre">index_set</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">index_set</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">None</span></tt>) the index set; if <tt class="docutils literal"><span class="pre">None</span></tt>
then use the index set of the crystal</li>
<li><tt class="docutils literal"><span class="pre">max_depth</span></tt> &#8211; (default: infinity) the maximum depth to build</li>
<li><tt class="docutils literal"><span class="pre">direction</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">'both'</span></tt>) the direction to build
the subcrystal; it can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">'both'</span></tt> - using both <span class="math">\(e_i\)</span> and <span class="math">\(f_i\)</span></li>
<li><tt class="docutils literal"><span class="pre">'upper'</span></tt> - using <span class="math">\(e_i\)</span></li>
<li><tt class="docutils literal"><span class="pre">'lower'</span></tt> - using <span class="math">\(f_i\)</span></li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">contained</span></tt> &#8211; (optional) a set (or function) defining the
containment in the subcrystal</li>
<li><tt class="docutils literal"><span class="pre">cartan_type</span></tt> &#8211; (optional) specify the Cartan type of the
subcrystal</li>
<li><tt class="docutils literal"><span class="pre">category</span></tt> &#8211; (optional) specify the category of the subcrystal</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="#sage.categories.crystals.Crystals.ParentMethods.subcrystal" title="sage.categories.crystals.Crystals.ParentMethods.subcrystal"><tt class="xref py py-meth docutils literal"><span class="pre">Crystals.ParentMethods.subcrystal()</span></tt></a></li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">elt</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">elt</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="go">[[[1, 4]], [[2, 4]], [[1, 3]], [[2, 3]]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">elt</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[[[1, 4]], [[2, 4]], [[1, 3]]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">elt</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;upper&#39;</span><span class="p">))</span>
<span class="go">[[[1, 4]], [[1, 3]]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">elt</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">))</span>
<span class="go">[[[1, 4]], [[2, 4]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.to_highest_weight">
<tt class="descname">to_highest_weight</tt><big>(</big><em>index_set=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.to_highest_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the highest weight element <span class="math">\(u\)</span> and a list <span class="math">\([i_1,...,i_k]\)</span>
such that <span class="math">\(self = f_{i_1} ... f_{i_k} u\)</span>, where <span class="math">\(i_1,...,i_k\)</span> are
elements in <span class="math">\(index_set\)</span>. By default the index set is assumed to be
the full index set of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_highest_weight</span><span class="p">()</span>
<span class="go">[[[1]], [2, 1]]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_highest_weight</span><span class="p">()</span>
<span class="go">[[[1, 1], [2]], [1, 3, 2]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_highest_weight</span><span class="p">(</span><span class="n">index_set</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[[[1, 2], [3]], [3]]</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">K</span><span class="p">(</span><span class="n">rows</span><span class="o">=</span><span class="p">[[</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">]]);</span> <span class="n">t</span><span class="o">.</span><span class="n">to_highest_weight</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="go">[[[1], [3]], [1]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_highest_weight</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">This is not a highest weight crystals!</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.to_lowest_weight">
<tt class="descname">to_lowest_weight</tt><big>(</big><em>index_set=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.to_lowest_weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the lowest weight element <span class="math">\(u\)</span> and a list <span class="math">\([i_1,...,i_k]\)</span>
such that <span class="math">\(self = e_{i_1} ... e_{i_k} u\)</span>, where <span class="math">\(i_1,...,i_k\)</span> are
elements in <span class="math">\(index_set\)</span>. By default the index set is assumed to be
the full index set of self.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">3</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_lowest_weight</span><span class="p">()</span>
<span class="go">[[[4]], [3]]</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">rows</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">4</span><span class="p">]])</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_lowest_weight</span><span class="p">()</span>
<span class="go">[[[3, 4], [4]], [1, 2, 2, 3]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_lowest_weight</span><span class="p">(</span><span class="n">index_set</span> <span class="o">=</span> <span class="p">[</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[[[1, 2], [4]], []]</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">module_generator</span><span class="p">();</span> <span class="n">t</span>
<span class="go">[[1], [2]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_lowest_weight</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">[[[3], [4]], [2, 1, 3, 2]]</span>
<span class="gp">sage: </span><span class="n">t</span><span class="o">.</span><span class="n">to_lowest_weight</span><span class="p">()</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">This is not a highest weight crystals!</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ElementMethods.weight">
<tt class="descname">weight</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ElementMethods.weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the weight of this crystal element.</p>
<p>This method should be implemented by the element class of
the crystal.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">weight</span><span class="p">()</span>
<span class="go">(1, 0, 0, 0, 0, 0)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="sage.categories.crystals.Crystals.Finite">
<tt class="descclassname">Crystals.</tt><tt class="descname">Finite</tt><a class="headerlink" href="#sage.categories.crystals.Crystals.Finite" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="finite_crystals.html#sage.categories.finite_crystals.FiniteCrystals" title="sage.categories.finite_crystals.FiniteCrystals"><tt class="xref py py-class docutils literal"><span class="pre">FiniteCrystals</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="sage.categories.crystals.Crystals.MorphismMethods">
<em class="property">class </em><tt class="descclassname">Crystals.</tt><tt class="descname">MorphismMethods</tt><a class="headerlink" href="#sage.categories.crystals.Crystals.MorphismMethods" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="sage.categories.crystals.Crystals.MorphismMethods.is_embedding">
<tt class="descname">is_embedding</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.MorphismMethods.is_embedding" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> is an injective crystal morphism.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">codomain</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_embedding</span><span class="p">()</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">weight_lattice</span><span class="p">()</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">W</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">elementary</span><span class="o">.</span><span class="n">T</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">La</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">La</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">W</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">mg</span> <span class="o">=</span> <span class="n">T</span><span class="p">(</span><span class="n">W</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">B</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">Hom</span><span class="p">(</span><span class="n">C</span><span class="p">,</span><span class="n">T</span><span class="p">)([</span><span class="n">mg</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_embedding</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.MorphismMethods.is_isomorphism">
<tt class="descname">is_isomorphism</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.MorphismMethods.is_isomorphism" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> is a crystal isomorphism.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">codomain</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_isomorphism</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.MorphismMethods.is_strict">
<tt class="descname">is_strict</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.MorphismMethods.is_strict" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if <tt class="docutils literal"><span class="pre">self</span></tt> is a strict crystal morphism.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">1</span><span class="p">:],</span> <span class="n">codomain</span><span class="o">=</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="o">.</span><span class="n">is_strict</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.categories.crystals.Crystals.ParentMethods">
<em class="property">class </em><tt class="descclassname">Crystals.</tt><tt class="descname">ParentMethods</tt><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.Lambda">
<tt class="descname">Lambda</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.Lambda" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fundamental weights in the weight lattice
realization for the root system associated with the crystal</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">Lambda</span><span class="p">()</span>
<span class="go">Finite family {1: (1, 0, 0, 0, 0, 0), 2: (1, 1, 0, 0, 0, 0), 3: (1, 1, 1, 0, 0, 0), 4: (1, 1, 1, 1, 0, 0), 5: (1, 1, 1, 1, 1, 0)}</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.an_element">
<tt class="descname">an_element</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.an_element" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an element of <tt class="docutils literal"><span class="pre">self</span></tt></p>
<blockquote>
<div>sage: C = crystals.Letters([&#8216;A&#8217;, 5])
sage: C.an_element()
1</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.cartan_type">
<tt class="descname">cartan_type</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.cartan_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Cartan type of the crystal</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">cartan_type</span><span class="p">()</span>
<span class="go">[&#39;A&#39;, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.connected_components">
<tt class="descname">connected_components</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.connected_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the connected components of <tt class="docutils literal"><span class="pre">self</span></tt> as subcrystals.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">connected_components</span><span class="p">()</span>
<span class="go">[Subcrystal of Full tensor product of the crystals</span>
<span class="go"> [The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[2, 1]],</span>
<span class="go">  The crystal of letters for type [&#39;A&#39;, 2]],</span>
<span class="go"> Subcrystal of Full tensor product of the crystals</span>
<span class="go"> [The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[2, 1]],</span>
<span class="go">  The crystal of letters for type [&#39;A&#39;, 2]],</span>
<span class="go"> Subcrystal of Full tensor product of the crystals</span>
<span class="go"> [The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[2, 1]],</span>
<span class="go">  The crystal of letters for type [&#39;A&#39;, 2]]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.connected_components_generators">
<tt class="descname">connected_components_generators</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.connected_components_generators" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a tuple of generators for each of the connected components
of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">connected_components_generators</span><span class="p">()</span>
<span class="go">([[[1, 1], [2]], 1], [[[1, 2], [2]], 1], [[[1, 2], [3]], 1])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.crystal_morphism">
<tt class="descname">crystal_morphism</tt><big>(</big><em>on_gens</em>, <em>codomain=None</em>, <em>cartan_type=None</em>, <em>index_set=None</em>, <em>generators=None</em>, <em>automorphism=None</em>, <em>virtualization=None</em>, <em>scaling_factors=None</em>, <em>category=None</em>, <em>check=True</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.crystal_morphism" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a crystal morphism from <tt class="docutils literal"><span class="pre">self</span></tt> to another crystal
<tt class="docutils literal"><span class="pre">codomain</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">on_gens</span></tt> &#8211; a function or list that determines the image
of the generators (if given a list, then this uses the order
of the generators of the domain) of <tt class="docutils literal"><span class="pre">self</span></tt> under the
crystal morphism</li>
<li><tt class="docutils literal"><span class="pre">codomain</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">self</span></tt>) the codomain of the morphism</li>
<li><tt class="docutils literal"><span class="pre">cartan_type</span></tt> &#8211; (optional) the Cartan type of the morphism;
the default is the Cartan type of <tt class="docutils literal"><span class="pre">self</span></tt></li>
<li><tt class="docutils literal"><span class="pre">index_set</span></tt> &#8211; (optional) the index set of the morphism;
the default is the index set of the Cartan type</li>
<li><tt class="docutils literal"><span class="pre">generators</span></tt> &#8211; (optional) the generators to define the
morphism; the default is the generators of <tt class="docutils literal"><span class="pre">self</span></tt></li>
<li><tt class="docutils literal"><span class="pre">automorphism</span></tt> &#8211; (optional) the automorphism to perform the
twisting</li>
<li><tt class="docutils literal"><span class="pre">virtualization</span></tt> &#8211; (optional) a dictionary whose keys are
in the index set of the domain and whose values are lists of
entries in the index set of the codomain; the default is the
identity dictionary</li>
<li><tt class="docutils literal"><span class="pre">scaling_factors</span></tt> &#8211; (optional) a dictionary whose keys are
in the index set of the domain and whose values are scaling
factors for the weight, <span class="math">\(\varepsilon\)</span> and <span class="math">\(\varphi\)</span>; the
default are all scaling factors to be one</li>
<li><tt class="docutils literal"><span class="pre">category</span></tt> &#8211; (optional) the category for the crystal morphism;
the default is the category of <a class="reference internal" href="#sage.categories.crystals.Crystals" title="sage.categories.crystals.Crystals"><tt class="xref py py-class docutils literal"><span class="pre">Crystals</span></tt></a>.</li>
<li><tt class="docutils literal"><span class="pre">check</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">True</span></tt>) check if the crystal morphism
is valid</li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">For more examples, see
<a class="reference internal" href="#sage.categories.crystals.CrystalHomset" title="sage.categories.crystals.CrystalHomset"><tt class="xref py py-class docutils literal"><span class="pre">sage.categories.crystals.CrystalHomset</span></tt></a>.</p>
</div>
<p>EXAMPLES:</p>
<p>We construct the natural embedding of a crystal using tableaux
into the tensor product of single boxes via the reading word:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">F</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">F</span><span class="p">,</span> <span class="n">F</span><span class="p">,</span> <span class="n">F</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">mg</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">highest_weight_vectors</span><span class="p">()[</span><span class="mi">2</span><span class="p">];</span> <span class="n">mg</span>
<span class="go">[[[1]], [[2]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">([</span><span class="n">mg</span><span class="p">],</span> <span class="n">codomain</span><span class="o">=</span><span class="n">T</span><span class="p">);</span> <span class="n">psi</span>
<span class="go">[&#39;A&#39;, 2] Crystal morphism:</span>
<span class="go">  From: The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[2, 1]]</span>
<span class="go">  To:   Full tensor product of the crystals</span>
<span class="go">         [The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[1]],</span>
<span class="go">          The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[1]],</span>
<span class="go">          The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[1]]]</span>
<span class="go">  Defn: [2, 1, 1] |--&gt; [[[1]], [[2]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">b</span><span class="o">.</span><span class="n">pp</span><span class="p">()</span>
<span class="go">  1  1</span>
<span class="go">  2</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">[[[1]], [[2]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">[[[1]], [[3]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]))</span>
<span class="go">[[[2]], [[3]], [[2]]]</span>
<span class="gp">sage: </span><span class="n">lw</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">to_lowest_weight</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">lw</span><span class="o">.</span><span class="n">pp</span><span class="p">()</span>
<span class="go">  2  3</span>
<span class="go">  3</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">lw</span><span class="p">)</span>
<span class="go">[[[3]], [[3]], [[2]]]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">lw</span><span class="p">)</span> <span class="o">==</span> <span class="n">mg</span><span class="o">.</span><span class="n">to_lowest_weight</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We now take the other isomorphic highest weight component
in the tensor product:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">mg</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">highest_weight_vectors</span><span class="p">()[</span><span class="mi">1</span><span class="p">];</span> <span class="n">mg</span>
<span class="go">[[[2]], [[1]], [[1]]]</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">([</span><span class="n">mg</span><span class="p">],</span> <span class="n">codomain</span><span class="o">=</span><span class="n">T</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">lw</span><span class="p">)</span>
<span class="go">[[[3]], [[2]], [[3]]]</span>
</pre></div>
</div>
<p>We construct a crystal morphism of classical crystals using a
Kirillov-Reshetikhin crystal:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.</span><span class="n">module_generators</span>
<span class="go">[[], [[1], [2]], [[1, 1], [2, 2]]]</span>
<span class="gp">sage: </span><span class="n">v</span> <span class="o">=</span> <span class="n">K</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">([</span><span class="n">v</span><span class="p">],</span> <span class="n">codomain</span><span class="o">=</span><span class="n">K</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="n">FiniteCrystals</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">psi</span>
<span class="go">[&#39;D&#39;, 4] -&gt; [&#39;D&#39;, 4, 1] Virtual Crystal morphism:</span>
<span class="go">  From: The crystal of tableaux of type [&#39;D&#39;, 4] and shape(s) [[1, 1]]</span>
<span class="go">  To:   Kirillov-Reshetikhin crystal of type [&#39;D&#39;, 4, 1] with (r,s)=(2,2)</span>
<span class="go">  Defn: [2, 1] |--&gt; [[1], [2]]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">[[1], [2]]</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">to_lowest_weight</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
<span class="go">[[-2], [-1]]</span>
</pre></div>
</div>
<p>We can define crystal morphisms using a different set of
generators. For example, we construct an example using the
lowest weight vector:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">weight_lattice</span><span class="p">()</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">elementary</span><span class="o">.</span><span class="n">T</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">La</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">Bp</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">B</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">Bp</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">generators</span><span class="o">=</span><span class="n">Bp</span><span class="o">.</span><span class="n">lowest_weight_vectors</span><span class="p">())</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">Bp</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">())</span>
<span class="go">[[1, 1], [2]]</span>
</pre></div>
</div>
<p>We can also use a dictionary to specify the generators and
their images:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">Bp</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">({</span><span class="n">Bp</span><span class="o">.</span><span class="n">lowest_weight_vectors</span><span class="p">()[</span><span class="mi">0</span><span class="p">]:</span> <span class="n">x</span><span class="p">})</span>
<span class="gp">sage: </span><span class="n">psi</span><span class="p">(</span><span class="n">Bp</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">())</span>
<span class="go">[[1, 1], [2]]</span>
</pre></div>
</div>
<p>We construct a twisted crystal morphism induced from the diagram
automorphism of type <span class="math">\(A_3^{(1)}\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">RootSystem</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span><span class="o">.</span><span class="n">weight_lattice</span><span class="p">(</span><span class="n">extended</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B0</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">La</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B1</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">GeneralizedYoungWalls</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">La</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">phi</span> <span class="o">=</span> <span class="n">B0</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">B1</span><span class="o">.</span><span class="n">module_generators</span><span class="p">,</span> <span class="n">automorphism</span><span class="o">=</span><span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="mi">0</span><span class="p">})</span>
<span class="gp">sage: </span><span class="n">phi</span>
<span class="go">[&#39;A&#39;, 3, 1] Twisted Crystal morphism:</span>
<span class="go">  From: Highest weight crystal of generalized Young walls of Cartan type [&#39;A&#39;, 3, 1] and highest weight Lambda[0]</span>
<span class="go">  To:   Highest weight crystal of generalized Young walls of Cartan type [&#39;A&#39;, 3, 1] and highest weight Lambda[1]</span>
<span class="go">  Defn: [] |--&gt; []</span>
<span class="gp">sage: </span><span class="n">x</span> <span class="o">=</span> <span class="n">B0</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">f_string</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]);</span> <span class="n">x</span>
<span class="go">[[0, 3], [1], [2]]</span>
<span class="gp">sage: </span><span class="n">phi</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
<span class="go">[[], [1, 0], [2], [3]]</span>
</pre></div>
</div>
<p>We construct a virtual crystal morphism from type <span class="math">\(G_2\)</span> into
type <span class="math">\(D_4\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;G&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">psi</span> <span class="o">=</span> <span class="n">G</span><span class="o">.</span><span class="n">crystal_morphism</span><span class="p">(</span><span class="n">D</span><span class="o">.</span><span class="n">module_generators</span><span class="p">,</span>
<span class="go">....:                          virtualization={1:[2],2:[1,3,4]},</span>
<span class="go">....:                          scaling_factors={1:1, 2:1})</span>
<span class="gp">sage: </span><span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">G</span><span class="p">:</span>
<span class="go">....:     ascii_art(x, psi(x), sep=&#39;  |--&gt;  &#39;)</span>
<span class="go">....:     print &quot;&quot;</span>
<span class="go">             1</span>
<span class="go">  1  |--&gt;    2</span>

<span class="go">             1</span>
<span class="go">  2  |--&gt;    3</span>

<span class="go">             2</span>
<span class="go">  3  |--&gt;   -3</span>

<span class="go">             3</span>
<span class="go">  0  |--&gt;   -3</span>

<span class="go">             3</span>
<span class="go"> -3  |--&gt;   -2</span>

<span class="go">            -3</span>
<span class="go"> -2  |--&gt;   -1</span>

<span class="go">            -2</span>
<span class="go"> -1  |--&gt;   -1</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.digraph">
<tt class="descname">digraph</tt><big>(</big><em>subset=None</em>, <em>index_set=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.digraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the DiGraph associated to <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">subset</span></tt> &#8211; (optional) a subset of vertices for
which the digraph should be constructed</li>
<li><tt class="docutils literal"><span class="pre">index_set</span></tt> &#8211; (optional) the index set to draw arrows</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">digraph</span><span class="p">()</span>
<span class="go">Digraph on 6 vertices</span>
</pre></div>
</div>
<p>The edges of the crystal graph are by default colored using
blue for edge 1, red for edge 2, and green for edge 3:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">digraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">view</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">tightpage</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  <span class="c1"># optional - dot2tex graphviz, not tested (opens external window)</span>
</pre></div>
</div>
<p>One may also overwrite the colors:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">digraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">set_latex_options</span><span class="p">(</span><span class="n">color_by_label</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s2">&quot;purple&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s2">&quot;blue&quot;</span><span class="p">})</span>
<span class="gp">sage: </span><span class="n">view</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">tightpage</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  <span class="c1"># optional - dot2tex graphviz, not tested (opens external window)</span>
</pre></div>
</div>
<p>Or one may add colors to yet unspecified edges:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">digraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">cartan_type</span><span class="p">()</span><span class="o">.</span><span class="n">_index_set_coloring</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">=</span><span class="s2">&quot;purple&quot;</span>
<span class="gp">sage: </span><span class="n">view</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">tightpage</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  <span class="c1"># optional - dot2tex graphviz, not tested (opens external window)</span>
</pre></div>
</div>
<p>Here is an example of how to take the top part up to a
given depth of an infinite dimensional crystal:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">CartanType</span><span class="p">([</span><span class="s1">&#39;C&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">La</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">root_system</span><span class="p">()</span><span class="o">.</span><span class="n">weight_lattice</span><span class="p">()</span><span class="o">.</span><span class="n">fundamental_weights</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">HighestWeight</span><span class="p">(</span><span class="n">La</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">max_depth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">T</span><span class="o">.</span><span class="n">digraph</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="n">S</span><span class="p">);</span> <span class="n">G</span>
<span class="go">Digraph on 5 vertices</span>
<span class="gp">sage: </span><span class="nb">sorted</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">vertices</span><span class="p">(),</span> <span class="n">key</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>
<span class="go">[(-Lambda[0] + 2*Lambda[1] - delta,),</span>
<span class="go"> (1/2*Lambda[0] + Lambda[1] - Lambda[2] - 1/2*delta, -1/2*Lambda[0] + Lambda[1] - 1/2*delta),</span>
<span class="go"> (1/2*Lambda[0] - Lambda[1] + Lambda[2] - 1/2*delta, -1/2*Lambda[0] + Lambda[1] - 1/2*delta),</span>
<span class="go"> (Lambda[0] - 2*Lambda[1] + 2*Lambda[2] - delta,),</span>
<span class="go"> (Lambda[0],)]</span>
</pre></div>
</div>
<p>Here is a way to construct a picture of a Demazure crystal using
the <tt class="docutils literal"><span class="pre">subset</span></tt> option:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">t</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">highest_weight_vector</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">D</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">demazure_subcrystal</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">D</span><span class="p">)</span>
<span class="go">[[[1, 1], [2]], [[1, 1], [3]], [[1, 2], [2]],</span>
<span class="go"> [[1, 3], [2]], [[1, 3], [3]]]</span>
<span class="gp">sage: </span><span class="n">view</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="n">tightpage</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  <span class="c1"># optional - dot2tex graphviz, not tested (opens external window)</span>
</pre></div>
</div>
<p>We can also choose to display particular arrows using the
<tt class="docutils literal"><span class="pre">index_set</span></tt> option:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;D&#39;</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">digraph</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">G</span><span class="o">.</span><span class="n">edges</span><span class="p">())</span>
<span class="go">20</span>
<span class="gp">sage: </span><span class="n">view</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">tightpage</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>  <span class="c1"># optional - dot2tex graphviz, not tested (opens external window)</span>
</pre></div>
</div>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">Add more tests.</p>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.direct_sum">
<tt class="descname">direct_sum</tt><big>(</big><em>X</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.direct_sum" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the direct sum of <tt class="docutils literal"><span class="pre">self</span></tt> with <tt class="docutils literal"><span class="pre">X</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">direct_sum</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="go">Direct sum of the crystals Family</span>
<span class="go">(The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[2, 1]],</span>
<span class="go"> The crystal of letters for type [&#39;A&#39;, 2])</span>
</pre></div>
</div>
<p>As a shorthand, we can use <tt class="docutils literal"><span class="pre">+</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">+</span> <span class="n">C</span>
<span class="go">Direct sum of the crystals Family</span>
<span class="go">(The crystal of tableaux of type [&#39;A&#39;, 2] and shape(s) [[2, 1]],</span>
<span class="go"> The crystal of letters for type [&#39;A&#39;, 2])</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.dot_tex">
<tt class="descname">dot_tex</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.dot_tex" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dot_tex string representation of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">dot_tex</span><span class="p">()</span>
<span class="go">&#39;digraph G { \n  node [ shape=plaintext ];\n  N_0 [ label = &quot; &quot;, texlbl = &quot;$1$&quot; ];\n  N_1 [ label = &quot; &quot;, texlbl = &quot;$2$&quot; ];\n  N_2 [ label = &quot; &quot;, texlbl = &quot;$3$&quot; ];\n  N_0 -&gt; N_1 [ label = &quot; &quot;, texlbl = &quot;1&quot; ];\n  N_1 -&gt; N_2 [ label = &quot; &quot;, texlbl = &quot;2&quot; ];\n}&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.index_set">
<tt class="descname">index_set</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.index_set" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the index set of the Dynkin diagram underlying the crystal</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">index_set</span><span class="p">()</span>
<span class="go">(1, 2, 3, 4, 5)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.is_connected">
<tt class="descname">is_connected</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.is_connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Return <tt class="docutils literal"><span class="pre">True</span></tt> if <tt class="docutils literal"><span class="pre">self</span></tt> is a connected crystal.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">B</span><span class="o">.</span><span class="n">is_connected</span><span class="p">()</span>
<span class="go">True</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">is_connected</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.latex">
<tt class="descname">latex</tt><big>(</big><em>**options</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.latex" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the crystal graph as a latex string. This can be exported
to a file with self.latex_file(&#8216;filename&#8217;).</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">_latex_</span><span class="p">()</span>  <span class="c1"># optional - dot2tex graphviz</span>
<span class="go">&#39;...tikzpicture...&#39;</span>
<span class="gp">sage: </span><span class="n">view</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="n">tightpage</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span> <span class="c1"># optional - dot2tex graphviz, not tested (opens external window)</span>
</pre></div>
</div>
<p>One can for example also color the edges using the following options:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span><span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">_latex_</span><span class="p">(</span><span class="n">color_by_label</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">:</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">:</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s2">&quot;blue&quot;</span><span class="p">})</span>   <span class="c1">#optional - dot2tex graphviz</span>
<span class="go">&#39;...tikzpicture...&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.latex_file">
<tt class="descname">latex_file</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.latex_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Exports a file, suitable for pdflatex, to &#8216;filename&#8217;. This requires
a proper installation of <tt class="docutils literal"><span class="pre">dot2tex</span></tt> in sage-python. For more
information see the documentation for <tt class="docutils literal"><span class="pre">self.latex()</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">latex_file</span><span class="p">(</span><span class="s1">&#39;/tmp/test.tex&#39;</span><span class="p">)</span>  <span class="c1"># optional - dot2tex graphviz</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.metapost">
<tt class="descname">metapost</tt><big>(</big><em>filename</em>, <em>thicklines=False</em>, <em>labels=True</em>, <em>scaling_factor=1.0</em>, <em>tallness=1.0</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.metapost" title="Permalink to this definition">¶</a></dt>
<dd><p>Use C.metapost(&#8220;filename.mp&#8221;,[options]), where options can be:</p>
<p>thicklines = True (for thicker edges) labels = False (to suppress
labeling of the vertices) scaling_factor=value, where value is a
floating point number, 1.0 by default. Increasing or decreasing the
scaling factor changes the size of the image. tallness=1.0.
Increasing makes the image taller without increasing the width.</p>
<p>Root operators e(1) or f(1) move along red lines, e(2) or f(2)
along green. The highest weight is in the lower left. Vertices with
the same weight are kept close together. The concise labels on the
nodes are strings introduced by Berenstein and Zelevinsky and
Littelmann; see Littelmann&#8217;s paper Cones, Crystals, Patterns,
sections 5 and 6.</p>
<p>For Cartan types B2 or C2, the pattern has the form</p>
<p>a2 a3 a4 a1</p>
<p>where c*a2 = a3 = 2*a4 =0 and a1=0, with c=2 for B2, c=1 for C2.
Applying e(2) a1 times, e(1) a2 times, e(2) a3 times, e(1) a4 times
returns to the highest weight. (Observe that Littelmann writes the
roots in opposite of the usual order, so our e(1) is his e(2) for
these Cartan types.) For type A2, the pattern has the form</p>
<p>a3 a2 a1</p>
<p>where applying e(1) a1 times, e(2) a2 times then e(3) a1 times
returns to the highest weight. These data determine the vertex and
may be translated into a Gelfand-Tsetlin pattern or tableau.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">metapost</span><span class="p">(</span><span class="n">tmp_filename</span><span class="p">())</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">metapost</span><span class="p">(</span><span class="n">tmp_filename</span><span class="p">())</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">NotImplementedError</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.number_of_connected_components">
<tt class="descname">number_of_connected_components</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.number_of_connected_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of connected components of <tt class="docutils literal"><span class="pre">self</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">TensorProduct</span><span class="p">(</span><span class="n">B</span><span class="p">,</span><span class="n">C</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">number_of_connected_components</span><span class="p">()</span>
<span class="go">3</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.plot">
<tt class="descname">plot</tt><big>(</big><em>**options</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the plot of <tt class="docutils literal"><span class="pre">self</span></tt> as a directed graph.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">plot</span><span class="p">())</span>
<span class="go">Graphics object consisting of 17 graphics primitives</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.plot3d">
<tt class="descname">plot3d</tt><big>(</big><em>**options</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.plot3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the 3-dimensional plot of <tt class="docutils literal"><span class="pre">self</span></tt> as a directed graph.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="k">print</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">plot3d</span><span class="p">())</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.subcrystal">
<tt class="descname">subcrystal</tt><big>(</big><em>index_set=None</em>, <em>generators=None</em>, <em>max_depth=inf</em>, <em>direction='both'</em>, <em>contained=None</em>, <em>virtualization=None</em>, <em>scaling_factors=None</em>, <em>cartan_type=None</em>, <em>category=None</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.subcrystal" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the subcrystal from <tt class="docutils literal"><span class="pre">generators</span></tt> using <span class="math">\(e_i\)</span> and/or
<span class="math">\(f_i\)</span> for all <span class="math">\(i\)</span> in <tt class="docutils literal"><span class="pre">index_set</span></tt>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">index_set</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">None</span></tt>) the index set; if <tt class="docutils literal"><span class="pre">None</span></tt>
then use the index set of the crystal</li>
<li><tt class="docutils literal"><span class="pre">generators</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">None</span></tt>) the list of generators; if
<tt class="docutils literal"><span class="pre">None</span></tt> then use the module generators of the crystal</li>
<li><tt class="docutils literal"><span class="pre">max_depth</span></tt> &#8211; (default: infinity) the maximum depth to build</li>
<li><tt class="docutils literal"><span class="pre">direction</span></tt> &#8211; (default: <tt class="docutils literal"><span class="pre">'both'</span></tt>) the direction to build
the subcrystal; it can be one of the following:<ul>
<li><tt class="docutils literal"><span class="pre">'both'</span></tt> - using both <span class="math">\(e_i\)</span> and <span class="math">\(f_i\)</span></li>
<li><tt class="docutils literal"><span class="pre">'upper'</span></tt> - using <span class="math">\(e_i\)</span></li>
<li><tt class="docutils literal"><span class="pre">'lower'</span></tt> - using <span class="math">\(f_i\)</span></li>
</ul>
</li>
<li><tt class="docutils literal"><span class="pre">contained</span></tt> &#8211; (optional) a set or function defining the
containment in the subcrystal</li>
<li><tt class="docutils literal"><span class="pre">virtualization</span></tt>, <tt class="docutils literal"><span class="pre">scaling_factors</span></tt> &#8211; (optional)
dictionaries whose key <span class="math">\(i\)</span> corresponds to the sets <span class="math">\(\sigma_i\)</span>
and <span class="math">\(\gamma_i\)</span> respectively used to define virtual crystals; see
<tt class="xref py py-class docutils literal"><span class="pre">VirtualCrystal</span></tt></li>
<li><tt class="docutils literal"><span class="pre">cartan_type</span></tt> &#8211; (optional) specify the Cartan type of the
subcrystal</li>
<li><tt class="docutils literal"><span class="pre">category</span></tt> &#8211; (optional) specify the category of the subcrystal</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">]));</span> <span class="n">S</span>
<span class="go">[[[1, 1]], [[1, 2]], [[1, 3]], [[2, 2]], [[2, 3]], [[3, 3]]]</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">cardinality</span><span class="p">()</span>
<span class="go">10</span>
<span class="gp">sage: </span><span class="nb">len</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
<span class="go">6</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">generators</span><span class="o">=</span><span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)]))</span>
<span class="go">[[[1, 4]], [[2, 4]], [[1, 3]], [[2, 3]]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">generators</span><span class="o">=</span><span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)],</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="go">[[[1, 4]], [[2, 4]], [[1, 3]]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">generators</span><span class="o">=</span><span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;upper&#39;</span><span class="p">))</span>
<span class="go">[[[1, 4]], [[1, 3]]]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="n">C</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">generators</span><span class="o">=</span><span class="p">[</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)],</span> <span class="n">direction</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">))</span>
<span class="go">[[[1, 4]], [[2, 4]]]</span>

<span class="gp">sage: </span><span class="n">G</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">index_set</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">digraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">GA</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">(</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span><span class="o">.</span><span class="n">digraph</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">G</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">GA</span><span class="p">,</span> <span class="n">edge_labels</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>We construct the subcrystal which contains the necessary data
to construct the corresponding dual equivalence graph:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">5</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">is_wt0</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">all</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">epsilon</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="o">==</span> <span class="n">x</span><span class="o">.</span><span class="n">phi</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span><span class="o">.</span><span class="n">index_set</span><span class="p">())</span>
<span class="gp">sage: </span><span class="k">def</span> <span class="nf">check</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="go">....:     if is_wt0(x):</span>
<span class="go">....:         return True</span>
<span class="go">....:     for i in x.parent().index_set()[:-1]:</span>
<span class="go">....:         L = [x.e(i), x.e_string([i,i+1]), x.f(i), x.f_string([i,i+1])]</span>
<span class="go">....:         if any(y is not None and is_wt0(y) for y in L):</span>
<span class="go">....:             return True</span>
<span class="go">....:     return False</span>
<span class="gp">sage: </span><span class="n">wt0</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">C</span> <span class="k">if</span> <span class="n">is_wt0</span><span class="p">(</span><span class="n">x</span><span class="p">)]</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">contained</span><span class="o">=</span><span class="n">check</span><span class="p">,</span> <span class="n">generators</span><span class="o">=</span><span class="n">wt0</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">[[1, 3, 5], [2, 4, 6]]</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">module_generators</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">e</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">[[1, 2, 5], [3, 4, 6]]</span>
</pre></div>
</div>
<p>An example of a type <span class="math">\(B_2\)</span> virtual crystal inside of a
type <span class="math">\(A_3\)</span> ambient crystal:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">S</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">subcrystal</span><span class="p">(</span><span class="n">virtualization</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="mi">2</span><span class="p">:[</span><span class="mi">2</span><span class="p">]},</span>
<span class="go">....:                  scaling_factors={1:1,2:1}, cartan_type=[&#39;B&#39;,2])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;B&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="n">shape</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">S</span><span class="o">.</span><span class="n">digraph</span><span class="p">()</span><span class="o">.</span><span class="n">is_isomorphic</span><span class="p">(</span><span class="n">B</span><span class="o">.</span><span class="n">digraph</span><span class="p">(),</span> <span class="n">edge_labels</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.tensor">
<tt class="descname">tensor</tt><big>(</big><em>*crystals</em>, <em>**options</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.tensor" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the tensor product of <tt class="docutils literal"><span class="pre">self</span></tt> with the crystals <tt class="docutils literal"><span class="pre">B</span></tt>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">infinity</span><span class="o">.</span><span class="n">Tableaux</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">);</span> <span class="n">T</span>
<span class="go">Full tensor product of the crystals</span>
<span class="go"> [The crystal of letters for type [&#39;A&#39;, 3],</span>
<span class="go">  The crystal of letters for type [&#39;A&#39;, 3],</span>
<span class="go">  The infinity crystal of tableaux of type [&#39;A&#39;, 3]]</span>
<span class="gp">sage: </span><span class="n">tensor</span><span class="p">([</span><span class="n">C</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">B</span><span class="p">])</span> <span class="ow">is</span> <span class="n">T</span>
<span class="go">True</span>

<span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">T</span> <span class="o">=</span> <span class="n">C</span><span class="o">.</span><span class="n">tensor</span><span class="p">(</span><span class="n">C</span><span class="p">,</span> <span class="n">C</span><span class="p">,</span> <span class="n">generators</span><span class="o">=</span><span class="p">[[</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)],[</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">C</span><span class="p">(</span><span class="mi">1</span><span class="p">)]]);</span> <span class="n">T</span>
<span class="go">The tensor product of the crystals</span>
<span class="go"> [The crystal of letters for type [&#39;A&#39;, 2],</span>
<span class="go">  The crystal of letters for type [&#39;A&#39;, 2],</span>
<span class="go">  The crystal of letters for type [&#39;A&#39;, 2]]</span>
<span class="gp">sage: </span><span class="n">T</span><span class="o">.</span><span class="n">module_generators</span>
<span class="go">[[2, 1, 1], [1, 2, 1]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.ParentMethods.weight_lattice_realization">
<tt class="descname">weight_lattice_realization</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.ParentMethods.weight_lattice_realization" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the weight lattice realization used to express weights.</p>
<p>This default implementation uses the ambient space of the
root system for (non relabelled) finite types and the
weight lattice otherwise. This is a legacy from when
ambient spaces were partially implemented, and may be
changed in the future.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">C</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">Letters</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">C</span><span class="o">.</span><span class="n">weight_lattice_realization</span><span class="p">()</span>
<span class="go">Ambient space of the Root system of type [&#39;A&#39;, 5]</span>
<span class="gp">sage: </span><span class="n">K</span> <span class="o">=</span> <span class="n">crystals</span><span class="o">.</span><span class="n">KirillovReshetikhin</span><span class="p">([</span><span class="s1">&#39;A&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">K</span><span class="o">.</span><span class="n">weight_lattice_realization</span><span class="p">()</span>
<span class="go">Weight lattice of the Root system of type [&#39;A&#39;, 2, 1]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.categories.crystals.Crystals.SubcategoryMethods">
<em class="property">class </em><tt class="descclassname">Crystals.</tt><tt class="descname">SubcategoryMethods</tt><a class="headerlink" href="#sage.categories.crystals.Crystals.SubcategoryMethods" title="Permalink to this definition">¶</a></dt>
<dd><p>Methods for all subcategories.</p>
<dl class="method">
<dt id="sage.categories.crystals.Crystals.SubcategoryMethods.TensorProducts">
<tt class="descname">TensorProducts</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.SubcategoryMethods.TensorProducts" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the full subcategory of objects of <tt class="docutils literal"><span class="pre">self</span></tt> constructed
as tensor products.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<ul class="last simple">
<li><a class="reference internal" href="tensor.html#sage.categories.tensor.TensorProductsCategory" title="sage.categories.tensor.TensorProductsCategory"><tt class="xref py py-class docutils literal"><span class="pre">tensor.TensorProductsCategory</span></tt></a></li>
<li><tt class="xref py py-class docutils literal"><span class="pre">RegressiveCovariantFunctorialConstruction</span></tt>.</li>
</ul>
</div>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">HighestWeightCrystals</span><span class="p">()</span><span class="o">.</span><span class="n">TensorProducts</span><span class="p">()</span>
<span class="go">Category of tensor products of highest weight crystals</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="sage.categories.crystals.Crystals.TensorProducts">
<em class="property">class </em><tt class="descclassname">Crystals.</tt><tt class="descname">TensorProducts</tt><big>(</big><em>category</em>, <em>*args</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.TensorProducts" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="tensor.html#sage.categories.tensor.TensorProductsCategory" title="sage.categories.tensor.TensorProductsCategory"><tt class="xref py py-class docutils literal"><span class="pre">sage.categories.tensor.TensorProductsCategory</span></tt></a></p>
<p>The category of crystals constructed by tensor product of crystals.</p>
<dl class="method">
<dt id="sage.categories.crystals.Crystals.TensorProducts.extra_super_categories">
<tt class="descname">extra_super_categories</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.TensorProducts.extra_super_categories" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">TensorProducts</span><span class="p">()</span><span class="o">.</span><span class="n">extra_super_categories</span><span class="p">()</span>
<span class="go">[Category of crystals]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.example">
<tt class="descclassname">Crystals.</tt><tt class="descname">example</tt><big>(</big><em>choice='highwt'</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.example" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an example of a crystal, as per
<a class="reference internal" href="category.html#sage.categories.category.Category.example" title="sage.categories.category.Category.example"><tt class="xref py py-meth docutils literal"><span class="pre">Category.example()</span></tt></a>.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">choice</span></tt> &#8211; str [default: &#8216;highwt&#8217;]. Can be either &#8216;highwt&#8217;
for the highest weight crystal of type A, or &#8216;naive&#8217; for an
example of a broken crystal.</li>
<li><tt class="docutils literal"><span class="pre">**kwds</span></tt> &#8211; keyword arguments passed onto the constructor for the
chosen crystal.</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="n">choice</span><span class="o">=</span><span class="s1">&#39;highwt&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="go">Highest weight crystal of type A_5 of highest weight omega_1</span>
<span class="gp">sage: </span><span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">example</span><span class="p">(</span><span class="n">choice</span><span class="o">=</span><span class="s1">&#39;naive&#39;</span><span class="p">)</span>
<span class="go">A broken crystal, defined by digraph, of dimension five.</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.categories.crystals.Crystals.super_categories">
<tt class="descclassname">Crystals.</tt><tt class="descname">super_categories</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.categories.crystals.Crystals.super_categories" title="Permalink to this definition">¶</a></dt>
<dd><p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">Crystals</span><span class="p">()</span><span class="o">.</span><span class="n">super_categories</span><span class="p">()</span>
<span class="go">[Category of enumerated sets]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="coxeter_groups.html"
                                  title="previous chapter">Coxeter Groups</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="cw_complexes.html"
                                  title="next chapter">CW Complexes</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/categories/crystals.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cw_complexes.html" title="CW Complexes"
             >next</a> |</li>
        <li class="right" >
          <a href="coxeter_groups.html" title="Coxeter Groups"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">Category Framework</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>