<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Matrix Plots &mdash; Sage Reference Manual v7.1: 2D Graphics</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v7.1: 2D Graphics" href="../../index.html" />
    <link rel="next" title="Arcs of circles and ellipses" href="arc.html" />
    <link rel="prev" title="Graph Plotting" href="../graphs/graph_plot.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="arc.html" title="Arcs of circles and ellipses"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../graphs/graph_plot.html" title="Graph Plotting"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">2D Graphics</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="matrix-plots">
<span id="sage-plot-matrix-plot"></span><h1>Matrix Plots<a class="headerlink" href="#matrix-plots" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.plot.matrix_plot"></span><dl class="class">
<dt id="sage.plot.matrix_plot.MatrixPlot">
<em class="property">class </em><tt class="descclassname">sage.plot.matrix_plot.</tt><tt class="descname">MatrixPlot</tt><big>(</big><em>xy_data_array</em>, <em>xrange</em>, <em>yrange</em>, <em>options</em><big>)</big><a class="headerlink" href="#sage.plot.matrix_plot.MatrixPlot" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="primitive.html#sage.plot.primitive.GraphicPrimitive" title="sage.plot.primitive.GraphicPrimitive"><tt class="xref py py-class docutils literal"><span class="pre">sage.plot.primitive.GraphicPrimitive</span></tt></a></p>
<p>Primitive class for the matrix plot graphics type.  See
<tt class="docutils literal"><span class="pre">matrix_plot?</span></tt> for help actually doing matrix plots.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">xy_data_array</span></tt> - list of lists giving matrix values corresponding to
the grid</li>
<li><tt class="docutils literal"><span class="pre">xrange</span></tt> - tuple of 2 floats indicating range for horizontal direction
(number of columns in the matrix)</li>
<li><tt class="docutils literal"><span class="pre">yrange</span></tt> - tuple of 2 floats indicating range for vertical direction
(number of rows in the matrix)</li>
<li><tt class="docutils literal"><span class="pre">options</span></tt> - dict of valid plot options to pass to constructor</li>
</ul>
<p>EXAMPLES:</p>
<p>Note this should normally be used indirectly via <a class="reference internal" href="#sage.plot.matrix_plot.matrix_plot" title="sage.plot.matrix_plot.matrix_plot"><tt class="xref py py-func docutils literal"><span class="pre">matrix_plot()</span></tt></a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.plot.matrix_plot</span> <span class="kn">import</span> <span class="n">MatrixPlot</span>
<span class="gp">sage: </span><span class="n">M</span> <span class="o">=</span> <span class="n">MatrixPlot</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">]],(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;cmap&#39;</span><span class="p">:</span><span class="s1">&#39;winter&#39;</span><span class="p">})</span>
<span class="gp">sage: </span><span class="n">M</span>
<span class="go">MatrixPlot defined by a 2 x 2 data grid</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">yrange</span>
<span class="go">(2, 3)</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">xy_data_array</span>
<span class="go">[[1, 3], [2, 4]]</span>
<span class="gp">sage: </span><span class="n">M</span><span class="o">.</span><span class="n">options</span><span class="p">()</span>
<span class="go">{&#39;cmap&#39;: &#39;winter&#39;}</span>
</pre></div>
</div>
<p>Extra options will get passed on to <a class="reference internal" href="graphics.html#sage.plot.graphics.Graphics.show" title="sage.plot.graphics.Graphics.show"><tt class="xref py py-meth docutils literal"><span class="pre">show()</span></tt></a>, as long as they are valid:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]])</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span> <span class="c1"># These are equivalent</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>We test creating a matrix plot:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([[</span><span class="n">mod</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">5</span><span class="p">)</span><span class="o">^</span><span class="n">j</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">)]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">)])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.plot.matrix_plot.MatrixPlot.get_minmax_data">
<tt class="descname">get_minmax_data</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.plot.matrix_plot.MatrixPlot.get_minmax_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with the bounding box data.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]]))[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">sage: </span><span class="nb">list</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">get_minmax_data</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
<span class="go">[(&#39;xmax&#39;, 3.5), (&#39;xmin&#39;, -0.5), (&#39;ymax&#39;, -0.5), (&#39;ymin&#39;, 2.5)]</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.plot.matrix_plot.matrix_plot">
<tt class="descclassname">sage.plot.matrix_plot.</tt><tt class="descname">matrix_plot</tt><big>(</big><em>mat</em>, <em>origin='upper'</em>, <em>vmin=None</em>, <em>frame=True</em>, <em>axes=False</em>, <em>colorbar=False</em>, <em>aspect_ratio=1</em>, <em>subdivisions=False</em>, <em>cmap='gray'</em>, <em>ticks_integer=True</em>, <em>marker='.'</em>, <em>vmax=None</em>, <em>norm=None</em>, <em>subdivision_boundaries=None</em>, <em>subdivision_style=None</em>, <em>colorbar_orientation='vertical'</em>, <em>colorbar_format=None</em>, <em>**options</em><big>)</big><a class="headerlink" href="#sage.plot.matrix_plot.matrix_plot" title="Permalink to this definition">¶</a></dt>
<dd><p>A plot of a given matrix or 2D array.</p>
<p>If the matrix is dense, each matrix element is given a different
color value depending on its relative size compared to the other
elements in the matrix.  If the matrix is sparse, colors only
indicate whether an element is nonzero or zero, so the plot
represents the sparsity pattern of the matrix.</p>
<p>The tick marks drawn on the frame axes denote the row numbers
(vertical ticks) and the column numbers (horizontal ticks) of the
matrix.</p>
<p>INPUT:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">mat</span></tt> - a 2D matrix or array</li>
</ul>
<p>The following input must all be passed in as named parameters, if
default not used:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">cmap</span></tt> - a colormap (default: &#8216;gray&#8217;), the name of
a predefined colormap, a list of colors,
or an instance of a matplotlib Colormap.
Type: <tt class="docutils literal"><span class="pre">import</span> <span class="pre">matplotlib.cm;</span> <span class="pre">matplotlib.cm.datad.keys()</span></tt>
for available colormap names.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">colorbar</span></tt> &#8211; boolean (default: False) Show a colorbar or not (dense matrices only).</p>
<p>The following options are used to adjust the style and placement
of colorbars.  They have no effect if a colorbar is not shown.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">colorbar_orientation</span></tt> &#8211; string (default: &#8216;vertical&#8217;),
controls placement of the colorbar, can be either &#8216;vertical&#8217;
or &#8216;horizontal&#8217;</li>
<li><tt class="docutils literal"><span class="pre">colorbar_format</span></tt> &#8211; a format string, this is used to format
the colorbar labels.</li>
<li><tt class="docutils literal"><span class="pre">colorbar_options</span></tt> &#8211; a dictionary of options for the matplotlib
colorbar API.  Documentation for the <tt class="xref py py-mod docutils literal"><span class="pre">matplotlib.colorbar</span></tt> module
has details.</li>
</ul>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">norm</span></tt> - If None (default), the value range is scaled to the interval
[0,1].  If &#8216;value&#8217;, then the actual value is used with no
scaling.  A <tt class="xref py py-class docutils literal"><span class="pre">matplotlib.colors.Normalize</span></tt> instance may
also passed.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">vmin</span></tt> - The minimum value (values below this are set to this value)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">vmax</span></tt> - The maximum value (values above this are set to this value)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">origin</span></tt> - If &#8216;upper&#8217; (default), the first row of the matrix
is on the top of the graph.  If &#8216;lower&#8217;, the first row is on the
bottom of the graph.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">subdivisions</span></tt> - If True, plot the subdivisions of the matrix as lines.</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">subdivision_boundaries</span></tt> - a list of lists in the form
<tt class="docutils literal"><span class="pre">[row_subdivisions,</span> <span class="pre">column_subdivisions]</span></tt>, which specifies
the row and column subdivisions to use.  If not specified,
defaults to the matrix subdivisions</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">subdivision_style</span></tt> - a dictionary of properties passed
on to the <a class="reference internal" href="line.html#sage.plot.line.line2d" title="sage.plot.line.line2d"><tt class="xref py py-func docutils literal"><span class="pre">line2d()</span></tt></a> command for plotting
subdivisions.  If this is a two-element list or tuple, then it
specifies the styles of row and column divisions, respectively.</p>
</li>
</ul>
<p>EXAMPLES:</p>
<p>A matrix over <span class="math">\(\ZZ\)</span> colored with different grey levels:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]]))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Here we make a random matrix over <span class="math">\(\RR\)</span> and use <tt class="docutils literal"><span class="pre">cmap='hsv'</span></tt>
to color the matrix elements different RGB colors:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;hsv&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>By default, entries are scaled to the interval [0,1] before
determining colors from the color map.  That means the two plots
below are the same:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]))</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>However, we can specify which values scale to 0 or 1 with the
<tt class="docutils literal"><span class="pre">vmin</span></tt> and <tt class="docutils literal"><span class="pre">vmax</span></tt> parameters (values outside the range are
clipped).  The two plots below are now distinguished:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">Q</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">matrix</span><span class="p">(</span><span class="mi">2</span><span class="p">,[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">]),</span> <span class="n">vmin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">P</span><span class="p">;</span> <span class="n">Q</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>We can also specify a norm function of &#8216;value&#8217;, which means that
there is no scaling performed:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span><span class="o">*.</span><span class="mo">05</span><span class="p">,</span> <span class="n">norm</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="n">colorbar</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Matrix subdivisions can be plotted as well:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">subdivide</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">])</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">subdivisions</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">subdivision_style</span><span class="o">=</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="n">thickness</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>You can also specify your own subdivisions and separate styles
for row or column subdivisions:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RR</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">subdivisions</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">subdivision_boundaries</span><span class="o">=</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">]],</span> <span class="n">subdivision_style</span><span class="o">=</span><span class="p">[</span><span class="nb">dict</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="s1">&#39;red&#39;</span><span class="p">,</span><span class="n">thickness</span><span class="o">=</span><span class="mi">3</span><span class="p">),</span><span class="nb">dict</span><span class="p">(</span><span class="n">linestyle</span><span class="o">=</span><span class="s1">&#39;--&#39;</span><span class="p">,</span><span class="n">thickness</span><span class="o">=</span><span class="mi">6</span><span class="p">)])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Generally matrices are plotted with the (0,0) entry in the upper
left.  However, sometimes if we are plotting an image, we&#8217;d like
the (0,0) entry to be in the lower left.  We can do that with the
<tt class="docutils literal"><span class="pre">origin</span></tt> argument:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Another random plot, but over <span class="math">\(\GF{389}\)</span>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">389</span><span class="p">),</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Oranges&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>It also works if you lift it to the polynomial ring:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">m</span><span class="o">.</span><span class="n">change_ring</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">389</span><span class="p">)[</span><span class="s1">&#39;x&#39;</span><span class="p">]),</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Oranges&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>We have several options for colorbars:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">colorbar_orientation</span><span class="o">=</span><span class="s1">&#39;horizontal&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">50</span><span class="p">),</span> <span class="n">colorbar</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">colorbar_format</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.3f</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>The length of a color bar and the length of the adjacent
matrix plot dimension may be quite different.  This example
shows how to adjust the length of the colorbar by passing a
dictionary of options to the matplotlib colorbar routines.</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">m</span> <span class="o">=</span> <span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">80</span><span class="p">,</span> <span class="n">x</span><span class="o">=-</span><span class="mi">10</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">m</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">colorbar</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">colorbar_orientation</span><span class="o">=</span><span class="s1">&#39;vertical&#39;</span><span class="p">,</span>
<span class="go">....:        colorbar_options={&#39;shrink&#39;:0.50})</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Here we plot a random sparse matrix:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">sparse</span> <span class="o">=</span> <span class="n">matrix</span><span class="p">(</span><span class="nb">dict</span><span class="p">([((</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)),</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">xrange</span><span class="p">(</span><span class="mi">100</span><span class="p">)]))</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">sparse</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">A</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">ZZ</span><span class="p">,</span><span class="mi">100000</span><span class="p">,</span><span class="n">density</span><span class="o">=.</span><span class="mo">00001</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>As with dense matrices, sparse matrix entries are automatically
converted to floating point numbers before plotting.  Thus the
following works:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">GF</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="mi">200</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">density</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>While this returns an error:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">CDF</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">density</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">ValueError</span>: <span class="n">can not convert entries to floating point numbers</span>
</pre></div>
</div>
<p>To plot the absolute value of a complex matrix, use the
<tt class="docutils literal"><span class="pre">apply_map</span></tt> method:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">b</span><span class="o">=</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">CDF</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="n">sparse</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span><span class="n">density</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">b</span><span class="o">.</span><span class="n">apply_map</span><span class="p">(</span><span class="nb">abs</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Plotting lists of lists also works:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">]])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>As does plotting of NumPy arrays:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="kn">import</span> <span class="nn">numpy</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>A plot title can be added to the matrix plot.:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">origin</span><span class="o">=</span><span class="s1">&#39;lower&#39;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;not identity&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>The title position is adjusted upwards if the <tt class="docutils literal"><span class="pre">origin</span></tt> keyword is set
to <tt class="docutils literal"><span class="pre">&quot;upper&quot;</span></tt> (this is the default).:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">identity_matrix</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span> <span class="n">title</span><span class="o">=</span><span class="s1">&#39;identity&#39;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>TESTS:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span><span class="o">.&lt;</span><span class="n">t</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">RR</span><span class="p">[]</span>
<span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">P</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">cannot coerce nonconstant polynomial to float</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">mat must be a Matrix or a two dimensional array</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">([[</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span><span class="p">),</span> <span class="n">cos</span><span class="p">(</span><span class="n">x</span><span class="p">)],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]])</span>
<span class="gt">Traceback (most recent call last):</span>
<span class="c">...</span>
<span class="gr">TypeError</span>: <span class="n">mat must be a Matrix or a two dimensional array</span>
</pre></div>
</div>
<p>Test that sparse matrices also work with subdivisions:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">matrix_plot</span><span class="p">(</span><span class="n">sparse</span><span class="p">,</span> <span class="n">subdivisions</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">subdivision_boundaries</span><span class="o">=</span><span class="p">[[</span><span class="mi">2</span><span class="p">,</span><span class="mi">4</span><span class="p">],[</span><span class="mi">6</span><span class="p">,</span><span class="mi">8</span><span class="p">]])</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Test that matrix plots have aspect ratio one (see <a class="reference external" href="http://trac.sagemath.org/15315">trac ticket #15315</a>):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">sage: </span><span class="n">P</span> <span class="o">=</span> <span class="n">matrix_plot</span><span class="p">(</span><span class="n">random_matrix</span><span class="p">(</span><span class="n">RDF</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="gp">sage: </span><span class="n">P</span><span class="o">.</span><span class="n">aspect_ratio</span><span class="p">()</span>
<span class="go">1</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="../graphs/graph_plot.html"
                                  title="previous chapter">Graph Plotting</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="arc.html"
                                  title="next chapter">Arcs of circles and ellipses</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/plot/matrix_plot.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="arc.html" title="Arcs of circles and ellipses"
             >next</a> |</li>
        <li class="right" >
          <a href="../graphs/graph_plot.html" title="Graph Plotting"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">2D Graphics</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>