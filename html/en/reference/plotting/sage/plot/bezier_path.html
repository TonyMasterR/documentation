<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Bezier Paths &mdash; Sage Reference Manual v6.6: 2D Graphics</title>
    
    <link rel="stylesheet" href="../../../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '6.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../../../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="top" title="Sage Reference Manual v6.6: 2D Graphics" href="../../index.html" />
    <link rel="next" title="Circles" href="circle.html" />
    <link rel="prev" title="Bar Charts" href="bar_chart.html" />
    <link rel="icon" href="../../../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="circle.html" title="Circles"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="bar_chart.html" title="Bar Charts"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">2D Graphics</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="bezier-paths">
<span id="sage-plot-bezier-path"></span><h1>Bezier Paths<a class="headerlink" href="#bezier-paths" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-sage.plot.bezier_path"></span><dl class="class">
<dt id="sage.plot.bezier_path.BezierPath">
<em class="property">class </em><tt class="descclassname">sage.plot.bezier_path.</tt><tt class="descname">BezierPath</tt><big>(</big><em>path</em>, <em>options</em><big>)</big><a class="headerlink" href="#sage.plot.bezier_path.BezierPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="primitive.html#sage.plot.primitive.GraphicPrimitive_xydata" title="sage.plot.primitive.GraphicPrimitive_xydata"><tt class="xref py py-class docutils literal"><span class="pre">sage.plot.primitive.GraphicPrimitive_xydata</span></tt></a></p>
<p>Path of Bezier Curves graphics primitive.</p>
<p>The input to this constructor is a list of curves, each a list of points,
along which to create the curves, along with a dict of any options passed.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="kn">from</span> <span class="nn">sage.plot.bezier_path</span> <span class="kn">import</span> <span class="n">BezierPath</span>
<span class="gp">sage: </span><span class="n">BezierPath</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="o">.</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)],[(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]],{</span><span class="s">&#39;linestyle&#39;</span><span class="p">:</span><span class="s">&#39;dashed&#39;</span><span class="p">})</span>
<span class="go">Bezier path from (0, 0) to (0, 0)</span>
</pre></div>
</div>
<p>We use <a class="reference internal" href="#sage.plot.bezier_path.bezier_path" title="sage.plot.bezier_path.bezier_path"><tt class="xref py py-func docutils literal"><span class="pre">bezier_path()</span></tt></a> to actually plot Bezier curves:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">bezier_path</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="o">.</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)],[(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]],</span><span class="n">linestyle</span><span class="o">=</span><span class="s">&quot;dashed&quot;</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<dl class="method">
<dt id="sage.plot.bezier_path.BezierPath.get_minmax_data">
<tt class="descname">get_minmax_data</tt><big>(</big><big>)</big><a class="headerlink" href="#sage.plot.bezier_path.BezierPath.get_minmax_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary with the bounding box data.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">bezier_path</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="o">.</span><span class="mi">5</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)],[(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">)]])</span>
<span class="gp">sage: </span><span class="n">d</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">get_minmax_data</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="s">&#39;xmin&#39;</span><span class="p">]</span>
<span class="go">0.0</span>
<span class="gp">sage: </span><span class="n">d</span><span class="p">[</span><span class="s">&#39;xmax&#39;</span><span class="p">]</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="sage.plot.bezier_path.BezierPath.plot3d">
<tt class="descname">plot3d</tt><big>(</big><em>z=0</em>, <em>**kwds</em><big>)</big><a class="headerlink" href="#sage.plot.bezier_path.BezierPath.plot3d" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a 3D plot (Jmol) of the Bezier path.  Since a <tt class="docutils literal"><span class="pre">BezierPath</span></tt>
primitive contains only <span class="math">\(x,y\)</span> coordinates, the path will be drawn in
some plane (default is <span class="math">\(z=0\)</span>).  To create a Bezier path with nonzero
(and nonidentical) <span class="math">\(z\)</span> coordinates in the path and control points, use
the function <a class="reference external" href="../../../plot3d/sage/plot/plot3d/shapes2.html#sage.plot.plot3d.shapes2.bezier3d" title="(in Sage Reference Manual: 3D Graphics v6.6)"><tt class="xref py py-func docutils literal"><span class="pre">bezier3d()</span></tt></a> instead of
<a class="reference internal" href="#sage.plot.bezier_path.bezier_path" title="sage.plot.bezier_path.bezier_path"><tt class="xref py py-func docutils literal"><span class="pre">bezier_path()</span></tt></a>.</p>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">bezier_path</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)]])</span>
<span class="gp">sage: </span><span class="n">A</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">plot3d</span><span class="p">()</span>
<span class="gp">sage: </span><span class="n">B</span> <span class="o">=</span> <span class="n">b</span><span class="o">.</span><span class="n">plot3d</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">A</span><span class="o">+</span><span class="n">B</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">bezier3d</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)]])</span>
<span class="go">Graphics3d Object</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="sage.plot.bezier_path.bezier_path">
<tt class="descclassname">sage.plot.bezier_path.</tt><tt class="descname">bezier_path</tt><big>(</big><em>path</em>, <em>rgbcolor=(0</em>, <em>0</em>, <em>0)</em>, <em>thickness=1</em>, <em>zorder=2</em>, <em>alpha=1</em>, <em>linestyle='solid'</em>, <em>fill=False</em>, <em>**options</em><big>)</big><a class="headerlink" href="#sage.plot.bezier_path.bezier_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Graphics object of a Bezier path corresponding to the
path parameter.  The path is a list of curves, and each curve is
a list of points.  Each point is a tuple <tt class="docutils literal"><span class="pre">(x,y)</span></tt>.</p>
<p>The first curve contains the endpoints as the first and last point
in the list.  All other curves assume a starting point given by the
last entry in the preceding list, and take the last point in the list
as their opposite endpoint.  A curve can have 0, 1 or 2 control points
listed between the endpoints.  In the input example for path below,
the first and second curves have 2 control points, the third has one,
and the fourth has no control points:</p>
<p>path = [[p1, c1, c2, p2], [c3, c4, p3], [c5, p4], [p5], ...]</p>
<p>In the case of no control points, a straight line will be drawn
between the two endpoints.  If one control point is supplied, then
the curve at each of the endpoints will be tangent to the line from
that endpoint to the control point.  Similarly, in the case of two
control points, at each endpoint the curve will be tangent to the line
connecting that endpoint with the control point immediately after or
immediately preceding it in the list.</p>
<p>So in our example above, the curve between p1 and p2 is tangent to the
line through p1 and c1 at p1, and tangent to the line through p2 and c2
at p2.  Similarly, the curve between p2 and p3 is tangent to line(p2,c3)
at p2 and tangent to line(p3,c4) at p3.  Curve(p3,p4) is tangent to
line(p3,c5) at p3 and tangent to line(p4,c5) at p4.  Curve(p4,p5) is a
straight line.</p>
<p>INPUT:</p>
<ul>
<li><p class="first"><tt class="docutils literal"><span class="pre">path</span></tt> &#8211; a list of lists of tuples (see above)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">alpha</span></tt> &#8211; default: 1</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">fill</span></tt> &#8211; default: False</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">thickness</span></tt> &#8211; default: 1</p>
</li>
<li><dl class="first docutils">
<dt><tt class="docutils literal"><span class="pre">linestyle</span></tt> &#8211; default: <tt class="docutils literal"><span class="pre">'solid'</span></tt>, The style of the line, which is one</dt>
<dd><p class="first last">of <tt class="docutils literal"><span class="pre">'dashed'</span></tt>, <tt class="docutils literal"><span class="pre">'dotted'</span></tt>, <tt class="docutils literal"><span class="pre">'solid'</span></tt>, <tt class="docutils literal"><span class="pre">'dashdot'</span></tt>, or <tt class="docutils literal"><span class="pre">'--'</span></tt>,
<tt class="docutils literal"><span class="pre">':'</span></tt>, <tt class="docutils literal"><span class="pre">'-'</span></tt>, <tt class="docutils literal"><span class="pre">'-.'</span></tt>, respectively.</p>
</dd>
</dl>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">rbgcolor</span></tt> &#8211; default: (0,0,0)</p>
</li>
<li><p class="first"><tt class="docutils literal"><span class="pre">zorder</span></tt> &#8211; the layer in which to draw</p>
</li>
</ul>
<p>EXAMPLES:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">path</span> <span class="o">=</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="o">.</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">75</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)],[(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">)],[(</span><span class="o">.</span><span class="mi">2</span><span class="p">,</span><span class="o">.</span><span class="mi">5</span><span class="p">)]]</span>
<span class="gp">sage: </span><span class="n">b</span> <span class="o">=</span> <span class="n">bezier_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">rgbcolor</span><span class="o">=</span><span class="s">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">b</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>To construct a simple curve, create a list containing a single list:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">path</span> <span class="o">=</span> <span class="p">[[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)]]</span>
<span class="gp">sage: </span><span class="n">curve</span> <span class="o">=</span> <span class="n">bezier_path</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">linestyle</span><span class="o">=</span><span class="s">&#39;dashed&#39;</span><span class="p">,</span> <span class="n">rgbcolor</span><span class="o">=</span><span class="s">&#39;green&#39;</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">curve</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
</pre></div>
</div>
<p>Extra options will get passed on to <a class="reference internal" href="graphics.html#sage.plot.graphics.Graphics.show" title="sage.plot.graphics.Graphics.show"><tt class="xref py py-meth docutils literal"><span class="pre">show()</span></tt></a>, as long as they are valid:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">bezier_path</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)]],</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
<span class="go">Graphics object consisting of 1 graphics primitive</span>
<span class="gp">sage: </span><span class="n">bezier_path</span><span class="p">([[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span><span class="mi">0</span><span class="p">),(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">)]])</span><span class="o">.</span><span class="n">show</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span> <span class="c"># These are equivalent</span>
</pre></div>
</div>
<p>TESTS:</p>
<p>We shouldn&#8217;t modify our argument, <a class="reference external" href="http://trac.sagemath.org/13822">trac ticket #13822</a>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">sage: </span><span class="n">bp</span> <span class="o">=</span> <span class="p">[[(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">),(</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)],</span> <span class="p">[(</span><span class="mi">4</span><span class="p">,</span><span class="mi">4</span><span class="p">),(</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">)]]</span>
<span class="gp">sage: </span><span class="n">foo</span> <span class="o">=</span> <span class="n">bezier_path</span><span class="p">(</span><span class="n">bp</span><span class="p">)</span>
<span class="gp">sage: </span><span class="n">bp</span>
<span class="go">[[(1, 1), (2, 3), (3, 3)], [(4, 4), (5, 5)]]</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="bar_chart.html"
                                  title="previous chapter">Bar Charts</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="circle.html"
                                  title="next chapter">Circles</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../../_sources/sage/plot/bezier_path.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../../../search.html" method="get">
                <input type="text" name="q" size="18" />
               <!-- The shading of the "Go" button should be consistent -->
               <!-- with the colour of the header and footer. See the file -->
               <!-- doc/common/themes/sage/theme.conf for colours used by -->
               <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="circle.html" title="Circles"
             >next</a> |</li>
        <li class="right" >
          <a href="bar_chart.html" title="Bar Charts"
             >previous</a> |</li>
  
    
      <a href="../../../../index.html"><img src="../../../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../../index.html">2D Graphics</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>