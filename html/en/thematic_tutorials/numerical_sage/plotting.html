<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Plotting &mdash; Thematic Tutorials v7.0</title>
    
    <link rel="stylesheet" href="../_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="../_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="top" title="Thematic Tutorials v7.0" href="../index.html" />
    <link rel="up" title="Visualization" href="visualization.html" />
    <link rel="next" title="Three Lectures about Explicit Methods in Number Theory Using Sage" href="../explicit_methods_in_number_theory/index.html" />
    <link rel="prev" title="Installing Visualization Software on OS X" href="installation_osx.html" />
    <link rel="icon" href="../_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../explicit_methods_in_number_theory/index.html" title="Three Lectures about Explicit Methods in Number Theory Using Sage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation_osx.html" title="Installing Visualization Software on OS X"
             accesskey="P">previous</a> |</li>
  
    
      <a href="../../index.html"><img src="../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../index.html">Thematic Tutorials v7.0</a> &raquo;</li>

          <li><a href="../toctree.html" >Thematic tutorial document tree</a> &raquo;</li>
          <li><a href="index.html" >Numerical Computing with Sage</a> &raquo;</li>
          <li><a href="visualization.html" accesskey="U">Visualization</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="plotting">
<h1>Plotting<a class="headerlink" href="#plotting" title="Permalink to this headline">Â¶</a></h1>
<p>We will plot a surface two ways. First we will use easyviz.
Consider the following code:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">from</span> <span class="nn">scitools</span> <span class="kn">import</span> <span class="n">easyviz</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="n">xx</span><span class="p">,</span><span class="n">yy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">xx</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">yy</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.01</span>
<span class="n">zz</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="n">r</span>
<span class="n">easyviz</span><span class="o">.</span><span class="n">surfc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">zz</span><span class="p">)</span>
</pre></div>
</div>
<p>The function surfc takes a list of x coordinates, and y coordinates
and a numpy array z. Its plots a surface that has height z[i,j] at
the point (x[i],y[i]). Note the use of meshgrid, and vectorized
numpy functions that let us evaluate
<span class="math">\(\frac{\sin(\sqrt{x^2+y^2})+1}{\sqrt{x^2+y^2}+1}\)</span> over the
grid very easily. We discussed meshgrid at the beginning when we
were talking about numpy. Note that you can drag the plot around
with your mouse and look at it from different angles.</p>
<p>We can make this plot look a bit nicer by adding some shading and
nicer coloring and some labels as follows.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span>
<span class="n">RealNumber</span><span class="o">=</span><span class="nb">float</span>
<span class="n">Integer</span> <span class="o">=</span><span class="nb">int</span>
<span class="kn">from</span> <span class="nn">scitools</span> <span class="kn">import</span> <span class="n">easyviz</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="n">xx</span><span class="p">,</span><span class="n">yy</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">meshgrid</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">xx</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">yy</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mf">0.01</span>
<span class="n">zz</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="n">r</span>
<span class="n">l</span> <span class="o">=</span> <span class="n">easyviz</span><span class="o">.</span><span class="n">Light</span><span class="p">(</span><span class="n">lightpos</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="n">lightcolor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">easyviz</span><span class="o">.</span><span class="n">surfc</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">zz</span><span class="p">,</span><span class="n">shading</span><span class="o">=</span><span class="s">&#39;interp&#39;</span><span class="p">,</span><span class="n">colormap</span><span class="o">=</span><span class="n">easyviz</span><span class="o">.</span><span class="n">jet</span><span class="p">(),</span>
          <span class="n">zmin</span><span class="o">=-</span><span class="mf">0.5</span><span class="p">,</span><span class="n">zmax</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">clevels</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
          <span class="n">title</span><span class="o">=</span><span class="s">&#39;r=sqrt(x**2+y**2)+eps</span><span class="se">\n</span><span class="s">sin(r)/r&#39;</span><span class="p">,</span>
          <span class="n">light</span><span class="o">=</span><span class="n">l</span><span class="p">,</span>
          <span class="n">legend</span><span class="o">=</span><span class="s">&#39;sin&#39;</span><span class="p">,</span>
          <span class="p">)</span>
</pre></div>
</div>
<p>Let us now try to plot some vector fields. Consider the following
code</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">from</span> <span class="nn">scitools</span> <span class="kn">import</span> <span class="n">easyviz</span>
<span class="n">RealNumber</span><span class="o">=</span><span class="nb">float</span>
<span class="n">Integer</span><span class="o">=</span><span class="nb">int</span>
<span class="n">j</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">complex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">w</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">u</span><span class="o">=</span><span class="n">w</span><span class="o">+</span><span class="mf">1.0</span>
<span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">zz</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">mgrid</span><span class="p">[</span><span class="o">-</span><span class="mf">1.0</span><span class="p">:</span><span class="mf">1.0</span><span class="p">:</span><span class="mi">5</span><span class="o">*</span><span class="n">j</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="o">*</span><span class="n">j</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">5</span><span class="o">*</span><span class="n">j</span><span class="p">]</span>
<span class="n">easyviz</span><span class="o">.</span><span class="n">quiver3</span><span class="p">(</span><span class="n">xx</span><span class="p">,</span><span class="n">yy</span><span class="p">,</span><span class="n">zz</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">w</span><span class="p">,</span><span class="n">u</span><span class="p">)</span>
</pre></div>
</div>
<p>This should plot a vector field that points up everywhere. The
arguments to quiver3 are 6, <span class="math">\(n\times n\times n\)</span> arrays. The
first three arrays are the location of the vectors, that is there
will be a vector at <span class="math">\((xx[i,j,k],yy[i,j,k],zz[i,j,k])\)</span> for
<span class="math">\(0\le i,j,k &lt; n\)</span>. The second three arrays are the
directions, i.e., the vector at
<span class="math">\((xx[i,j,k],yy[i,j,k],zz[i,j,k])\)</span> points in the direction
<span class="math">\((w[i,j,k],w[i,j,k],u[i,j,k])\)</span>.</p>
<p>Now let us give some examples with MayaVi. First lets see how to
plot a function like we did with easyviz.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">from</span> <span class="nn">mayavi.tools</span> <span class="kn">import</span> <span class="n">imv</span>
<span class="n">x</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="o">-</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="o">.</span><span class="mi">2</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="n">r</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">x</span><span class="o">**</span><span class="mi">2</span><span class="o">+</span><span class="n">y</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span><span class="o">+.</span><span class="mo">01</span>
    <span class="k">return</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">/</span><span class="n">r</span>
<span class="n">imv</span><span class="o">.</span><span class="n">surf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">x</span><span class="p">,</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
<p>This will open mayavi, and display the plot of the function. The
first two arguments to surf are arrays <span class="math">\(x\)</span> and <span class="math">\(y\)</span>,
s.t. the function will be evaluated at <span class="math">\((x[i],y[j])\)</span>. The
last argument is the function to graph. It probably looks a bit
different than the easyviz example. Lets try to make it look
similar to the easyviz example. First note that on the left there
is a list of filters and modules. Double-click the warpscalars
button in the filters menu, and change the scale factor from
<span class="math">\(1\)</span> to say <span class="math">\(5\)</span>. This should redraw the graph
similar to how easyviz drew it. There are quite a few other options
you can play around with. For example, next click on the module
surfacemap, and you will see you can make the graph transparent by
changing the opacity. You can also change it to a wireframe or make
it plot contours.</p>
<p>TODO: More examples</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Previous topic</h4>
            <p class="topless"><a href="installation_osx.html"
                                  title="previous chapter">Installing Visualization Software on OS X</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="../explicit_methods_in_number_theory/index.html"
                                  title="next chapter">Three Lectures about Explicit Methods in Number Theory Using Sage</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../_sources/numerical_sage/plotting.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <!-- The shading of the "Go" button should be consistent -->
                <!-- with the colour of the header and footer. See the file -->
                <!-- doc/common/themes/sage/theme.conf for colours used by -->
                <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../explicit_methods_in_number_theory/index.html" title="Three Lectures about Explicit Methods in Number Theory Using Sage"
             >next</a> |</li>
        <li class="right" >
          <a href="installation_osx.html" title="Installing Visualization Software on OS X"
             >previous</a> |</li>
  
    
      <a href="../../index.html"><img src="../_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="../index.html">Thematic Tutorials v7.0</a> &raquo;</li>

          <li><a href="../toctree.html" >Thematic tutorial document tree</a> &raquo;</li>
          <li><a href="index.html" >Numerical Computing with Sage</a> &raquo;</li>
          <li><a href="visualization.html" >Visualization</a> &raquo;</li> 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2016, The Sage Development Team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>