<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Utiliser SageTeX &mdash; Tutoriel Sage v6.9</title>
    
    <link rel="stylesheet" href="_static/sage.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '6.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <script type="text/javascript" src="_static/translations.js"></script>
    <script type="text/javascript" src="_static/MathJax.js?config=TeX-AMS_HTML-full,../mathjax_sage.js"></script>
    <link rel="shortcut icon" href="_static/favicon.ico"/>
    <link rel="top" title="Tutoriel Sage v6.9" href="index.html" />
    <link rel="next" title="Postface" href="afterword.html" />
    <link rel="prev" title="Programmation" href="programming.html" />
    <link rel="icon" href="_static/sageicon.png" type="image/x-icon" />

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="afterword.html" title="Postface"
             accesskey="N">suivant</a> |</li>
        <li class="right" >
          <a href="programming.html" title="Programmation"
             accesskey="P">précédent</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="index.html">Tutoriel Sage v6.9</a> &raquo;</li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="utiliser-sagetex">
<span id="sec-sagetex"></span><h1>Utiliser SageTeX<a class="headerlink" href="#utiliser-sagetex" title="Lien permanent vers ce titre">¶</a></h1>
<p>Le paquet SageTeX permet d&#8217;inclure dans un document LaTeX les résultats
de calculs effectués avec Sage. Il est fourni avec Sage, mais pour
l&#8217;utiliser, vous aurez besoin de l&#8217;ajouter à votre installation TeX.
Cette opération se résume à copier un fichier ; voyez la section
<a class="reference internal" href="introduction.html#installation"><em>Installation</em></a> du présent tutoriel ainsi que &#8220;Make SageTeX known to
TeX&#8221; dans le guide d&#8217;installation de Sage (<a class="reference external" href="http://sagemath.org/doc/installation/">Sage installation guide</a>, <a class="reference external" href="../../en/installation/index.html">ce lien</a> devrait conduire à une copie
locale) pour plus de détails.</p>
<p>Voici un bref exemple d&#8217;utilisation de SageTeX. La documentation
complète se trouve dans
<tt class="docutils literal"><span class="pre">SAGE_ROOT/local/share/texmf/tex/generic/sagetex</span></tt>, où <tt class="docutils literal"><span class="pre">SAGE_ROOT</span></tt>
désigne le répertoire racine de votre installation Sage. Elle est
accompagnée d&#8217;un fichier exemple et de scripts Python potentiellement
utiles.</p>
<p>Pour essayer SageTeX, suivez les instructions d&#8217;installation puis copiez
le texte suivant dans un fichier <tt class="docutils literal"><span class="pre">st_example.tex</span></tt>:</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Attention, tel qu&#8217;il est affiché dans la version interactive de
l&#8217;aide de Sage, l&#8217;exemple suivant provoque des erreurs lors de la
compilation par LaTeX. Consultez la version statique de la
documentation pour voir le texte correct.</p>
</div>
<div class="highlight-latex"><div class="highlight"><pre><span class="k">\documentclass</span><span class="nb">{</span>article<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[T1]</span><span class="nb">{</span>fontenc<span class="nb">}</span>
<span class="k">\usepackage</span><span class="na">[frenchb]</span><span class="nb">{</span>babel<span class="nb">}</span>
<span class="k">\usepackage</span><span class="nb">{</span>sagetex<span class="nb">}</span>

<span class="k">\begin</span><span class="nb">{</span>document<span class="nb">}</span>

Sage<span class="k">\TeX</span><span class="nb">{}</span> permet de faire des calculs avec Sage en pla<span class="k">\,</span>cant
automatiquement les r<span class="k">\&#39;</span>esultats dans un document <span class="k">\LaTeX</span>.
Par exemple, l&#39;entier <span class="s">$</span><span class="m">1269</span><span class="s">$</span> admet
<span class="s">$</span><span class="nv">\sage</span><span class="nb">{number_of_partitions</span><span class="o">(</span><span class="m">1269</span><span class="o">)</span><span class="nb">}</span><span class="s">$</span> partitions. Le r<span class="k">\&#39;</span>esultat de ce
calcul est affich<span class="k">\&#39;</span>e sans que vous ayez <span class="k">\`</span>a le calculer
vous-m<span class="k">\^</span>eme ou m<span class="k">\^</span>eme <span class="k">\`</span>a le copier-coller dans votre document.

Un peu de code Sage :

<span class="k">\begin</span><span class="nb">{</span>sageblock<span class="nb">}</span>
    f(x) = exp(x) * sin(2*x)
<span class="k">\end</span><span class="nb">{</span>sageblock<span class="nb">}</span>

La d<span class="k">\&#39;</span>eriv<span class="k">\&#39;</span>ee seconde de <span class="s">$</span><span class="nb">f</span><span class="s">$</span> est

<span class="sb">\[</span><span class="nb"></span>
<span class="nb">  </span><span class="nv">\frac</span><span class="nb">{</span><span class="nv">\mathrm</span><span class="nb">{d}^{</span><span class="m">2</span><span class="nb">}}{</span><span class="nv">\mathrm</span><span class="nb">{d}x^{</span><span class="m">2</span><span class="nb">}} </span><span class="nv">\sage</span><span class="nb">{f</span><span class="o">(</span><span class="nb">x</span><span class="o">)</span><span class="nb">} </span><span class="o">=</span><span class="nb"></span>
<span class="nb">  </span><span class="nv">\sage</span><span class="nb">{diff</span><span class="o">(</span><span class="nb">f, x, </span><span class="m">2</span><span class="o">)(</span><span class="nb">x</span><span class="o">)</span><span class="nb">}.</span>
<span class="s">\]</span>

Voici enfin le graphe de <span class="s">$</span><span class="nb">f</span><span class="s">$</span> sur <span class="s">$</span><span class="o">[-</span><span class="m">1</span><span class="nb">,</span><span class="m">1</span><span class="o">]</span><span class="s">$</span>:

<span class="k">\sageplot</span><span class="nb">{</span>plot(f, -1, 1)<span class="nb">}</span>

<span class="k">\end</span><span class="nb">{</span>document<span class="nb">}</span>
</pre></div>
</div>
<p>Lancez LaTeX pour compiler <tt class="docutils literal"><span class="pre">st_example.tex</span></tt> comme à l&#8217;accoutumée.
LaTeX va afficher un certain nombre de messages d&#8217;avertissement, dont:</p>
<div class="highlight-python"><div class="highlight"><pre>Package sagetex Warning: Graphics file
sage-plots-for-st_example.tex/plot-0.pdf on page 1 does not exist.
Plot command is on input line 30.

Package sagetex Warning: There were undefined Sage formulas and/or
plots. Run Sage on st_example.sage, and then run LaTeX on
st_example.tex again.
</pre></div>
</div>
<p>En plus des fichiers habituellement produits par LaTeX, le répertoire où
vous travaillez contient maintenant un fichier <tt class="docutils literal"><span class="pre">st_example.sage</span></tt>. Il
s&#8217;agit d&#8217;un script Sage produit par la compilation du fichier LaTeX.
L&#8217;avertissement précédent vous demande de lancer Sage sur
<tt class="docutils literal"><span class="pre">st_example.sage</span></tt>, faites-le. Un nouveau message vous demande de
relancer LaTeX sur <tt class="docutils literal"><span class="pre">st_example.tex</span></tt>, mais avant de le faire, observez
qu&#8217;un nouveau fichier <tt class="docutils literal"><span class="pre">st_example.sout</span></tt> a été créé. C&#8217;est ce fichier
qui contient le résultat des calculs effectués par Sage, dans un format
que LaTeX est capable de lire pour insérer les résultats dans votre
document. Un nouveau répertoire contenant un fichier EPS avec votre
graphique est également apparu. Après une nouvelle exécution de LaTeX,
les résultats des commandes Sage sont présents dans votre document
compilé.</p>
<p>Les macros LaTeX utilisées dans l&#8217;exemple ci-dessus ne sont guère
compliquées à comprendre. Un environnement <tt class="docutils literal"><span class="pre">sageblock</span></tt> compose le code
qu&#8217;il contient verbatim, et le fait exécuter par Sage. Avec
<tt class="docutils literal"><span class="pre">\sage{toto}</span></tt>, le résultat placé dans votre document est celui de la
commande Sage <tt class="docutils literal"><span class="pre">latex(toto)</span></tt>. Les commandes de tracé de graphiques sont
un peu plus compliquées. L&#8217;exemple ci-dessus utilise la forme la plus
simple, <tt class="docutils literal"><span class="pre">\sageplot{toto}</span></tt>, qui insère dans le document l&#8217;image obtenue
sous Sage par <tt class="docutils literal"><span class="pre">toto.save('fichier.eps')</span></tt>.</p>
<p>Pour utiliser SageTeX, la procédure est donc la suivante :</p>
<blockquote>
<div><ul class="simple">
<li>lancez LaTeX sur votre fichier .tex ;</li>
<li>lancez Sage sur le fichier .sage produit pas LaTeX ;</li>
<li>lancez LaTeX une seconde fois.</li>
</ul>
</div></blockquote>
<p>(Il n&#8217;est pas nécessaire de lancer Sage si vous recompilez un document
LaTeX sans avoir modifié les commandes Sage qu&#8217;il contient depuis la
compilation précédente.)</p>
<p>SageTeX offre bien d&#8217;autres possibilités. Puisque Sage
comme LaTeX sont des outils complexes et puissants, le mieux est sans
doute de consulter la documentation complète de SageTeX, qui se trouve
dans <tt class="docutils literal"><span class="pre">SAGE_ROOT/local/share/texmf/tex/generic/sagetex</span></tt>.</p>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h4>Sujet précédent</h4>
            <p class="topless"><a href="programming.html"
                                  title="Chapitre précédent">Programmation</a></p>
            <h4>Sujet suivant</h4>
            <p class="topless"><a href="afterword.html"
                                  title="Chapitre suivant">Postface</a></p>
            <h3>Cette page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/sagetex.txt"
                     rel="nofollow">Montrer la source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Recherche rapide</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <!-- The shading of the "Go" button should be consistent -->
                <!-- with the colour of the header and footer. See the file -->
                <!-- doc/common/themes/sage/theme.conf for colours used by -->
                <!-- the Sage theme. -->
                <input type="submit" style="background-color: #B8B9F6" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Saisissez un mot clef ou un nom de module, classe ou fonction.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="Index général"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Index des modules Python"
             >modules</a> |</li>
        <li class="right" >
          <a href="afterword.html" title="Postface"
             >suivant</a> |</li>
        <li class="right" >
          <a href="programming.html" title="Programmation"
             >précédent</a> |</li>
  
    
      <a href="../index.html"><img src="_static/sagelogo.png" style="vertical-align: middle" title="Sage Logo"></a>
    
  
  
        <li><a href="index.html">Tutoriel Sage v6.9</a> &raquo;</li>
 
      </ul>
    </div>
    
    <div class="footer">
        &copy; Copyright 2005--2015, The Sage Development Team.
      Créé avec <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
    <script type="text/javascript">
/*global jQuery, window */
/* Sphinx sidebar toggle.  Putting this code at the end of the body
 * enables the toggle for the live, static, and offline docs.  Note:
 * sage.misc.html.math_parse() eats jQuery's dollar-sign shortcut. */
var jq = jQuery;
jq(document).ready(function () {
    var bar, bod, bg, fg, key, tog, wid_old, wid_new, resize, get_state, set_state;
    bod = jq('div.bodywrapper');
    bar = jq('div.sphinxsidebar');
    tog = jq('<div class="sphinxsidebartoggle"></div>');

    /* Delayed resize helper.  Not perfect but good enough. */
    resize = function () {
        setTimeout(function () {
            tog.height(bod.height());
        }, 100);
    };
    jq(window).resize(function () {
        resize();
    });

    /* Setup and add the toggle. See Sphinx v0.5.1 default.css. */
    fg = jq('div.sphinxsidebar p a').css('color') || 'rgb(152, 219, 204)';
    bg = jq('div.document').css('background-color') || 'rgb(28, 78, 99)';
    wid_old = '230px';
    wid_new = '5px';
    tog.css('background-color', bg)
        .css('border-width', '0px')
        .css('border-right', wid_new + ' ridge ' + bg)
        .css('cursor', 'pointer')
        .css('position', 'absolute')
        .css('left', '-' + wid_new)
        .css('top', '0px')
        .css('width', wid_new);
    bod.css('position', 'relative');
    bod.prepend(tog);
    resize();

    /* Cookie helpers. */
    key = 'sphinxsidebar=';
    set_state = function (s) {
        var date = new Date();
        /* Expiry in 7 days. */
        date.setTime(date.getTime() + (7 * 24 * 3600 * 1000));
        document.cookie = key + encodeURIComponent(s) + '; expires=' +
            date.toUTCString() + '; path=/';
    };
    get_state = function () {
        var i, c, crumbs = document.cookie.split(';');
        for (i = 0; i < crumbs.length; i += 1) {
            c = crumbs[i].replace(/^\s+/, '');
            if (c.indexOf(key) === 0) {
                return decodeURIComponent(c.substring(key.length, c.length));
            }
        }
        return null;
    };

    /* Event handlers. */
    tog.mouseover(function (ev) {
        tog.css('border-right-color', fg);
    }).mouseout(function (ev) {
        tog.css('border-right-color', bg);
    }).click(function (ev) {
        if (bod.hasClass('wide')) {
            bod.removeClass('wide');
            bod.css('margin-left', wid_old);
            bar.css('width', wid_old);
            bar.show();
            set_state('visible');
        } else {
            set_state('hidden');
            bar.hide();
            bar.css('width', '0px');
            bod.css('margin-left', wid_new);
            bod.addClass('wide');
        }
        resize();
    });

    /* Hide the normally visible sidebar? */
    if (get_state() === 'hidden') {
        tog.trigger('click');
    } else {
        set_state('visible');
    }
});
    </script>
  </body>
</html>